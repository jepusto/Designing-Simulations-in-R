<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Case study: Cronbach Alpha | Designing Monte Carlo Simulations in R</title>
  <meta name="description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Case study: Cronbach Alpha | Designing Monte Carlo Simulations in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  <meta name="github-repo" content="jepusto/Designing-Simulations-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Case study: Cronbach Alpha | Designing Monte Carlo Simulations in R" />
  
  <meta name="twitter:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  

<meta name="author" content="James E. Pustejovsky and Luke W. Miratrix" />


<meta name="date" content="2022-05-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="performance-criteria.html"/>
<link rel="next" href="ensuring-reproducibility.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Designing Simulations in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#some-of-simulations-many-uses"><i class="fa fa-check"></i><b>1.1</b> Some of simulation’s many uses</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#comparing-statistical-approaches"><i class="fa fa-check"></i><b>1.1.1</b> Comparing statistical approaches</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#assessing-performance-of-complex-pipelines"><i class="fa fa-check"></i><b>1.1.2</b> Assessing performance of complex pipelines</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#assessing-performance-under-misspecification"><i class="fa fa-check"></i><b>1.1.3</b> Assessing performance under misspecification</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#assessing-the-finite-sample-performance-of-a-statistical-approach"><i class="fa fa-check"></i><b>1.1.4</b> Assessing the finite sample performance of a statistical approach</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#conducting-power-analyses"><i class="fa fa-check"></i><b>1.1.5</b> Conducting Power Analyses</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#simulating-processess"><i class="fa fa-check"></i><b>1.1.6</b> Simulating processess</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#the-perils-of-simulation-as-evidence"><i class="fa fa-check"></i><b>1.2</b> The perils of simulation as evidence</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-r-and-rstudio"><i class="fa fa-check"></i><b>1.3</b> Why R and RStudio?</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#functions"><i class="fa fa-check"></i><b>1.3.1</b> Functions</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#a-dangerous-function"><i class="fa fa-check"></i><b>1.3.2</b> A dangerous function</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#function-skeletons"><i class="fa fa-check"></i><b>1.3.3</b> Function skeletons</a></li>
<li class="chapter" data-level="1.3.4" data-path="index.html"><a href="index.html#pipe-dreams"><i class="fa fa-check"></i><b>1.3.4</b> <code>%&gt;%</code> (Pipe) dreams</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="an-initial-simulation.html"><a href="an-initial-simulation.html"><i class="fa fa-check"></i><b>2</b> An initial simulation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="an-initial-simulation.html"><a href="an-initial-simulation.html#simulation-for-a-single-scenario"><i class="fa fa-check"></i><b>2.1</b> Simulation for a single scenario</a></li>
<li class="chapter" data-level="2.2" data-path="an-initial-simulation.html"><a href="an-initial-simulation.html#simulating-across-different-scenarios"><i class="fa fa-check"></i><b>2.2</b> Simulating across different scenarios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html"><i class="fa fa-check"></i><b>3</b> Structure of a simulation study</a>
<ul>
<li class="chapter" data-level="3.1" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#general-structure-of-a-simulation"><i class="fa fa-check"></i><b>3.1</b> General structure of a simulation</a></li>
<li class="chapter" data-level="3.2" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#tidy-simulations"><i class="fa fa-check"></i><b>3.2</b> Tidy simulations</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#data-generating-model"><i class="fa fa-check"></i><b>3.2.1</b> Data-generating model</a></li>
<li class="chapter" data-level="3.2.2" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#estimation-methods"><i class="fa fa-check"></i><b>3.2.2</b> Estimation methods</a></li>
<li class="chapter" data-level="3.2.3" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#repetition"><i class="fa fa-check"></i><b>3.2.3</b> Repetition</a></li>
<li class="chapter" data-level="3.2.4" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#performance-summaries"><i class="fa fa-check"></i><b>3.2.4</b> Performance summaries</a></li>
<li class="chapter" data-level="3.2.5" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#results"><i class="fa fa-check"></i><b>3.2.5</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#multiple-scenarios"><i class="fa fa-check"></i><b>3.3</b> Multiple Scenarios</a></li>
<li class="chapter" data-level="3.4" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#keeping-the-pieces-organized"><i class="fa fa-check"></i><b>3.4</b> Keeping the pieces organized</a></li>
<li class="chapter" data-level="3.5" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#further-readings-resources"><i class="fa fa-check"></i><b>3.5</b> Further readings &amp; resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="case_ANOVA.html"><a href="case_ANOVA.html"><i class="fa fa-check"></i><b>4</b> Case Study: Heteroskedastic ANOVA</a>
<ul>
<li class="chapter" data-level="4.1" data-path="case_ANOVA.html"><a href="case_ANOVA.html#the-data-generating-model"><i class="fa fa-check"></i><b>4.1</b> The data-generating model</a></li>
<li class="chapter" data-level="4.2" data-path="case_ANOVA.html"><a href="case_ANOVA.html#the-estimation-procedures"><i class="fa fa-check"></i><b>4.2</b> The estimation procedures</a></li>
<li class="chapter" data-level="4.3" data-path="case_ANOVA.html"><a href="case_ANOVA.html#replication"><i class="fa fa-check"></i><b>4.3</b> Replication</a></li>
<li class="chapter" data-level="4.4" data-path="case_ANOVA.html"><a href="case_ANOVA.html#calculating-rejection-rates"><i class="fa fa-check"></i><b>4.4</b> Calculating rejection rates</a></li>
<li class="chapter" data-level="4.5" data-path="case_ANOVA.html"><a href="case_ANOVA.html#exAnovaExercises"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-generating-models.html"><a href="data-generating-models.html"><i class="fa fa-check"></i><b>5</b> Data-generating models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-generating-models.html"><a href="data-generating-models.html#computational-efficiency-versus-simplicity"><i class="fa fa-check"></i><b>5.1</b> Computational efficiency versus simplicity</a></li>
<li class="chapter" data-level="5.2" data-path="data-generating-models.html"><a href="data-generating-models.html#checking-the-data-generating-function"><i class="fa fa-check"></i><b>5.2</b> Checking the data-generating function</a></li>
<li class="chapter" data-level="5.3" data-path="data-generating-models.html"><a href="data-generating-models.html#exercises"><i class="fa fa-check"></i><b>5.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-generating-models.html"><a href="data-generating-models.html#shifted-and-scaled-t-distribution"><i class="fa fa-check"></i><b>5.3.1</b> Shifted-and-scaled t distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="estimation-procedures.html"><a href="estimation-procedures.html"><i class="fa fa-check"></i><b>6</b> Estimation procedures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="estimation-procedures.html"><a href="estimation-procedures.html#further-notes-on-computational-efficiency"><i class="fa fa-check"></i><b>6.1</b> Further notes on computational efficiency</a></li>
<li class="chapter" data-level="6.2" data-path="estimation-procedures.html"><a href="estimation-procedures.html#checking-the-estimation-function"><i class="fa fa-check"></i><b>6.2</b> Checking the estimation function</a></li>
<li class="chapter" data-level="6.3" data-path="estimation-procedures.html"><a href="estimation-procedures.html#exercises-1"><i class="fa fa-check"></i><b>6.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="estimation-procedures.html"><a href="estimation-procedures.html#adding-the-bff-test"><i class="fa fa-check"></i><b>6.3.1</b> Adding the BFF* test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="performance-criteria.html"><a href="performance-criteria.html"><i class="fa fa-check"></i><b>7</b> Performance criteria</a>
<ul>
<li class="chapter" data-level="7.1" data-path="performance-criteria.html"><a href="performance-criteria.html#inference-vs.-estimation"><i class="fa fa-check"></i><b>7.1</b> Inference vs. Estimation</a></li>
<li class="chapter" data-level="7.2" data-path="performance-criteria.html"><a href="performance-criteria.html#evaluation-of-estimation-methods"><i class="fa fa-check"></i><b>7.2</b> Evaluation of Estimation Methods</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-actual-properties"><i class="fa fa-check"></i><b>7.2.1</b> Assessing actual properties</a></li>
<li class="chapter" data-level="7.2.2" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-estimated-properties"><i class="fa fa-check"></i><b>7.2.2</b> Assessing estimated properties</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-point-estimator"><i class="fa fa-check"></i><b>7.3</b> Assessing a point estimator</a></li>
<li class="chapter" data-level="7.4" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-standard-error-estimator"><i class="fa fa-check"></i><b>7.4</b> Assessing a standard error estimator</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="performance-criteria.html"><a href="performance-criteria.html#why-not-assess-widehatse-directly"><i class="fa fa-check"></i><b>7.4.1</b> Why not assess <span class="math inline">\(widehat{SE}\)</span> directly?</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-hypothesis-testing-procedure"><i class="fa fa-check"></i><b>7.5</b> Assessing a hypothesis testing procedure</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="performance-criteria.html"><a href="performance-criteria.html#validity"><i class="fa fa-check"></i><b>7.5.1</b> Validity</a></li>
<li class="chapter" data-level="7.5.2" data-path="performance-criteria.html"><a href="performance-criteria.html#power"><i class="fa fa-check"></i><b>7.5.2</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-confidence-intervals"><i class="fa fa-check"></i><b>7.6</b> Assessing confidence intervals</a></li>
<li class="chapter" data-level="7.7" data-path="performance-criteria.html"><a href="performance-criteria.html#uncertainty-in-our-performance-estimates-the-mcse"><i class="fa fa-check"></i><b>7.7</b> Uncertainty in our performance estimates (the MCSE)</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="performance-criteria.html"><a href="performance-criteria.html#mcse-for-variance-estimators"><i class="fa fa-check"></i><b>7.7.1</b> MCSE for variance estimators</a></li>
<li class="chapter" data-level="7.7.2" data-path="performance-criteria.html"><a href="performance-criteria.html#the-simhelpers-package-and-mcses"><i class="fa fa-check"></i><b>7.7.2</b> The simhelpers package and MCSEs</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="performance-criteria.html"><a href="performance-criteria.html#absolute-vs.-relative-performance-measures"><i class="fa fa-check"></i><b>7.8</b> Absolute vs. relative performance measures</a></li>
<li class="chapter" data-level="7.9" data-path="performance-criteria.html"><a href="performance-criteria.html#exercises-simulating-cronbachs-alpha"><i class="fa fa-check"></i><b>7.9</b> Exercises: Simulating Cronbach’s alpha</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="performance-criteria.html"><a href="performance-criteria.html#the-data-generating-function"><i class="fa fa-check"></i><b>7.9.1</b> The data-generating function</a></li>
<li class="chapter" data-level="7.9.2" data-path="performance-criteria.html"><a href="performance-criteria.html#the-estimation-function"><i class="fa fa-check"></i><b>7.9.2</b> The estimation function</a></li>
<li class="chapter" data-level="7.9.3" data-path="performance-criteria.html"><a href="performance-criteria.html#replicates"><i class="fa fa-check"></i><b>7.9.3</b> Replicates</a></li>
<li class="chapter" data-level="7.9.4" data-path="performance-criteria.html"><a href="performance-criteria.html#estimator-performance"><i class="fa fa-check"></i><b>7.9.4</b> Estimator performance</a></li>
<li class="chapter" data-level="7.9.5" data-path="performance-criteria.html"><a href="performance-criteria.html#confidence-interval-coverage"><i class="fa fa-check"></i><b>7.9.5</b> Confidence interval coverage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="case_Cronbach.html"><a href="case_Cronbach.html"><i class="fa fa-check"></i><b>8</b> Case study: Cronbach Alpha</a>
<ul>
<li class="chapter" data-level="8.1" data-path="case_Cronbach.html"><a href="case_Cronbach.html#data-generating-model-1"><i class="fa fa-check"></i><b>8.1</b> Data-generating model</a></li>
<li class="chapter" data-level="8.2" data-path="case_Cronbach.html"><a href="case_Cronbach.html#estimation-procedures-1"><i class="fa fa-check"></i><b>8.2</b> Estimation procedures</a></li>
<li class="chapter" data-level="8.3" data-path="case_Cronbach.html"><a href="case_Cronbach.html#performance-calculations"><i class="fa fa-check"></i><b>8.3</b> Performance calculations</a></li>
<li class="chapter" data-level="8.4" data-path="case_Cronbach.html"><a href="case_Cronbach.html#simulation-driver"><i class="fa fa-check"></i><b>8.4</b> Simulation driver</a></li>
<li class="chapter" data-level="8.5" data-path="case_Cronbach.html"><a href="case_Cronbach.html#running-the-simulation"><i class="fa fa-check"></i><b>8.5</b> Running the simulation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html"><i class="fa fa-check"></i><b>9</b> Ensuring reproducibility</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html#seeds-and-pseudo-random-number-generators"><i class="fa fa-check"></i><b>9.1</b> Seeds and pseudo-random number generators</a></li>
<li class="chapter" data-level="9.2" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html#including-seed-in-our-simulation-driver"><i class="fa fa-check"></i><b>9.2</b> Including seed in our simulation driver</a></li>
<li class="chapter" data-level="9.3" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html#reasons-for-setting-the-seed"><i class="fa fa-check"></i><b>9.3</b> Reasons for setting the seed</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="index.html"><a href="index.html#functions"><i class="fa fa-check"></i><b>10</b> More on functions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>10.1</b> Default arguments for functions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="case_cluster.html"><a href="case_cluster.html"><i class="fa fa-check"></i><b>11</b> Case study: A simulation with clustered data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="case_cluster.html"><a href="case_cluster.html#a-design-decision-what-do-we-want-to-manipulate"><i class="fa fa-check"></i><b>11.1</b> A design decision: What do we want to manipulate?</a></li>
<li class="chapter" data-level="11.2" data-path="case_cluster.html"><a href="case_cluster.html#a-mathematical-model-for-cluster-randomized-data"><i class="fa fa-check"></i><b>11.2</b> A mathematical model for cluster-randomized data</a></li>
<li class="chapter" data-level="11.3" data-path="case_cluster.html"><a href="case_cluster.html#multilevel-data-generation-is-a-recipe-using-a-statistical-model"><i class="fa fa-check"></i><b>11.3</b> Multilevel data generation is a recipe using a statistical model</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="case_cluster.html"><a href="case_cluster.html#generating-the-multisite-data"><i class="fa fa-check"></i><b>11.3.1</b> Generating the multisite data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="case_cluster.html"><a href="case_cluster.html#analyzing-our-data"><i class="fa fa-check"></i><b>11.4</b> Analyzing our data</a></li>
<li class="chapter" data-level="11.5" data-path="case_cluster.html"><a href="case_cluster.html#the-simulation"><i class="fa fa-check"></i><b>11.5</b> The simulation</a></li>
<li class="chapter" data-level="11.6" data-path="case_cluster.html"><a href="case_cluster.html#analysis-of-our-single-scenario"><i class="fa fa-check"></i><b>11.6</b> Analysis of our single scenario</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="case_cluster.html"><a href="case_cluster.html#are-the-estimators-biased"><i class="fa fa-check"></i><b>11.6.1</b> Are the estimators biased?</a></li>
<li class="chapter" data-level="11.6.2" data-path="case_cluster.html"><a href="case_cluster.html#which-method-has-the-smallest-standard-error"><i class="fa fa-check"></i><b>11.6.2</b> Which method has the smallest standard error?</a></li>
<li class="chapter" data-level="11.6.3" data-path="case_cluster.html"><a href="case_cluster.html#which-method-has-the-smallest-root-mean-squared-error"><i class="fa fa-check"></i><b>11.6.3</b> Which method has the smallest Root Mean Squared Error?</a></li>
<li class="chapter" data-level="11.6.4" data-path="case_cluster.html"><a href="case_cluster.html#do-the-methods-have-correctly-estimated-standard-errors"><i class="fa fa-check"></i><b>11.6.4</b> Do the methods have correctly estimated standard errors?</a></li>
<li class="chapter" data-level="11.6.5" data-path="case_cluster.html"><a href="case_cluster.html#did-we-have-enough-simulation-trials"><i class="fa fa-check"></i><b>11.6.5</b> Did we have enough simulation trials?</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="case_cluster.html"><a href="case_cluster.html#extending-to-a-multifactor-simulation"><i class="fa fa-check"></i><b>11.7</b> Extending to a multifactor simulation</a></li>
<li class="chapter" data-level="11.8" data-path="case_cluster.html"><a href="case_cluster.html#standardization-in-a-data-generating-process"><i class="fa fa-check"></i><b>11.8</b> Standardization in a data generating process</a></li>
<li class="chapter" data-level="11.9" data-path="case_cluster.html"><a href="case_cluster.html#making-analyze_data-quiet"><i class="fa fa-check"></i><b>11.9</b> Making analyze_data() quiet</a></li>
<li class="chapter" data-level="11.10" data-path="case_cluster.html"><a href="case_cluster.html#where-to-compute-performance-measures-inside-vs.-outside"><i class="fa fa-check"></i><b>11.10</b> Where to compute performance measures: inside vs. outside?</a></li>
<li class="chapter" data-level="11.11" data-path="case_cluster.html"><a href="case_cluster.html#run-the-simulation"><i class="fa fa-check"></i><b>11.11</b> Run the simulation</a></li>
<li class="chapter" data-level="11.12" data-path="case_cluster.html"><a href="case_cluster.html#analyzing-our-results"><i class="fa fa-check"></i><b>11.12</b> Analyzing our results</a>
<ul>
<li class="chapter" data-level="11.12.1" data-path="case_cluster.html"><a href="case_cluster.html#checking-on-convergence-issues"><i class="fa fa-check"></i><b>11.12.1</b> Checking on convergence issues</a></li>
<li class="chapter" data-level="11.12.2" data-path="case_cluster.html"><a href="case_cluster.html#calculating-standard-metrics"><i class="fa fa-check"></i><b>11.12.2</b> Calculating standard metrics</a></li>
<li class="chapter" data-level="11.12.3" data-path="case_cluster.html"><a href="case_cluster.html#bias-analysis"><i class="fa fa-check"></i><b>11.12.3</b> Bias analysis</a></li>
</ul></li>
<li class="chapter" data-level="11.13" data-path="case_cluster.html"><a href="case_cluster.html#exercises-2"><i class="fa fa-check"></i><b>11.13</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html"><i class="fa fa-check"></i><b>12</b> Error trapping and other headaches</a>
<ul>
<li class="chapter" data-level="12.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#safe_code"><i class="fa fa-check"></i><b>12.1</b> Safe code</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#what-to-do-with-warnings"><i class="fa fa-check"></i><b>12.1.1</b> What to do with warnings</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#saving-files-and-results"><i class="fa fa-check"></i><b>12.2</b> Saving files and results</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#saving-simulations-as-you-go"><i class="fa fa-check"></i><b>12.2.1</b> Saving simulations as you go</a></li>
<li class="chapter" data-level="12.2.2" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#dynamically-making-directories"><i class="fa fa-check"></i><b>12.2.2</b> Dynamically making directories</a></li>
<li class="chapter" data-level="12.2.3" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#loading-and-combining-files-of-simulation-results"><i class="fa fa-check"></i><b>12.2.3</b> Loading and combining files of simulation results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exp_design.html"><a href="exp_design.html"><i class="fa fa-check"></i><b>13</b> Designing the multifactor simulation experiment</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exp_design.html"><a href="exp_design.html#choosing-parameter-combinations"><i class="fa fa-check"></i><b>13.1</b> Choosing parameter combinations</a></li>
<li class="chapter" data-level="13.2" data-path="exp_design.html"><a href="exp_design.html#using-pmap-to-run-multifactor-simulations"><i class="fa fa-check"></i><b>13.2</b> Using pmap to run multifactor simulations</a></li>
<li class="chapter" data-level="13.3" data-path="exp_design.html"><a href="exp_design.html#keeping-things-organized-and-the-source-command"><i class="fa fa-check"></i><b>13.3</b> Keeping things organized and the source command</a></li>
<li class="chapter" data-level="13.4" data-path="exp_design.html"><a href="exp_design.html#analyzing-results-from-a-multifactor-experiment"><i class="fa fa-check"></i><b>13.4</b> Analyzing results from a multifactor experiment</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exp_design.html"><a href="exp_design.html#bundling"><i class="fa fa-check"></i><b>13.4.1</b> Bundling</a></li>
<li class="chapter" data-level="13.4.2" data-path="exp_design.html"><a href="exp_design.html#aggregation"><i class="fa fa-check"></i><b>13.4.2</b> Aggregation</a></li>
<li class="chapter" data-level="13.4.3" data-path="exp_design.html"><a href="exp_design.html#regression-summarization"><i class="fa fa-check"></i><b>13.4.3</b> Regression Summarization</a></li>
<li class="chapter" data-level="13.4.4" data-path="exp_design.html"><a href="exp_design.html#focus-on-subset-kick-rest-to-supplement"><i class="fa fa-check"></i><b>13.4.4</b> Focus on subset, kick rest to supplement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html"><i class="fa fa-check"></i><b>14</b> Case study: A simulation to compare different estimators</a>
<ul>
<li class="chapter" data-level="14.1" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#the-data-generating-process"><i class="fa fa-check"></i><b>14.1</b> The data generating process</a></li>
<li class="chapter" data-level="14.2" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#the-data-analysis-methods"><i class="fa fa-check"></i><b>14.2</b> The data analysis methods</a></li>
<li class="chapter" data-level="14.3" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#the-simulation-itself"><i class="fa fa-check"></i><b>14.3</b> The simulation itself</a></li>
<li class="chapter" data-level="14.4" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#calculating-performance-measures-for-all-our-estimators"><i class="fa fa-check"></i><b>14.4</b> Calculating performance measures for all our estimators</a></li>
<li class="chapter" data-level="14.5" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#improving-the-visualization-of-the-results"><i class="fa fa-check"></i><b>14.5</b> Improving the visualization of the results</a></li>
<li class="chapter" data-level="14.6" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#extension-the-bias-variance-tradeoff"><i class="fa fa-check"></i><b>14.6</b> Extension: The Bias-variance tradeoff</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="parallel-processing.html"><a href="parallel-processing.html"><i class="fa fa-check"></i><b>15</b> Parallel Processing</a>
<ul>
<li class="chapter" data-level="15.1" data-path="parallel-processing.html"><a href="parallel-processing.html#parallel-on-your-computer"><i class="fa fa-check"></i><b>15.1</b> Parallel on your computer</a></li>
<li class="chapter" data-level="15.2" data-path="parallel-processing.html"><a href="parallel-processing.html#parallel-off-your-computer"><i class="fa fa-check"></i><b>15.2</b> Parallel off your computer</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="parallel-processing.html"><a href="parallel-processing.html#what-is-a-command-line-interface"><i class="fa fa-check"></i><b>15.2.1</b> What is a command-line interface?</a></li>
<li class="chapter" data-level="15.2.2" data-path="parallel-processing.html"><a href="parallel-processing.html#running-a-job-on-a-cluster"><i class="fa fa-check"></i><b>15.2.2</b> Running a job on a cluster</a></li>
<li class="chapter" data-level="15.2.3" data-path="parallel-processing.html"><a href="parallel-processing.html#checking-on-a-job"><i class="fa fa-check"></i><b>15.2.3</b> Checking on a job</a></li>
<li class="chapter" data-level="15.2.4" data-path="parallel-processing.html"><a href="parallel-processing.html#running-lots-of-jobs-on-a-cluster"><i class="fa fa-check"></i><b>15.2.4</b> Running lots of jobs on a cluster</a></li>
<li class="chapter" data-level="15.2.5" data-path="parallel-processing.html"><a href="parallel-processing.html#resources-for-harvards-odyssey"><i class="fa fa-check"></i><b>15.2.5</b> Resources for Harvard’s Odyssey</a></li>
<li class="chapter" data-level="15.2.6" data-path="parallel-processing.html"><a href="parallel-processing.html#acknowledgements"><i class="fa fa-check"></i><b>15.2.6</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><i class="fa fa-check"></i><b>16</b> Case study: The Power and Validity of Neyman’s ATE Estimate</a>
<ul>
<li class="chapter" data-level="16.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#step-1-write-a-function-for-a-specific-simulation-given-specific-parameters."><i class="fa fa-check"></i><b>16.1</b> Step 1: Write a function for a specific simulation given specific parameters.</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#running-our-single-trial-more-than-once"><i class="fa fa-check"></i><b>16.1.1</b> Running our single trial more than once</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#step-2-make-a-dataframe-of-all-experimental-combinations-desired"><i class="fa fa-check"></i><b>16.2</b> Step 2: Make a dataframe of all experimental combinations desired</a></li>
<li class="chapter" data-level="16.3" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#step-3-explore-results"><i class="fa fa-check"></i><b>16.3</b> Step 3: Explore results</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#visualizing-experimental-results"><i class="fa fa-check"></i><b>16.3.1</b> Visualizing experimental results</a></li>
<li class="chapter" data-level="16.3.2" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#looking-at-main-effects"><i class="fa fa-check"></i><b>16.3.2</b> Looking at main effects</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#addendum-saving-more-details"><i class="fa fa-check"></i><b>16.4</b> Addendum: Saving more details</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#getting-results-ready-for-analysis"><i class="fa fa-check"></i><b>16.4.1</b> Getting results ready for analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html"><i class="fa fa-check"></i><b>17</b> Design, analysis, and presentation of simulation results</a>
<ul>
<li class="chapter" data-level="17.1" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#designing-the-simulation-experiment"><i class="fa fa-check"></i><b>17.1</b> Designing the simulation experiment</a></li>
<li class="chapter" data-level="17.2" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#choosing-parameter-levels"><i class="fa fa-check"></i><b>17.2</b> Choosing parameter levels</a></li>
<li class="chapter" data-level="17.3" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#presentation"><i class="fa fa-check"></i><b>17.3</b> Presentation</a></li>
<li class="chapter" data-level="17.4" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#tabulation"><i class="fa fa-check"></i><b>17.4</b> Tabulation</a></li>
<li class="chapter" data-level="17.5" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#visualization"><i class="fa fa-check"></i><b>17.5</b> Visualization</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#example-1-biserial-correlation-estimation"><i class="fa fa-check"></i><b>17.5.1</b> Example 1: Biserial correlation estimation</a></li>
<li class="chapter" data-level="17.5.2" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#example-2-variance-estimation-and-meta-regression"><i class="fa fa-check"></i><b>17.5.2</b> Example 2: Variance estimation and Meta-regression</a></li>
<li class="chapter" data-level="17.5.3" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#example-heat-maps-of-coverage"><i class="fa fa-check"></i><b>17.5.3</b> Example: Heat maps of coverage</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#modeling"><i class="fa fa-check"></i><b>17.6</b> Modeling</a></li>
<li class="chapter" data-level="17.7" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#presentation-1"><i class="fa fa-check"></i><b>17.7</b> Presentation</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html"><i class="fa fa-check"></i><b>18</b> Simulation under the Potential Outcomes Framework</a>
<ul>
<li class="chapter" data-level="18.1" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#finite-vs.-superpopulation-inference"><i class="fa fa-check"></i><b>18.1</b> Finite vs. Superpopulation inference</a></li>
<li class="chapter" data-level="18.2" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#data-generation-processes-for-potential-outcomes"><i class="fa fa-check"></i><b>18.2</b> Data generation processes for potential outcomes</a></li>
<li class="chapter" data-level="18.3" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#finite-sample-performance-measures"><i class="fa fa-check"></i><b>18.3</b> Finite sample performance measures</a></li>
<li class="chapter" data-level="18.4" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#nested-finite-simulation-procedure"><i class="fa fa-check"></i><b>18.4</b> Nested finite simulation procedure</a></li>
<li class="chapter" data-level="18.5" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#calibrated-simulations-and-the-potential-outcomes-framework"><i class="fa fa-check"></i><b>18.5</b> Calibrated simulations and the potential outcomes framework</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html"><i class="fa fa-check"></i><b>19</b> Simulations as evidence</a>
<ul>
<li class="chapter" data-level="19.1" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#use-extensive-multi-factor-simulations"><i class="fa fa-check"></i><b>19.1</b> Use extensive multi-factor simulations</a></li>
<li class="chapter" data-level="19.2" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#beat-them-at-their-own-game"><i class="fa fa-check"></i><b>19.2</b> Beat them at their own game</a></li>
<li class="chapter" data-level="19.3" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#calibrated-simulations"><i class="fa fa-check"></i><b>19.3</b> Calibrated simulations</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="the-parametric-bootstrap.html"><a href="the-parametric-bootstrap.html"><i class="fa fa-check"></i><b>20</b> The Parametric bootstrap</a>
<ul>
<li class="chapter" data-level="20.1" data-path="the-parametric-bootstrap.html"><a href="the-parametric-bootstrap.html#air-conditioners-a-stolen-case-study"><i class="fa fa-check"></i><b>20.1</b> Air conditioners: a stolen case study</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Designing Monte Carlo Simulations in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="case_Cronbach" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Case study: Cronbach Alpha<a href="case_Cronbach.html#case_Cronbach" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this section we walk through the case study of Cronbach Alpha to illustrate the filling out of the code skeleton we get from <code>simhelpers</code>’s <code>create_skeleton()</code> package.</p>
<p>We first create the skeleton, and then start filling in the pieces.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="case_Cronbach.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>( simhelpers )</span>
<span id="cb158-2"><a href="case_Cronbach.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">create_skeleton</span>()</span></code></pre></div>
<div id="data-generating-model-1" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Data-generating model<a href="case_Cronbach.html#data-generating-model-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first two sections in the skeleton are about the data-generating model:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="case_Cronbach.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb159-2"><a href="case_Cronbach.html#cb159-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-3"><a href="case_Cronbach.html#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb159-4"><a href="case_Cronbach.html#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set development values for simulation parameters</span></span>
<span id="cb159-5"><a href="case_Cronbach.html#cb159-5" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb159-6"><a href="case_Cronbach.html#cb159-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-7"><a href="case_Cronbach.html#cb159-7" aria-hidden="true" tabindex="-1"></a><span class="co"># What are your model parameters?</span></span>
<span id="cb159-8"><a href="case_Cronbach.html#cb159-8" aria-hidden="true" tabindex="-1"></a><span class="co"># What are your design parameters?</span></span>
<span id="cb159-9"><a href="case_Cronbach.html#cb159-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-10"><a href="case_Cronbach.html#cb159-10" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb159-11"><a href="case_Cronbach.html#cb159-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Generating Model</span></span>
<span id="cb159-12"><a href="case_Cronbach.html#cb159-12" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb159-13"><a href="case_Cronbach.html#cb159-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-14"><a href="case_Cronbach.html#cb159-14" aria-hidden="true" tabindex="-1"></a>dgm <span class="ot">&lt;-</span> <span class="cf">function</span>(model_params) {</span>
<span id="cb159-15"><a href="case_Cronbach.html#cb159-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-16"><a href="case_Cronbach.html#cb159-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dat)</span>
<span id="cb159-17"><a href="case_Cronbach.html#cb159-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb159-18"><a href="case_Cronbach.html#cb159-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-19"><a href="case_Cronbach.html#cb159-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the data-generating model - How can you verify that it is correct?</span></span></code></pre></div>
<p>Here, we need to create and test a function that takes model parameters (and sample sizes and such) as inputs, and produces a simulated dataset. For the Cronbach alpha simulation, the function looks like this:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="case_Cronbach.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mvtnorm)</span>
<span id="cb160-2"><a href="case_Cronbach.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb160-3"><a href="case_Cronbach.html#cb160-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-4"><a href="case_Cronbach.html#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb160-5"><a href="case_Cronbach.html#cb160-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Set development values for simulation parameters</span></span>
<span id="cb160-6"><a href="case_Cronbach.html#cb160-6" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb160-7"><a href="case_Cronbach.html#cb160-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-8"><a href="case_Cronbach.html#cb160-8" aria-hidden="true" tabindex="-1"></a><span class="co"># model parameters</span></span>
<span id="cb160-9"><a href="case_Cronbach.html#cb160-9" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.73</span> <span class="co"># true alpha</span></span>
<span id="cb160-10"><a href="case_Cronbach.html#cb160-10" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="dv">12</span> <span class="co"># degrees of freedom</span></span>
<span id="cb160-11"><a href="case_Cronbach.html#cb160-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-12"><a href="case_Cronbach.html#cb160-12" aria-hidden="true" tabindex="-1"></a><span class="co"># design parameters</span></span>
<span id="cb160-13"><a href="case_Cronbach.html#cb160-13" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">50</span> <span class="co"># sample size</span></span>
<span id="cb160-14"><a href="case_Cronbach.html#cb160-14" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="dv">6</span> <span class="co"># number of items</span></span>
<span id="cb160-15"><a href="case_Cronbach.html#cb160-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-16"><a href="case_Cronbach.html#cb160-16" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb160-17"><a href="case_Cronbach.html#cb160-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Generating Model</span></span>
<span id="cb160-18"><a href="case_Cronbach.html#cb160-18" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb160-19"><a href="case_Cronbach.html#cb160-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-20"><a href="case_Cronbach.html#cb160-20" aria-hidden="true" tabindex="-1"></a>r_mvt_items <span class="ot">&lt;-</span> <span class="cf">function</span>(n, p, alpha, df) {</span>
<span id="cb160-21"><a href="case_Cronbach.html#cb160-21" aria-hidden="true" tabindex="-1"></a>  icc <span class="ot">&lt;-</span> alpha <span class="sc">/</span> (p <span class="sc">-</span> alpha <span class="sc">*</span> (p <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb160-22"><a href="case_Cronbach.html#cb160-22" aria-hidden="true" tabindex="-1"></a>  V_mat <span class="ot">&lt;-</span> icc <span class="sc">+</span> <span class="fu">diag</span>(<span class="dv">1</span> <span class="sc">-</span> icc, <span class="at">nrow =</span> p)</span>
<span id="cb160-23"><a href="case_Cronbach.html#cb160-23" aria-hidden="true" tabindex="-1"></a>  X <span class="ot">&lt;-</span> <span class="fu">rmvt</span>(<span class="at">n =</span> n, <span class="at">sigma =</span> V_mat, <span class="at">df =</span> df)</span>
<span id="cb160-24"><a href="case_Cronbach.html#cb160-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(X) <span class="ot">&lt;-</span> LETTERS[<span class="dv">1</span><span class="sc">:</span>p]</span>
<span id="cb160-25"><a href="case_Cronbach.html#cb160-25" aria-hidden="true" tabindex="-1"></a>  X</span>
<span id="cb160-26"><a href="case_Cronbach.html#cb160-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb160-27"><a href="case_Cronbach.html#cb160-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-28"><a href="case_Cronbach.html#cb160-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the data-generating model</span></span>
<span id="cb160-29"><a href="case_Cronbach.html#cb160-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-30"><a href="case_Cronbach.html#cb160-30" aria-hidden="true" tabindex="-1"></a>big_sample <span class="ot">&lt;-</span> <span class="fu">r_mvt_items</span>(<span class="at">n =</span> <span class="dv">100000</span>, <span class="at">p =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.73</span>, <span class="at">df =</span> <span class="dv">5</span>)</span>
<span id="cb160-31"><a href="case_Cronbach.html#cb160-31" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">cor</span>(big_sample), <span class="dv">3</span>) <span class="co"># looks good</span></span></code></pre></div>
<pre><code>##       A     B     C     D
## A 1.000 0.406 0.411 0.406
## B 0.406 1.000 0.403 0.400
## C 0.411 0.403 1.000 0.405
## D 0.406 0.400 0.405 1.000</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="case_Cronbach.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qqplot</span>(<span class="fu">qt</span>(<span class="fu">ppoints</span>(<span class="dv">200</span>), <span class="at">df =</span> <span class="dv">5</span>), big_sample[,<span class="dv">2</span>], <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>,<span class="dv">4</span>))</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-80-1.png" width="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="estimation-procedures-1" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Estimation procedures<a href="case_Cronbach.html#estimation-procedures-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The next section of the template looks like this:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="case_Cronbach.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb163-2"><a href="case_Cronbach.html#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Model-fitting/estimation/testing functions</span></span>
<span id="cb163-3"><a href="case_Cronbach.html#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb163-4"><a href="case_Cronbach.html#cb163-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-5"><a href="case_Cronbach.html#cb163-5" aria-hidden="true" tabindex="-1"></a>estimate <span class="ot">&lt;-</span> <span class="cf">function</span>(dat, design_params) {</span>
<span id="cb163-6"><a href="case_Cronbach.html#cb163-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-7"><a href="case_Cronbach.html#cb163-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb163-8"><a href="case_Cronbach.html#cb163-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb163-9"><a href="case_Cronbach.html#cb163-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-10"><a href="case_Cronbach.html#cb163-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the estimation function</span></span></code></pre></div>
<p>Here, we need to create a function that takes simulated data as input (and possibly also design parameters, like sample size), and produces a set of estimates (or confidence intervals, or p-values, etc.). As usual, we should also test that the function is correct.</p>
<p>Here’s what this code looks like for the Cronbach alpha simulation:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="case_Cronbach.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb164-2"><a href="case_Cronbach.html#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Model-fitting/estimation/testing functions</span></span>
<span id="cb164-3"><a href="case_Cronbach.html#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb164-4"><a href="case_Cronbach.html#cb164-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-5"><a href="case_Cronbach.html#cb164-5" aria-hidden="true" tabindex="-1"></a>estimate_alpha <span class="ot">&lt;-</span> <span class="cf">function</span>(dat, <span class="at">coverage =</span> .<span class="dv">95</span>) {</span>
<span id="cb164-6"><a href="case_Cronbach.html#cb164-6" aria-hidden="true" tabindex="-1"></a>  V <span class="ot">&lt;-</span> <span class="fu">cov</span>(dat)</span>
<span id="cb164-7"><a href="case_Cronbach.html#cb164-7" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">ncol</span>(dat)</span>
<span id="cb164-8"><a href="case_Cronbach.html#cb164-8" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(dat)</span>
<span id="cb164-9"><a href="case_Cronbach.html#cb164-9" aria-hidden="true" tabindex="-1"></a>  A <span class="ot">&lt;-</span> p <span class="sc">/</span> (p <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(V)) <span class="sc">/</span> <span class="fu">sum</span>(V))</span>
<span id="cb164-10"><a href="case_Cronbach.html#cb164-10" aria-hidden="true" tabindex="-1"></a>  Var_A <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> p <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> A)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> ((p <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> n)</span>
<span id="cb164-11"><a href="case_Cronbach.html#cb164-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb164-12"><a href="case_Cronbach.html#cb164-12" aria-hidden="true" tabindex="-1"></a>  B <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="dv">1</span> <span class="sc">-</span> A) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb164-13"><a href="case_Cronbach.html#cb164-13" aria-hidden="true" tabindex="-1"></a>  SE_B <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(p <span class="sc">/</span> (<span class="dv">2</span> <span class="sc">*</span> n <span class="sc">*</span> (p <span class="sc">-</span> <span class="dv">1</span>)))</span>
<span id="cb164-14"><a href="case_Cronbach.html#cb164-14" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="fu">qnorm</span>((<span class="dv">1</span> <span class="sc">-</span> coverage) <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb164-15"><a href="case_Cronbach.html#cb164-15" aria-hidden="true" tabindex="-1"></a>  CI_B <span class="ot">&lt;-</span> B <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">*</span> SE_B <span class="sc">*</span> z</span>
<span id="cb164-16"><a href="case_Cronbach.html#cb164-16" aria-hidden="true" tabindex="-1"></a>  CI_A <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(<span class="dv">2</span> <span class="sc">*</span> CI_B)</span>
<span id="cb164-17"><a href="case_Cronbach.html#cb164-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb164-18"><a href="case_Cronbach.html#cb164-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">A =</span> A, <span class="at">Var_A =</span> Var_A, <span class="at">CI_L =</span> CI_A[<span class="dv">1</span>], <span class="at">CI_U =</span> CI_A[<span class="dv">2</span>])</span>
<span id="cb164-19"><a href="case_Cronbach.html#cb164-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb164-20"><a href="case_Cronbach.html#cb164-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-21"><a href="case_Cronbach.html#cb164-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the estimation function</span></span>
<span id="cb164-22"><a href="case_Cronbach.html#cb164-22" aria-hidden="true" tabindex="-1"></a>small_sample <span class="ot">&lt;-</span> <span class="fu">r_mvt_items</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">p =</span> <span class="dv">6</span>, <span class="at">alpha =</span> <span class="fl">0.73</span>, <span class="at">df =</span> <span class="dv">5</span>)</span>
<span id="cb164-23"><a href="case_Cronbach.html#cb164-23" aria-hidden="true" tabindex="-1"></a><span class="fu">estimate_alpha</span>(small_sample)</span></code></pre></div>
<pre><code>##           A       Var_A      CI_L      CI_U
## 1 0.6776348 0.004988126 0.5047357 0.7901741</code></pre>
<p>The function takes a simulated dataset as input and spits out a point estimate of alpha, an estimate of the variance of alpha, and a confidence interval for alpha (at the 95% coverage level, by default).</p>
<p>We’ve already seen how to use the <code>replicate</code> function to generate a whole bunch of simulated estimates:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="case_Cronbach.html#cb166-1" aria-hidden="true" tabindex="-1"></a>alpha_sims <span class="ot">&lt;-</span> </span>
<span id="cb166-2"><a href="case_Cronbach.html#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replicate</span>(<span class="at">n =</span> <span class="dv">10</span>, {</span>
<span id="cb166-3"><a href="case_Cronbach.html#cb166-3" aria-hidden="true" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> <span class="fu">r_mvt_items</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">p =</span> <span class="dv">6</span>, <span class="at">alpha =</span> <span class="fl">0.73</span>, <span class="at">df =</span> <span class="dv">5</span>)</span>
<span id="cb166-4"><a href="case_Cronbach.html#cb166-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">estimate_alpha</span>(dat)</span>
<span id="cb166-5"><a href="case_Cronbach.html#cb166-5" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">simplify =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb166-6"><a href="case_Cronbach.html#cb166-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>()</span>
<span id="cb166-7"><a href="case_Cronbach.html#cb166-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-8"><a href="case_Cronbach.html#cb166-8" aria-hidden="true" tabindex="-1"></a>alpha_sims</span></code></pre></div>
<pre><code>##            A        Var_A       CI_L      CI_U
## 1  0.7376881 0.0033027608  0.5969983 0.8292625
## 2  0.5774827 0.0085690016  0.3508674 0.7249855
## 3  0.6474001 0.0059676806  0.4582847 0.7704944
## 4  0.2444404 0.0274017727 -0.1608006 0.5082099
## 5  0.7237283 0.0036636500  0.5755512 0.8201761
## 6  0.7341302 0.0033929646  0.5915321 0.8269466
## 7  0.7961477 0.0019946770  0.6868124 0.8673135
## 8  0.5563208 0.0094488599  0.3183554 0.7112113
## 9  0.8823696 0.0006641713  0.8192791 0.9234350
## 10 0.6132132 0.0071809934  0.4057618 0.7482423</code></pre>
</div>
<div id="performance-calculations" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Performance calculations<a href="case_Cronbach.html#performance-calculations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The next section of the template deals with performance calculations:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="case_Cronbach.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb168-2"><a href="case_Cronbach.html#cb168-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate performance measures</span></span>
<span id="cb168-3"><a href="case_Cronbach.html#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="co"># (For some simulations, it may make more sense</span></span>
<span id="cb168-4"><a href="case_Cronbach.html#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co"># to do this as part of the simulation driver.)</span></span>
<span id="cb168-5"><a href="case_Cronbach.html#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb168-6"><a href="case_Cronbach.html#cb168-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-7"><a href="case_Cronbach.html#cb168-7" aria-hidden="true" tabindex="-1"></a>performance <span class="ot">&lt;-</span> <span class="cf">function</span>(results, model_params) {</span>
<span id="cb168-8"><a href="case_Cronbach.html#cb168-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-9"><a href="case_Cronbach.html#cb168-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(performance_measures)</span>
<span id="cb168-10"><a href="case_Cronbach.html#cb168-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb168-11"><a href="case_Cronbach.html#cb168-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-12"><a href="case_Cronbach.html#cb168-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Check performance calculations</span></span></code></pre></div>
<p>The <code>performance()</code> function takes as input a bunch of simulated data (which we might call <code>results</code>) and the true values of the model parameters (<code>model_params</code>) and returns as output a set of summary performance measures. As noted in the comments above, for simple simulations it might not be necessary to write a separate function to do these calculations. For more complex simulations, though, it can be helpful to break these calculations out in a function.</p>
<p>For the Cronbach alpha simulation, we might want to calculate the following performance measures:</p>
<ul>
<li>bias and root mean-squared error (RMSE) of the alpha point estimate</li>
<li>relative bias of the variance estimator</li>
<li>coverage of the confidence interval</li>
</ul>
<p>Here is a function that calculates these measures (along with Monte Carlo standard errors), given a data frame containing model results. It uses the jackknife technique to get Monte Carlo standard errors for the RMSE and relative bias.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="case_Cronbach.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb169-2"><a href="case_Cronbach.html#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate performance measures</span></span>
<span id="cb169-3"><a href="case_Cronbach.html#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="co">#------------------------------------------------------</span></span>
<span id="cb169-4"><a href="case_Cronbach.html#cb169-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-5"><a href="case_Cronbach.html#cb169-5" aria-hidden="true" tabindex="-1"></a>alpha_performance <span class="ot">&lt;-</span> <span class="cf">function</span>(alpha_sims, alpha, <span class="at">coverage_level =</span> .<span class="dv">95</span>) {</span>
<span id="cb169-6"><a href="case_Cronbach.html#cb169-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb169-7"><a href="case_Cronbach.html#cb169-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># setup</span></span>
<span id="cb169-8"><a href="case_Cronbach.html#cb169-8" aria-hidden="true" tabindex="-1"></a>  K <span class="ot">&lt;-</span> <span class="fu">nrow</span>(alpha_sims)</span>
<span id="cb169-9"><a href="case_Cronbach.html#cb169-9" aria-hidden="true" tabindex="-1"></a>  A_err <span class="ot">&lt;-</span> alpha_sims<span class="sc">$</span>A <span class="sc">-</span> alpha</span>
<span id="cb169-10"><a href="case_Cronbach.html#cb169-10" aria-hidden="true" tabindex="-1"></a>  var_A <span class="ot">&lt;-</span> <span class="fu">var</span>(alpha_sims<span class="sc">$</span>A)</span>
<span id="cb169-11"><a href="case_Cronbach.html#cb169-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb169-12"><a href="case_Cronbach.html#cb169-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># bias</span></span>
<span id="cb169-13"><a href="case_Cronbach.html#cb169-13" aria-hidden="true" tabindex="-1"></a>  A_bias <span class="ot">&lt;-</span> <span class="fu">mean</span>(A_err)</span>
<span id="cb169-14"><a href="case_Cronbach.html#cb169-14" aria-hidden="true" tabindex="-1"></a>  A_bias_MCSE <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(var_A <span class="sc">/</span> K)</span>
<span id="cb169-15"><a href="case_Cronbach.html#cb169-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb169-16"><a href="case_Cronbach.html#cb169-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># RMSE</span></span>
<span id="cb169-17"><a href="case_Cronbach.html#cb169-17" aria-hidden="true" tabindex="-1"></a>  A_RMSE <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((A_err)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb169-18"><a href="case_Cronbach.html#cb169-18" aria-hidden="true" tabindex="-1"></a>  RMSE_j <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((A_RMSE<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> K <span class="sc">-</span> A_err<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (K <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb169-19"><a href="case_Cronbach.html#cb169-19" aria-hidden="true" tabindex="-1"></a>  A_RMSE_MCSE <span class="ot">&lt;-</span> <span class="fu">sd</span>(RMSE_j)</span>
<span id="cb169-20"><a href="case_Cronbach.html#cb169-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb169-21"><a href="case_Cronbach.html#cb169-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># relative bias of variance estimator</span></span>
<span id="cb169-22"><a href="case_Cronbach.html#cb169-22" aria-hidden="true" tabindex="-1"></a>  V_bar <span class="ot">&lt;-</span> <span class="fu">mean</span>(alpha_sims<span class="sc">$</span>Var_A)</span>
<span id="cb169-23"><a href="case_Cronbach.html#cb169-23" aria-hidden="true" tabindex="-1"></a>  V_j <span class="ot">&lt;-</span> (V_bar <span class="sc">*</span> K <span class="sc">-</span> alpha_sims<span class="sc">$</span>Var_A) <span class="sc">/</span> (K <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb169-24"><a href="case_Cronbach.html#cb169-24" aria-hidden="true" tabindex="-1"></a>  Ssq_j <span class="ot">&lt;-</span> ((K <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> var_A <span class="sc">-</span> A_err<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> K <span class="sc">/</span> (K <span class="sc">-</span> <span class="dv">1</span>)) <span class="sc">/</span> (K <span class="sc">-</span> <span class="dv">2</span>)</span>
<span id="cb169-25"><a href="case_Cronbach.html#cb169-25" aria-hidden="true" tabindex="-1"></a>  RB_j <span class="ot">&lt;-</span> V_j <span class="sc">/</span> Ssq_j</span>
<span id="cb169-26"><a href="case_Cronbach.html#cb169-26" aria-hidden="true" tabindex="-1"></a>  V_relbias <span class="ot">&lt;-</span> V_bar <span class="sc">/</span> var_A</span>
<span id="cb169-27"><a href="case_Cronbach.html#cb169-27" aria-hidden="true" tabindex="-1"></a>  V_relbias_MCSE <span class="ot">&lt;-</span> <span class="fu">sd</span>(RB_j)</span>
<span id="cb169-28"><a href="case_Cronbach.html#cb169-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb169-29"><a href="case_Cronbach.html#cb169-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># coverage</span></span>
<span id="cb169-30"><a href="case_Cronbach.html#cb169-30" aria-hidden="true" tabindex="-1"></a>  coverage <span class="ot">&lt;-</span> <span class="fu">mean</span>(alpha_sims<span class="sc">$</span>CI_L <span class="sc">&lt;</span> alpha <span class="sc">&amp;</span> alpha <span class="sc">&lt;</span> alpha_sims<span class="sc">$</span>CI_U)</span>
<span id="cb169-31"><a href="case_Cronbach.html#cb169-31" aria-hidden="true" tabindex="-1"></a>  coverage_MCSE <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(coverage_level <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> coverage_level) <span class="sc">/</span> K)</span>
<span id="cb169-32"><a href="case_Cronbach.html#cb169-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb169-33"><a href="case_Cronbach.html#cb169-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb169-34"><a href="case_Cronbach.html#cb169-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">criterion =</span> <span class="fu">c</span>(<span class="st">&quot;alpha bias&quot;</span>,<span class="st">&quot;alpha RMSE&quot;</span>, <span class="st">&quot;V relative bias&quot;</span>, <span class="st">&quot;coverage&quot;</span>),</span>
<span id="cb169-35"><a href="case_Cronbach.html#cb169-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">est =</span> <span class="fu">c</span>(A_bias, A_RMSE, V_relbias, coverage),</span>
<span id="cb169-36"><a href="case_Cronbach.html#cb169-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">MCSE =</span> <span class="fu">c</span>(A_bias_MCSE, A_RMSE_MCSE, V_relbias_MCSE, coverage_MCSE)</span>
<span id="cb169-37"><a href="case_Cronbach.html#cb169-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb169-38"><a href="case_Cronbach.html#cb169-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb169-39"><a href="case_Cronbach.html#cb169-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-40"><a href="case_Cronbach.html#cb169-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Check performance calculations</span></span>
<span id="cb169-41"><a href="case_Cronbach.html#cb169-41" aria-hidden="true" tabindex="-1"></a><span class="fu">alpha_performance</span>(alpha_sims, <span class="at">alpha =</span> <span class="fl">0.73</span>)</span></code></pre></div>
<pre><code>##         criterion         est       MCSE
## 1      alpha bias -0.07870788 0.05531869
## 2      alpha RMSE  0.18367458 0.02678076
## 3 V relative bias  0.23393085 0.85212103
## 4        coverage  0.60000000 0.06892024</code></pre>
</div>
<div id="simulation-driver" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Simulation driver<a href="case_Cronbach.html#simulation-driver" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We now have all the components we need to get simulation results, given a set of parameter values. In the next section of the template, we put all these pieces together in a function—which we might call the <em>simulation driver</em>—that takes as input 1) parameter values, 2) the desired number of replications, and 3) optionally, a seed value. The function produces as output a single set of performance estimates. Generically, the function looks like this:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="case_Cronbach.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co">#-----------------------------------------------------------</span></span>
<span id="cb171-2"><a href="case_Cronbach.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulation Driver - should return a data.frame or tibble</span></span>
<span id="cb171-3"><a href="case_Cronbach.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="co">#-----------------------------------------------------------</span></span>
<span id="cb171-4"><a href="case_Cronbach.html#cb171-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-5"><a href="case_Cronbach.html#cb171-5" aria-hidden="true" tabindex="-1"></a>runSim <span class="ot">&lt;-</span> <span class="cf">function</span>(iterations, model_params, design_params, <span class="at">seed =</span> <span class="cn">NULL</span>) {</span>
<span id="cb171-6"><a href="case_Cronbach.html#cb171-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(seed)) <span class="fu">set.seed</span>(seed)</span>
<span id="cb171-7"><a href="case_Cronbach.html#cb171-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-8"><a href="case_Cronbach.html#cb171-8" aria-hidden="true" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="fu">replicate</span>(iterations, {</span>
<span id="cb171-9"><a href="case_Cronbach.html#cb171-9" aria-hidden="true" tabindex="-1"></a>                dat <span class="ot">&lt;-</span> <span class="fu">dgm</span>(model_params)</span>
<span id="cb171-10"><a href="case_Cronbach.html#cb171-10" aria-hidden="true" tabindex="-1"></a>                <span class="fu">estimate</span>(dat, design_params)</span>
<span id="cb171-11"><a href="case_Cronbach.html#cb171-11" aria-hidden="true" tabindex="-1"></a>              })</span>
<span id="cb171-12"><a href="case_Cronbach.html#cb171-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-13"><a href="case_Cronbach.html#cb171-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">performance</span>(results, model_params)</span>
<span id="cb171-14"><a href="case_Cronbach.html#cb171-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb171-15"><a href="case_Cronbach.html#cb171-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-16"><a href="case_Cronbach.html#cb171-16" aria-hidden="true" tabindex="-1"></a><span class="co"># demonstrate the simulation driver</span></span></code></pre></div>
<p>The <code>runSim</code> function should require very little modification for a new simulation. Essentially, all we need to change is the names of the functions that are called, so that they line up with the functions we have designed for our simulation. Here’s what this looks like for the Cronbach alpha simulation:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="case_Cronbach.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co">#-----------------------------------------------------------</span></span>
<span id="cb172-2"><a href="case_Cronbach.html#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulation Driver - should return a data.frame or tibble</span></span>
<span id="cb172-3"><a href="case_Cronbach.html#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="co">#-----------------------------------------------------------</span></span>
<span id="cb172-4"><a href="case_Cronbach.html#cb172-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-5"><a href="case_Cronbach.html#cb172-5" aria-hidden="true" tabindex="-1"></a>run_alpha_sim <span class="ot">&lt;-</span> <span class="cf">function</span>(iterations, n, p, alpha, df, <span class="at">coverage =</span> <span class="fl">0.95</span>, <span class="at">seed =</span> <span class="cn">NULL</span>) {</span>
<span id="cb172-6"><a href="case_Cronbach.html#cb172-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb172-7"><a href="case_Cronbach.html#cb172-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(seed)) <span class="fu">set.seed</span>(seed)</span>
<span id="cb172-8"><a href="case_Cronbach.html#cb172-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-9"><a href="case_Cronbach.html#cb172-9" aria-hidden="true" tabindex="-1"></a>  results <span class="ot">&lt;-</span> </span>
<span id="cb172-10"><a href="case_Cronbach.html#cb172-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">replicate</span>(<span class="at">n =</span> iterations, {</span>
<span id="cb172-11"><a href="case_Cronbach.html#cb172-11" aria-hidden="true" tabindex="-1"></a>      dat <span class="ot">&lt;-</span> <span class="fu">r_mvt_items</span>(<span class="at">n =</span> n, <span class="at">p =</span> p, <span class="at">alpha =</span> alpha, <span class="at">df =</span> df)</span>
<span id="cb172-12"><a href="case_Cronbach.html#cb172-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">estimate_alpha</span>(dat, <span class="at">coverage =</span> coverage)</span>
<span id="cb172-13"><a href="case_Cronbach.html#cb172-13" aria-hidden="true" tabindex="-1"></a>    }, <span class="at">simplify =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb172-14"><a href="case_Cronbach.html#cb172-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>()</span>
<span id="cb172-15"><a href="case_Cronbach.html#cb172-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb172-16"><a href="case_Cronbach.html#cb172-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">alpha_performance</span>(results, <span class="at">alpha =</span> alpha, <span class="at">coverage =</span> coverage)</span>
<span id="cb172-17"><a href="case_Cronbach.html#cb172-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now to run our simulation, we just call our simulation driver.</p>
</div>
<div id="running-the-simulation" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Running the simulation<a href="case_Cronbach.html#running-the-simulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the previous sections, we’ve created code that will generate a set of performance estimates, given a set of parameter values. We’ve also created a dataset that represents every combination of parameter values that we want to examine. How do we put the pieces together?</p>
<p>If we only had a couple of parameter combinations, it would be easy enough to just call our <code>run_alpha_sim</code> function a couple of times:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="case_Cronbach.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">run_alpha_sim</span>(<span class="at">iterations =</span> <span class="dv">100</span>, <span class="at">n =</span> <span class="dv">50</span>, <span class="at">p =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">df =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##         criterion          est         MCSE
## 1      alpha bias -0.001593413 0.0088752547
## 2      alpha RMSE  0.088322044 0.0006681178
## 3 V relative bias  0.668658274 0.0089503252
## 4        coverage  0.850000000 0.0217944947</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="case_Cronbach.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">run_alpha_sim</span>(<span class="at">iterations =</span> <span class="dv">100</span>, <span class="at">n =</span> <span class="dv">100</span>, <span class="at">p =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">df =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##         criterion         est         MCSE
## 1      alpha bias -0.01800913 0.0079419752
## 2      alpha RMSE  0.08104783 0.0009785838
## 3 V relative bias  0.45395388 0.0111150091
## 4        coverage  0.84000000 0.0217944947</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="case_Cronbach.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">run_alpha_sim</span>(<span class="at">iterations =</span> <span class="dv">100</span>, <span class="at">n =</span> <span class="dv">50</span>, <span class="at">p =</span> <span class="dv">8</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">df =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##         criterion         est         MCSE
## 1      alpha bias -0.01317160 0.0084111506
## 2      alpha RMSE  0.08472006 0.0006497369
## 3 V relative bias  0.67898948 0.0092084481
## 4        coverage  0.89000000 0.0217944947</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="case_Cronbach.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">run_alpha_sim</span>(<span class="at">iterations =</span> <span class="dv">100</span>, <span class="at">n =</span> <span class="dv">100</span>, <span class="at">p =</span> <span class="dv">8</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">df =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##         criterion          est         MCSE
## 1      alpha bias -0.008556854 0.0065019050
## 2      alpha RMSE  0.065256585 0.0005078102
## 3 V relative bias  0.537396045 0.0078483658
## 4        coverage  0.840000000 0.0217944947</code></pre>
<p>But in an actual simulation we will probably have too many different combinations to do this “by hand.”
The final sections of the simulation template demonstrate two different approaches to doing the calculations for <em>every</em> combination of parameter values, given a set of parameter values one wants to explore.</p>
<p>This is discussed further in Chapter @ref(exp_design).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="performance-criteria.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ensuring-reproducibility.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/042-case-study-cronbach-alpha.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Designing-Simulations-in-R.pdf", "Designing-Simulations-in-R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
