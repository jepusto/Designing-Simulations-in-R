<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Case study: A simulation to compare different estimators | Designing Monte Carlo Simulations in R</title>
  <meta name="description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Case study: A simulation to compare different estimators | Designing Monte Carlo Simulations in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  <meta name="github-repo" content="jepusto/Designing-Simulations-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Case study: A simulation to compare different estimators | Designing Monte Carlo Simulations in R" />
  
  <meta name="twitter:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  

<meta name="author" content="James E. Pustejovsky and Luke W. Miratrix" />


<meta name="date" content="2022-05-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exp_design.html"/>
<link rel="next" href="parallel-processing.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Designing Simulations in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#some-of-simulations-many-uses"><i class="fa fa-check"></i><b>1.1</b> Some of simulation’s many uses</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#comparing-statistical-approaches"><i class="fa fa-check"></i><b>1.1.1</b> Comparing statistical approaches</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#assessing-performance-of-complex-pipelines"><i class="fa fa-check"></i><b>1.1.2</b> Assessing performance of complex pipelines</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#assessing-performance-under-misspecification"><i class="fa fa-check"></i><b>1.1.3</b> Assessing performance under misspecification</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#assessing-the-finite-sample-performance-of-a-statistical-approach"><i class="fa fa-check"></i><b>1.1.4</b> Assessing the finite sample performance of a statistical approach</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#conducting-power-analyses"><i class="fa fa-check"></i><b>1.1.5</b> Conducting Power Analyses</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#simulating-processess"><i class="fa fa-check"></i><b>1.1.6</b> Simulating processess</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#the-perils-of-simulation-as-evidence"><i class="fa fa-check"></i><b>1.2</b> The perils of simulation as evidence</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-r-and-rstudio"><i class="fa fa-check"></i><b>1.3</b> Why R and RStudio?</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#functions"><i class="fa fa-check"></i><b>1.3.1</b> Functions</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#a-dangerous-function"><i class="fa fa-check"></i><b>1.3.2</b> A dangerous function</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#function-skeletons"><i class="fa fa-check"></i><b>1.3.3</b> Function skeletons</a></li>
<li class="chapter" data-level="1.3.4" data-path="index.html"><a href="index.html#pipe-dreams"><i class="fa fa-check"></i><b>1.3.4</b> <code>%&gt;%</code> (Pipe) dreams</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="an-initial-simulation.html"><a href="an-initial-simulation.html"><i class="fa fa-check"></i><b>2</b> An initial simulation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="an-initial-simulation.html"><a href="an-initial-simulation.html#simulation-for-a-single-scenario"><i class="fa fa-check"></i><b>2.1</b> Simulation for a single scenario</a></li>
<li class="chapter" data-level="2.2" data-path="an-initial-simulation.html"><a href="an-initial-simulation.html#simulating-across-different-scenarios"><i class="fa fa-check"></i><b>2.2</b> Simulating across different scenarios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html"><i class="fa fa-check"></i><b>3</b> Structure of a simulation study</a>
<ul>
<li class="chapter" data-level="3.1" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#general-structure-of-a-simulation"><i class="fa fa-check"></i><b>3.1</b> General structure of a simulation</a></li>
<li class="chapter" data-level="3.2" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#tidy-simulations"><i class="fa fa-check"></i><b>3.2</b> Tidy simulations</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#data-generating-model"><i class="fa fa-check"></i><b>3.2.1</b> Data-generating model</a></li>
<li class="chapter" data-level="3.2.2" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#estimation-methods"><i class="fa fa-check"></i><b>3.2.2</b> Estimation methods</a></li>
<li class="chapter" data-level="3.2.3" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#repetition"><i class="fa fa-check"></i><b>3.2.3</b> Repetition</a></li>
<li class="chapter" data-level="3.2.4" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#performance-summaries"><i class="fa fa-check"></i><b>3.2.4</b> Performance summaries</a></li>
<li class="chapter" data-level="3.2.5" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#results"><i class="fa fa-check"></i><b>3.2.5</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#multiple-scenarios"><i class="fa fa-check"></i><b>3.3</b> Multiple Scenarios</a></li>
<li class="chapter" data-level="3.4" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#keeping-the-pieces-organized"><i class="fa fa-check"></i><b>3.4</b> Keeping the pieces organized</a></li>
<li class="chapter" data-level="3.5" data-path="structure-of-a-simulation-study.html"><a href="structure-of-a-simulation-study.html#further-readings-resources"><i class="fa fa-check"></i><b>3.5</b> Further readings &amp; resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="case_ANOVA.html"><a href="case_ANOVA.html"><i class="fa fa-check"></i><b>4</b> Case Study: Heteroskedastic ANOVA</a>
<ul>
<li class="chapter" data-level="4.1" data-path="case_ANOVA.html"><a href="case_ANOVA.html#the-data-generating-model"><i class="fa fa-check"></i><b>4.1</b> The data-generating model</a></li>
<li class="chapter" data-level="4.2" data-path="case_ANOVA.html"><a href="case_ANOVA.html#the-estimation-procedures"><i class="fa fa-check"></i><b>4.2</b> The estimation procedures</a></li>
<li class="chapter" data-level="4.3" data-path="case_ANOVA.html"><a href="case_ANOVA.html#replication"><i class="fa fa-check"></i><b>4.3</b> Replication</a></li>
<li class="chapter" data-level="4.4" data-path="case_ANOVA.html"><a href="case_ANOVA.html#calculating-rejection-rates"><i class="fa fa-check"></i><b>4.4</b> Calculating rejection rates</a></li>
<li class="chapter" data-level="4.5" data-path="case_ANOVA.html"><a href="case_ANOVA.html#exAnovaExercises"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-generating-models.html"><a href="data-generating-models.html"><i class="fa fa-check"></i><b>5</b> Data-generating models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-generating-models.html"><a href="data-generating-models.html#computational-efficiency-versus-simplicity"><i class="fa fa-check"></i><b>5.1</b> Computational efficiency versus simplicity</a></li>
<li class="chapter" data-level="5.2" data-path="data-generating-models.html"><a href="data-generating-models.html#checking-the-data-generating-function"><i class="fa fa-check"></i><b>5.2</b> Checking the data-generating function</a></li>
<li class="chapter" data-level="5.3" data-path="data-generating-models.html"><a href="data-generating-models.html#exercises"><i class="fa fa-check"></i><b>5.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-generating-models.html"><a href="data-generating-models.html#shifted-and-scaled-t-distribution"><i class="fa fa-check"></i><b>5.3.1</b> Shifted-and-scaled t distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="estimation-procedures.html"><a href="estimation-procedures.html"><i class="fa fa-check"></i><b>6</b> Estimation procedures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="estimation-procedures.html"><a href="estimation-procedures.html#further-notes-on-computational-efficiency"><i class="fa fa-check"></i><b>6.1</b> Further notes on computational efficiency</a></li>
<li class="chapter" data-level="6.2" data-path="estimation-procedures.html"><a href="estimation-procedures.html#checking-the-estimation-function"><i class="fa fa-check"></i><b>6.2</b> Checking the estimation function</a></li>
<li class="chapter" data-level="6.3" data-path="estimation-procedures.html"><a href="estimation-procedures.html#exercises-1"><i class="fa fa-check"></i><b>6.3</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="estimation-procedures.html"><a href="estimation-procedures.html#adding-the-bff-test"><i class="fa fa-check"></i><b>6.3.1</b> Adding the BFF* test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="performance-criteria.html"><a href="performance-criteria.html"><i class="fa fa-check"></i><b>7</b> Performance criteria</a>
<ul>
<li class="chapter" data-level="7.1" data-path="performance-criteria.html"><a href="performance-criteria.html#inference-vs.-estimation"><i class="fa fa-check"></i><b>7.1</b> Inference vs. Estimation</a></li>
<li class="chapter" data-level="7.2" data-path="performance-criteria.html"><a href="performance-criteria.html#evaluation-of-estimation-methods"><i class="fa fa-check"></i><b>7.2</b> Evaluation of Estimation Methods</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-actual-properties"><i class="fa fa-check"></i><b>7.2.1</b> Assessing actual properties</a></li>
<li class="chapter" data-level="7.2.2" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-estimated-properties"><i class="fa fa-check"></i><b>7.2.2</b> Assessing estimated properties</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-point-estimator"><i class="fa fa-check"></i><b>7.3</b> Assessing a point estimator</a></li>
<li class="chapter" data-level="7.4" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-standard-error-estimator"><i class="fa fa-check"></i><b>7.4</b> Assessing a standard error estimator</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="performance-criteria.html"><a href="performance-criteria.html#why-not-assess-widehatse-directly"><i class="fa fa-check"></i><b>7.4.1</b> Why not assess <span class="math inline">\(widehat{SE}\)</span> directly?</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-hypothesis-testing-procedure"><i class="fa fa-check"></i><b>7.5</b> Assessing a hypothesis testing procedure</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="performance-criteria.html"><a href="performance-criteria.html#validity"><i class="fa fa-check"></i><b>7.5.1</b> Validity</a></li>
<li class="chapter" data-level="7.5.2" data-path="performance-criteria.html"><a href="performance-criteria.html#power"><i class="fa fa-check"></i><b>7.5.2</b> Power</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-confidence-intervals"><i class="fa fa-check"></i><b>7.6</b> Assessing confidence intervals</a></li>
<li class="chapter" data-level="7.7" data-path="performance-criteria.html"><a href="performance-criteria.html#uncertainty-in-our-performance-estimates-the-mcse"><i class="fa fa-check"></i><b>7.7</b> Uncertainty in our performance estimates (the MCSE)</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="performance-criteria.html"><a href="performance-criteria.html#mcse-for-variance-estimators"><i class="fa fa-check"></i><b>7.7.1</b> MCSE for variance estimators</a></li>
<li class="chapter" data-level="7.7.2" data-path="performance-criteria.html"><a href="performance-criteria.html#the-simhelpers-package-and-mcses"><i class="fa fa-check"></i><b>7.7.2</b> The simhelpers package and MCSEs</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="performance-criteria.html"><a href="performance-criteria.html#absolute-vs.-relative-performance-measures"><i class="fa fa-check"></i><b>7.8</b> Absolute vs. relative performance measures</a></li>
<li class="chapter" data-level="7.9" data-path="performance-criteria.html"><a href="performance-criteria.html#exercises-simulating-cronbachs-alpha"><i class="fa fa-check"></i><b>7.9</b> Exercises: Simulating Cronbach’s alpha</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="performance-criteria.html"><a href="performance-criteria.html#the-data-generating-function"><i class="fa fa-check"></i><b>7.9.1</b> The data-generating function</a></li>
<li class="chapter" data-level="7.9.2" data-path="performance-criteria.html"><a href="performance-criteria.html#the-estimation-function"><i class="fa fa-check"></i><b>7.9.2</b> The estimation function</a></li>
<li class="chapter" data-level="7.9.3" data-path="performance-criteria.html"><a href="performance-criteria.html#replicates"><i class="fa fa-check"></i><b>7.9.3</b> Replicates</a></li>
<li class="chapter" data-level="7.9.4" data-path="performance-criteria.html"><a href="performance-criteria.html#estimator-performance"><i class="fa fa-check"></i><b>7.9.4</b> Estimator performance</a></li>
<li class="chapter" data-level="7.9.5" data-path="performance-criteria.html"><a href="performance-criteria.html#confidence-interval-coverage"><i class="fa fa-check"></i><b>7.9.5</b> Confidence interval coverage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="case_Cronbach.html"><a href="case_Cronbach.html"><i class="fa fa-check"></i><b>8</b> Case study: Cronbach Alpha</a>
<ul>
<li class="chapter" data-level="8.1" data-path="case_Cronbach.html"><a href="case_Cronbach.html#data-generating-model-1"><i class="fa fa-check"></i><b>8.1</b> Data-generating model</a></li>
<li class="chapter" data-level="8.2" data-path="case_Cronbach.html"><a href="case_Cronbach.html#estimation-procedures-1"><i class="fa fa-check"></i><b>8.2</b> Estimation procedures</a></li>
<li class="chapter" data-level="8.3" data-path="case_Cronbach.html"><a href="case_Cronbach.html#performance-calculations"><i class="fa fa-check"></i><b>8.3</b> Performance calculations</a></li>
<li class="chapter" data-level="8.4" data-path="case_Cronbach.html"><a href="case_Cronbach.html#simulation-driver"><i class="fa fa-check"></i><b>8.4</b> Simulation driver</a></li>
<li class="chapter" data-level="8.5" data-path="case_Cronbach.html"><a href="case_Cronbach.html#running-the-simulation"><i class="fa fa-check"></i><b>8.5</b> Running the simulation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html"><i class="fa fa-check"></i><b>9</b> Ensuring reproducibility</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html#seeds-and-pseudo-random-number-generators"><i class="fa fa-check"></i><b>9.1</b> Seeds and pseudo-random number generators</a></li>
<li class="chapter" data-level="9.2" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html#including-seed-in-our-simulation-driver"><i class="fa fa-check"></i><b>9.2</b> Including seed in our simulation driver</a></li>
<li class="chapter" data-level="9.3" data-path="ensuring-reproducibility.html"><a href="ensuring-reproducibility.html#reasons-for-setting-the-seed"><i class="fa fa-check"></i><b>9.3</b> Reasons for setting the seed</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="index.html"><a href="index.html#functions"><i class="fa fa-check"></i><b>10</b> More on functions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>10.1</b> Default arguments for functions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="case_cluster.html"><a href="case_cluster.html"><i class="fa fa-check"></i><b>11</b> Case study: A simulation with clustered data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="case_cluster.html"><a href="case_cluster.html#a-design-decision-what-do-we-want-to-manipulate"><i class="fa fa-check"></i><b>11.1</b> A design decision: What do we want to manipulate?</a></li>
<li class="chapter" data-level="11.2" data-path="case_cluster.html"><a href="case_cluster.html#a-mathematical-model-for-cluster-randomized-data"><i class="fa fa-check"></i><b>11.2</b> A mathematical model for cluster-randomized data</a></li>
<li class="chapter" data-level="11.3" data-path="case_cluster.html"><a href="case_cluster.html#multilevel-data-generation-is-a-recipe-using-a-statistical-model"><i class="fa fa-check"></i><b>11.3</b> Multilevel data generation is a recipe using a statistical model</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="case_cluster.html"><a href="case_cluster.html#generating-the-multisite-data"><i class="fa fa-check"></i><b>11.3.1</b> Generating the multisite data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="case_cluster.html"><a href="case_cluster.html#analyzing-our-data"><i class="fa fa-check"></i><b>11.4</b> Analyzing our data</a></li>
<li class="chapter" data-level="11.5" data-path="case_cluster.html"><a href="case_cluster.html#the-simulation"><i class="fa fa-check"></i><b>11.5</b> The simulation</a></li>
<li class="chapter" data-level="11.6" data-path="case_cluster.html"><a href="case_cluster.html#analysis-of-our-single-scenario"><i class="fa fa-check"></i><b>11.6</b> Analysis of our single scenario</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="case_cluster.html"><a href="case_cluster.html#are-the-estimators-biased"><i class="fa fa-check"></i><b>11.6.1</b> Are the estimators biased?</a></li>
<li class="chapter" data-level="11.6.2" data-path="case_cluster.html"><a href="case_cluster.html#which-method-has-the-smallest-standard-error"><i class="fa fa-check"></i><b>11.6.2</b> Which method has the smallest standard error?</a></li>
<li class="chapter" data-level="11.6.3" data-path="case_cluster.html"><a href="case_cluster.html#which-method-has-the-smallest-root-mean-squared-error"><i class="fa fa-check"></i><b>11.6.3</b> Which method has the smallest Root Mean Squared Error?</a></li>
<li class="chapter" data-level="11.6.4" data-path="case_cluster.html"><a href="case_cluster.html#do-the-methods-have-correctly-estimated-standard-errors"><i class="fa fa-check"></i><b>11.6.4</b> Do the methods have correctly estimated standard errors?</a></li>
<li class="chapter" data-level="11.6.5" data-path="case_cluster.html"><a href="case_cluster.html#did-we-have-enough-simulation-trials"><i class="fa fa-check"></i><b>11.6.5</b> Did we have enough simulation trials?</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="case_cluster.html"><a href="case_cluster.html#extending-to-a-multifactor-simulation"><i class="fa fa-check"></i><b>11.7</b> Extending to a multifactor simulation</a></li>
<li class="chapter" data-level="11.8" data-path="case_cluster.html"><a href="case_cluster.html#standardization-in-a-data-generating-process"><i class="fa fa-check"></i><b>11.8</b> Standardization in a data generating process</a></li>
<li class="chapter" data-level="11.9" data-path="case_cluster.html"><a href="case_cluster.html#making-analyze_data-quiet"><i class="fa fa-check"></i><b>11.9</b> Making analyze_data() quiet</a></li>
<li class="chapter" data-level="11.10" data-path="case_cluster.html"><a href="case_cluster.html#where-to-compute-performance-measures-inside-vs.-outside"><i class="fa fa-check"></i><b>11.10</b> Where to compute performance measures: inside vs. outside?</a></li>
<li class="chapter" data-level="11.11" data-path="case_cluster.html"><a href="case_cluster.html#run-the-simulation"><i class="fa fa-check"></i><b>11.11</b> Run the simulation</a></li>
<li class="chapter" data-level="11.12" data-path="case_cluster.html"><a href="case_cluster.html#analyzing-our-results"><i class="fa fa-check"></i><b>11.12</b> Analyzing our results</a>
<ul>
<li class="chapter" data-level="11.12.1" data-path="case_cluster.html"><a href="case_cluster.html#checking-on-convergence-issues"><i class="fa fa-check"></i><b>11.12.1</b> Checking on convergence issues</a></li>
<li class="chapter" data-level="11.12.2" data-path="case_cluster.html"><a href="case_cluster.html#calculating-standard-metrics"><i class="fa fa-check"></i><b>11.12.2</b> Calculating standard metrics</a></li>
<li class="chapter" data-level="11.12.3" data-path="case_cluster.html"><a href="case_cluster.html#bias-analysis"><i class="fa fa-check"></i><b>11.12.3</b> Bias analysis</a></li>
</ul></li>
<li class="chapter" data-level="11.13" data-path="case_cluster.html"><a href="case_cluster.html#exercises-2"><i class="fa fa-check"></i><b>11.13</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html"><i class="fa fa-check"></i><b>12</b> Error trapping and other headaches</a>
<ul>
<li class="chapter" data-level="12.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#safe_code"><i class="fa fa-check"></i><b>12.1</b> Safe code</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#what-to-do-with-warnings"><i class="fa fa-check"></i><b>12.1.1</b> What to do with warnings</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#saving-files-and-results"><i class="fa fa-check"></i><b>12.2</b> Saving files and results</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#saving-simulations-as-you-go"><i class="fa fa-check"></i><b>12.2.1</b> Saving simulations as you go</a></li>
<li class="chapter" data-level="12.2.2" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#dynamically-making-directories"><i class="fa fa-check"></i><b>12.2.2</b> Dynamically making directories</a></li>
<li class="chapter" data-level="12.2.3" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#loading-and-combining-files-of-simulation-results"><i class="fa fa-check"></i><b>12.2.3</b> Loading and combining files of simulation results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exp_design.html"><a href="exp_design.html"><i class="fa fa-check"></i><b>13</b> Designing the multifactor simulation experiment</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exp_design.html"><a href="exp_design.html#choosing-parameter-combinations"><i class="fa fa-check"></i><b>13.1</b> Choosing parameter combinations</a></li>
<li class="chapter" data-level="13.2" data-path="exp_design.html"><a href="exp_design.html#using-pmap-to-run-multifactor-simulations"><i class="fa fa-check"></i><b>13.2</b> Using pmap to run multifactor simulations</a></li>
<li class="chapter" data-level="13.3" data-path="exp_design.html"><a href="exp_design.html#keeping-things-organized-and-the-source-command"><i class="fa fa-check"></i><b>13.3</b> Keeping things organized and the source command</a></li>
<li class="chapter" data-level="13.4" data-path="exp_design.html"><a href="exp_design.html#analyzing-results-from-a-multifactor-experiment"><i class="fa fa-check"></i><b>13.4</b> Analyzing results from a multifactor experiment</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="exp_design.html"><a href="exp_design.html#bundling"><i class="fa fa-check"></i><b>13.4.1</b> Bundling</a></li>
<li class="chapter" data-level="13.4.2" data-path="exp_design.html"><a href="exp_design.html#aggregation"><i class="fa fa-check"></i><b>13.4.2</b> Aggregation</a></li>
<li class="chapter" data-level="13.4.3" data-path="exp_design.html"><a href="exp_design.html#regression-summarization"><i class="fa fa-check"></i><b>13.4.3</b> Regression Summarization</a></li>
<li class="chapter" data-level="13.4.4" data-path="exp_design.html"><a href="exp_design.html#focus-on-subset-kick-rest-to-supplement"><i class="fa fa-check"></i><b>13.4.4</b> Focus on subset, kick rest to supplement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html"><i class="fa fa-check"></i><b>14</b> Case study: A simulation to compare different estimators</a>
<ul>
<li class="chapter" data-level="14.1" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#the-data-generating-process"><i class="fa fa-check"></i><b>14.1</b> The data generating process</a></li>
<li class="chapter" data-level="14.2" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#the-data-analysis-methods"><i class="fa fa-check"></i><b>14.2</b> The data analysis methods</a></li>
<li class="chapter" data-level="14.3" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#the-simulation-itself"><i class="fa fa-check"></i><b>14.3</b> The simulation itself</a></li>
<li class="chapter" data-level="14.4" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#calculating-performance-measures-for-all-our-estimators"><i class="fa fa-check"></i><b>14.4</b> Calculating performance measures for all our estimators</a></li>
<li class="chapter" data-level="14.5" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#improving-the-visualization-of-the-results"><i class="fa fa-check"></i><b>14.5</b> Improving the visualization of the results</a></li>
<li class="chapter" data-level="14.6" data-path="case-study-a-simulation-to-compare-different-estimators.html"><a href="case-study-a-simulation-to-compare-different-estimators.html#extension-the-bias-variance-tradeoff"><i class="fa fa-check"></i><b>14.6</b> Extension: The Bias-variance tradeoff</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="parallel-processing.html"><a href="parallel-processing.html"><i class="fa fa-check"></i><b>15</b> Parallel Processing</a>
<ul>
<li class="chapter" data-level="15.1" data-path="parallel-processing.html"><a href="parallel-processing.html#parallel-on-your-computer"><i class="fa fa-check"></i><b>15.1</b> Parallel on your computer</a></li>
<li class="chapter" data-level="15.2" data-path="parallel-processing.html"><a href="parallel-processing.html#parallel-off-your-computer"><i class="fa fa-check"></i><b>15.2</b> Parallel off your computer</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="parallel-processing.html"><a href="parallel-processing.html#what-is-a-command-line-interface"><i class="fa fa-check"></i><b>15.2.1</b> What is a command-line interface?</a></li>
<li class="chapter" data-level="15.2.2" data-path="parallel-processing.html"><a href="parallel-processing.html#running-a-job-on-a-cluster"><i class="fa fa-check"></i><b>15.2.2</b> Running a job on a cluster</a></li>
<li class="chapter" data-level="15.2.3" data-path="parallel-processing.html"><a href="parallel-processing.html#checking-on-a-job"><i class="fa fa-check"></i><b>15.2.3</b> Checking on a job</a></li>
<li class="chapter" data-level="15.2.4" data-path="parallel-processing.html"><a href="parallel-processing.html#running-lots-of-jobs-on-a-cluster"><i class="fa fa-check"></i><b>15.2.4</b> Running lots of jobs on a cluster</a></li>
<li class="chapter" data-level="15.2.5" data-path="parallel-processing.html"><a href="parallel-processing.html#resources-for-harvards-odyssey"><i class="fa fa-check"></i><b>15.2.5</b> Resources for Harvard’s Odyssey</a></li>
<li class="chapter" data-level="15.2.6" data-path="parallel-processing.html"><a href="parallel-processing.html#acknowledgements"><i class="fa fa-check"></i><b>15.2.6</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><i class="fa fa-check"></i><b>16</b> Case study: The Power and Validity of Neyman’s ATE Estimate</a>
<ul>
<li class="chapter" data-level="16.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#step-1-write-a-function-for-a-specific-simulation-given-specific-parameters."><i class="fa fa-check"></i><b>16.1</b> Step 1: Write a function for a specific simulation given specific parameters.</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#running-our-single-trial-more-than-once"><i class="fa fa-check"></i><b>16.1.1</b> Running our single trial more than once</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#step-2-make-a-dataframe-of-all-experimental-combinations-desired"><i class="fa fa-check"></i><b>16.2</b> Step 2: Make a dataframe of all experimental combinations desired</a></li>
<li class="chapter" data-level="16.3" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#step-3-explore-results"><i class="fa fa-check"></i><b>16.3</b> Step 3: Explore results</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#visualizing-experimental-results"><i class="fa fa-check"></i><b>16.3.1</b> Visualizing experimental results</a></li>
<li class="chapter" data-level="16.3.2" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#looking-at-main-effects"><i class="fa fa-check"></i><b>16.3.2</b> Looking at main effects</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#addendum-saving-more-details"><i class="fa fa-check"></i><b>16.4</b> Addendum: Saving more details</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="case-study-the-power-and-validity-of-neymans-ate-estimate.html"><a href="case-study-the-power-and-validity-of-neymans-ate-estimate.html#getting-results-ready-for-analysis"><i class="fa fa-check"></i><b>16.4.1</b> Getting results ready for analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html"><i class="fa fa-check"></i><b>17</b> Design, analysis, and presentation of simulation results</a>
<ul>
<li class="chapter" data-level="17.1" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#designing-the-simulation-experiment"><i class="fa fa-check"></i><b>17.1</b> Designing the simulation experiment</a></li>
<li class="chapter" data-level="17.2" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#choosing-parameter-levels"><i class="fa fa-check"></i><b>17.2</b> Choosing parameter levels</a></li>
<li class="chapter" data-level="17.3" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#presentation"><i class="fa fa-check"></i><b>17.3</b> Presentation</a></li>
<li class="chapter" data-level="17.4" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#tabulation"><i class="fa fa-check"></i><b>17.4</b> Tabulation</a></li>
<li class="chapter" data-level="17.5" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#visualization"><i class="fa fa-check"></i><b>17.5</b> Visualization</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#example-1-biserial-correlation-estimation"><i class="fa fa-check"></i><b>17.5.1</b> Example 1: Biserial correlation estimation</a></li>
<li class="chapter" data-level="17.5.2" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#example-2-variance-estimation-and-meta-regression"><i class="fa fa-check"></i><b>17.5.2</b> Example 2: Variance estimation and Meta-regression</a></li>
<li class="chapter" data-level="17.5.3" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#example-heat-maps-of-coverage"><i class="fa fa-check"></i><b>17.5.3</b> Example: Heat maps of coverage</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#modeling"><i class="fa fa-check"></i><b>17.6</b> Modeling</a></li>
<li class="chapter" data-level="17.7" data-path="design-analysis-and-presentation-of-simulation-results.html"><a href="design-analysis-and-presentation-of-simulation-results.html#presentation-1"><i class="fa fa-check"></i><b>17.7</b> Presentation</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html"><i class="fa fa-check"></i><b>18</b> Simulation under the Potential Outcomes Framework</a>
<ul>
<li class="chapter" data-level="18.1" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#finite-vs.-superpopulation-inference"><i class="fa fa-check"></i><b>18.1</b> Finite vs. Superpopulation inference</a></li>
<li class="chapter" data-level="18.2" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#data-generation-processes-for-potential-outcomes"><i class="fa fa-check"></i><b>18.2</b> Data generation processes for potential outcomes</a></li>
<li class="chapter" data-level="18.3" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#finite-sample-performance-measures"><i class="fa fa-check"></i><b>18.3</b> Finite sample performance measures</a></li>
<li class="chapter" data-level="18.4" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#nested-finite-simulation-procedure"><i class="fa fa-check"></i><b>18.4</b> Nested finite simulation procedure</a></li>
<li class="chapter" data-level="18.5" data-path="simulation-under-the-potential-outcomes-framework.html"><a href="simulation-under-the-potential-outcomes-framework.html#calibrated-simulations-and-the-potential-outcomes-framework"><i class="fa fa-check"></i><b>18.5</b> Calibrated simulations and the potential outcomes framework</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html"><i class="fa fa-check"></i><b>19</b> Simulations as evidence</a>
<ul>
<li class="chapter" data-level="19.1" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#use-extensive-multi-factor-simulations"><i class="fa fa-check"></i><b>19.1</b> Use extensive multi-factor simulations</a></li>
<li class="chapter" data-level="19.2" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#beat-them-at-their-own-game"><i class="fa fa-check"></i><b>19.2</b> Beat them at their own game</a></li>
<li class="chapter" data-level="19.3" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#calibrated-simulations"><i class="fa fa-check"></i><b>19.3</b> Calibrated simulations</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="the-parametric-bootstrap.html"><a href="the-parametric-bootstrap.html"><i class="fa fa-check"></i><b>20</b> The Parametric bootstrap</a>
<ul>
<li class="chapter" data-level="20.1" data-path="the-parametric-bootstrap.html"><a href="the-parametric-bootstrap.html#air-conditioners-a-stolen-case-study"><i class="fa fa-check"></i><b>20.1</b> Air conditioners: a stolen case study</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Designing Monte Carlo Simulations in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="case-study-a-simulation-to-compare-different-estimators" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Chapter 14</span> Case study: A simulation to compare different estimators<a href="case-study-a-simulation-to-compare-different-estimators.html#case-study-a-simulation-to-compare-different-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this case study we examine a simulation where we wish to compare different forms of
estimator for estimating the same thing. We still generate data, evaluate it,
and see how well our evaluation works. The difference is we now evaluate it
multiple ways, storing how the different ways work.</p>
<p>For our simple working example we are going to compare estimation of the
center of a symmetric distribution via mean, trimmed mean, and median (so the
mean and median are the same). These are the three estimation strategies
that we might be comparing in a paper (pretend we have “invented” the trimmed
mean and want to demonstrate its utility).</p>
<p>We are, as usual, going to break building this simulation evaluation down into lots of
functions to show the general framework. This framework can readily be
extended to more complicated simulation studies.
This case study illustrates how methodologists might compare different strategies for estimation, and is
closest to what we might see in the “simulation” section of a stats paper.</p>
<div id="the-data-generating-process" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> The data generating process<a href="case-study-a-simulation-to-compare-different-estimators.html#the-data-generating-process" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For our data-generation function we will use the scaled <span class="math inline">\(t\)</span>-distribution so
the standard deviation will always be 1 but we will have different fatness of
tails (high chance of outliers):</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb308-1" aria-hidden="true" tabindex="-1"></a>gen.data <span class="ot">=</span> <span class="cf">function</span>( n, df0 ) {</span>
<span id="cb308-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb308-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rt</span>( n, <span class="at">df=</span>df0 ) <span class="sc">/</span> <span class="fu">sqrt</span>( df0 <span class="sc">/</span> (df0<span class="dv">-2</span>) )</span>
<span id="cb308-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb308-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The variance of a <span class="math inline">\(t\)</span> is <span class="math inline">\(df/(df-2)\)</span>, so if we divide our observations by the
square root of this, we will standardize them so they have unit variance.
See, the standard deviation is 1 (up to random error, and as long as df0 &gt;
2)!:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>( <span class="fu">gen.data</span>( <span class="dv">100000</span>, <span class="at">df0 =</span> <span class="dv">3</span> ) )</span></code></pre></div>
<pre><code>## [1] 0.9974364</code></pre>
<p>(Normally our data generation code would be a bit more fancy.)</p>
<p>We next define the parameter we want (in our case this is the mean, is what
we are trying to estimate):</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb311-1" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">=</span> <span class="dv">0</span></span></code></pre></div>
</div>
<div id="the-data-analysis-methods" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> The data analysis methods<a href="case-study-a-simulation-to-compare-different-estimators.html#the-data-analysis-methods" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We then write a function that takes data and uses all our different
estimators on it. We return a data frame of the three estimates, with each
row being one of our estimators. This is useful if our estimators return an
estimate and a standard error, for example.</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-1" aria-hidden="true" tabindex="-1"></a>analyze.data <span class="ot">=</span> <span class="cf">function</span>( data ) {</span>
<span id="cb312-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-2" aria-hidden="true" tabindex="-1"></a>    mn <span class="ot">=</span> <span class="fu">mean</span>( data )</span>
<span id="cb312-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-3" aria-hidden="true" tabindex="-1"></a>    md <span class="ot">=</span> <span class="fu">median</span>( data )</span>
<span id="cb312-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-4" aria-hidden="true" tabindex="-1"></a>    mn.tr <span class="ot">=</span> <span class="fu">mean</span>( data, <span class="at">trim=</span><span class="fl">0.1</span> )</span>
<span id="cb312-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>( <span class="at">estimator =</span> <span class="fu">c</span>( <span class="st">&quot;mean&quot;</span>, <span class="st">&quot;trim.mean&quot;</span>, <span class="st">&quot;median&quot;</span> ),</span>
<span id="cb312-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">estimate =</span> <span class="fu">c</span>( mn, mn.tr, md ) )</span>
<span id="cb312-7"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb312-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s test:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb313-1" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">=</span> <span class="fu">gen.data</span>( <span class="dv">100</span>, <span class="dv">3</span> )</span>
<span id="cb313-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb313-2" aria-hidden="true" tabindex="-1"></a><span class="fu">analyze.data</span>( dt )</span></code></pre></div>
<pre><code>##   estimator     estimate
## 1      mean -0.006977732
## 2 trim.mean  0.041118938
## 3    median  0.035254949</code></pre>
<p>Note that we have bundled our multiple methods into a single function.
With complex methods we generally advocate a separate function for each method, but sometimes for a target simulation having a host of methods wrapped in a single function is clean and tidy code.</p>
<p>Also note the three lines of output for our returned value.
This long-form output will make processing the simulation results easier.
That being said, returning in wide format is also completely legitimate.</p>
</div>
<div id="the-simulation-itself" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> The simulation itself<a href="case-study-a-simulation-to-compare-different-estimators.html#the-simulation-itself" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To evaluate, do a bunch of times, and assess results. Let’s start by looking
at a specific case. We generate 1000 datasets of size 10, and estimate the
center using our three different estimators.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb315-1" aria-hidden="true" tabindex="-1"></a>raw.exps <span class="ot">&lt;-</span> <span class="fu">replicate</span>( <span class="dv">1000</span>, {</span>
<span id="cb315-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb315-2" aria-hidden="true" tabindex="-1"></a>    dt <span class="ot">=</span> <span class="fu">gen.data</span>( <span class="at">n=</span><span class="dv">10</span>, <span class="at">df0=</span><span class="dv">5</span> )</span>
<span id="cb315-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb315-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">analyze.data</span>( dt )</span>
<span id="cb315-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb315-4" aria-hidden="true" tabindex="-1"></a>}, <span class="at">simplify =</span> <span class="cn">FALSE</span> )</span>
<span id="cb315-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb315-5" aria-hidden="true" tabindex="-1"></a>raw.exps <span class="ot">=</span> <span class="fu">bind_rows</span>( raw.exps, <span class="at">.id =</span> <span class="st">&quot;runID&quot;</span> )</span></code></pre></div>
<p>Note how our <code>.id</code> argument gives each simulation run an ID. This can be
useful to see how the estimators covary.</p>
<p>We now have 1000 estimates for each of our estimators:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>( raw.exps )</span></code></pre></div>
<pre><code>##   runID estimator   estimate
## 1     1      mean -0.4413881
## 2     1 trim.mean -0.2796097
## 3     1    median -0.4573288
## 4     2      mean  0.2612034
## 5     2 trim.mean  0.2202813
## 6     2    median  0.2510697</code></pre>
</div>
<div id="calculating-performance-measures-for-all-our-estimators" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> Calculating performance measures for all our estimators<a href="case-study-a-simulation-to-compare-different-estimators.html#calculating-performance-measures-for-all-our-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We then want to assess estimator performance for each estimator.
We first write a function to calculate what we want from 1000 estimates:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb318-1" aria-hidden="true" tabindex="-1"></a>estimator.quality <span class="ot">=</span> <span class="cf">function</span>( estimates, mu ) {</span>
<span id="cb318-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb318-2" aria-hidden="true" tabindex="-1"></a>    RMSE <span class="ot">=</span> <span class="fu">sqrt</span>( <span class="fu">mean</span>( (estimates <span class="sc">-</span> mu)<span class="sc">^</span><span class="dv">2</span> ) )</span>
<span id="cb318-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb318-3" aria-hidden="true" tabindex="-1"></a>    bias <span class="ot">=</span> <span class="fu">mean</span>( estimates <span class="sc">-</span> mu )</span>
<span id="cb318-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb318-4" aria-hidden="true" tabindex="-1"></a>    SE <span class="ot">=</span> <span class="fu">sd</span>( estimates )</span>
<span id="cb318-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb318-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>( <span class="at">RMSE=</span>RMSE, <span class="at">bias=</span>bias, <span class="at">SE=</span>SE )</span>
<span id="cb318-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb318-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The key is our function is estimation-method agnostic: we will use it for each of our three estimators.
Here we evaluate our ‘mean’ estimator:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>( raw.exps, estimator <span class="sc">==</span> <span class="st">&quot;mean&quot;</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb319-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb319-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>( estimate ) <span class="sc">%&gt;%</span></span>
<span id="cb319-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb319-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">estimator.quality</span>( <span class="at">mu =</span> mu )</span></code></pre></div>
<pre><code>##       RMSE        bias        SE
## 1 0.318817 -0.01070817 0.3187965</code></pre>
<p>Aside: Perhaps, code-wise, the above is piping having gone too far? If you don’t like this style, you can do
this:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb321-1" aria-hidden="true" tabindex="-1"></a><span class="fu">estimator.quality</span>( raw.exps<span class="sc">$</span>estimate[ raw.exps<span class="sc">$</span>estimator<span class="sc">==</span><span class="st">&quot;mean&quot;</span>], mu )</span></code></pre></div>
<pre><code>##       RMSE        bias        SE
## 1 0.318817 -0.01070817 0.3187965</code></pre>
<p>To do all our three estimators, we group by estimator and evaluate for each
estimator. In tidyverse 1.0 <code>summarise</code> can handle multiple responses, but they
will look a bit weird in our output, hence the ‘unpack()’ argument which
makes each column its own column (if we do not unpack, we have a “data frame
column” which is an odd thing).</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb323-1" aria-hidden="true" tabindex="-1"></a>raw.exps <span class="sc">%&gt;%</span></span>
<span id="cb323-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb323-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>( estimator ) <span class="sc">%&gt;%</span></span>
<span id="cb323-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb323-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>( <span class="at">qual =</span> <span class="fu">estimator.quality</span>( estimate, <span class="at">mu =</span> <span class="dv">0</span> ) ) <span class="sc">%&gt;%</span></span>
<span id="cb323-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb323-4" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">unpack</span>( <span class="at">cols=</span><span class="fu">c</span>(qual) )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   estimator  RMSE     bias    SE
##   &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 mean      0.319 -0.0107  0.319
## 2 median    0.316 -0.00708 0.316
## 3 trim.mean 0.292 -0.00963 0.292</code></pre>
<p>We then pack up the above into a function, as usual.
Our function takes our two parameters of sample size and degrees of freedom, and returns a data frame of results.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-1" aria-hidden="true" tabindex="-1"></a>run.simulation <span class="ot">=</span> <span class="cf">function</span>( n, df0 ) {</span>
<span id="cb325-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-2" aria-hidden="true" tabindex="-1"></a>    raw.exps <span class="ot">&lt;-</span> <span class="fu">replicate</span>( <span class="dv">1000</span>, {</span>
<span id="cb325-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-3" aria-hidden="true" tabindex="-1"></a>        dt <span class="ot">=</span> <span class="fu">gen.data</span>( <span class="at">n=</span>n, <span class="at">df0=</span>df0 )</span>
<span id="cb325-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">analyze.data</span>( dt )</span>
<span id="cb325-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-5" aria-hidden="true" tabindex="-1"></a>    }, <span class="at">simplify =</span> <span class="cn">FALSE</span> )</span>
<span id="cb325-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-6" aria-hidden="true" tabindex="-1"></a>    raw.exps <span class="ot">=</span> <span class="fu">bind_rows</span>( raw.exps, <span class="at">.id =</span> <span class="st">&quot;runID&quot;</span> )</span>
<span id="cb325-7"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-8"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-8" aria-hidden="true" tabindex="-1"></a>    rs <span class="ot">&lt;-</span> raw.exps <span class="sc">%&gt;%</span></span>
<span id="cb325-9"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>( estimator ) <span class="sc">%&gt;%</span></span>
<span id="cb325-10"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>( <span class="at">qual =</span> <span class="fu">estimator.quality</span>( estimate, <span class="at">mu =</span> <span class="dv">0</span> ) ) <span class="sc">%&gt;%</span></span>
<span id="cb325-11"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-11" aria-hidden="true" tabindex="-1"></a>        tidyr<span class="sc">::</span><span class="fu">unpack</span>( <span class="at">cols=</span><span class="fu">c</span>( qual ) )</span>
<span id="cb325-12"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-13"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-13" aria-hidden="true" tabindex="-1"></a>    rs</span>
<span id="cb325-14"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb325-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Our function will take our two parameters, run a simulation, and give us the
results. We see here that none of our estimators are particularly biased and
the trimmed mean has, possibly, the smallest RMSE, although it is a close
call.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb326-1" aria-hidden="true" tabindex="-1"></a><span class="fu">run.simulation</span>( <span class="dv">10</span>, <span class="dv">5</span> )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   estimator  RMSE    bias    SE
##   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 mean      0.306 0.00848 0.306
## 2 median    0.309 0.00121 0.309
## 3 trim.mean 0.283 0.00388 0.283</code></pre>
<p>Ok, now we want to see how sample size impacts our different estimators. If
we also vary degrees of freedom we have a <em>three</em>-factor experiment, where
one of the factors is our estimator itself. We are going to use a new clever
trick. As before, we use <code>pmap()</code>, but now we store the entire dataframe of
results we get back from our function in a new column of our original
dataframe. See R for DS, Chapter 25.3. This trick works best if we have
everything as a <code>tibble</code> which is basically a dataframe that prints a lot
nicer and doesn’t try to second-guess what you are up to all the time.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-1" aria-hidden="true" tabindex="-1"></a>ns <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">250</span>, <span class="dv">1250</span> )</span>
<span id="cb328-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-2" aria-hidden="true" tabindex="-1"></a>dfs <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">15</span>, <span class="dv">30</span> )</span>
<span id="cb328-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-3" aria-hidden="true" tabindex="-1"></a>lvls <span class="ot">=</span> <span class="fu">expand_grid</span>( <span class="at">n=</span>ns, <span class="at">df=</span>dfs )</span>
<span id="cb328-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-5" aria-hidden="true" tabindex="-1"></a><span class="co"># So it stores our dataframe results in our lvls data properly.</span></span>
<span id="cb328-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-6" aria-hidden="true" tabindex="-1"></a>lvls <span class="ot">=</span> <span class="fu">as_tibble</span>(lvls)</span>
<span id="cb328-7"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-8"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb328-8" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> lvls <span class="sc">%&gt;%</span> <span class="fu">mutate</span>( <span class="at">results =</span> <span class="fu">pmap</span>( lvls, run.simulation ) )</span></code></pre></div>
<p>We have stored our results (a bunch of dataframes) in our main matrix of
simulation runs.</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>( results, <span class="at">n=</span><span class="dv">4</span> )</span></code></pre></div>
<pre><code>## # A tibble: 16 × 3
##       n    df results         
##   &lt;dbl&gt; &lt;dbl&gt; &lt;list&gt;          
## 1    10     3 &lt;tibble [3 × 4]&gt;
## 2    10     5 &lt;tibble [3 × 4]&gt;
## 3    10    15 &lt;tibble [3 × 4]&gt;
## 4    10    30 &lt;tibble [3 × 4]&gt;
## # … with 12 more rows</code></pre>
<p>The <code>unnest()</code> function will stack up our dataframes, replicating the other columns in the main dataframe so it makes a nice rectangular dataset, all nice like. See (hard to read) R for DS Chapter 25.4.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb331-1" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">unnest</span>( results, <span class="at">cols=</span><span class="st">&quot;results&quot;</span> )</span>
<span id="cb331-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb331-2" aria-hidden="true" tabindex="-1"></a>results</span></code></pre></div>
<pre><code>## # A tibble: 48 × 6
##        n    df estimator  RMSE     bias    SE
##    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1    10     3 mean      0.309 -0.0119  0.309
##  2    10     3 median    0.243 -0.0102  0.243
##  3    10     3 trim.mean 0.249 -0.0120  0.249
##  4    10     5 mean      0.320  0.00627 0.320
##  5    10     5 median    0.319  0.0121  0.319
##  6    10     5 trim.mean 0.298  0.00692 0.298
##  7    10    15 mean      0.321  0.00444 0.321
##  8    10    15 median    0.361  0.00925 0.361
##  9    10    15 trim.mean 0.323  0.00801 0.323
## 10    10    30 mean      0.309 -0.00229 0.309
## # … with 38 more rows</code></pre>
<p>And plot:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( results, <span class="fu">aes</span>(<span class="at">x=</span>n, <span class="at">y=</span>RMSE, <span class="at">col=</span>estimator) ) <span class="sc">+</span></span>
<span id="cb333-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb333-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">facet_wrap</span>( <span class="sc">~</span> df, <span class="at">nrow=</span><span class="dv">1</span> ) <span class="sc">+</span></span>
<span id="cb333-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb333-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb333-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb333-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">scale_x_log10</span>( <span class="at">breaks=</span>ns )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-167-1.png" width="75%" style="display: block; margin: auto;" /></p>
</div>
<div id="improving-the-visualization-of-the-results" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> Improving the visualization of the results<a href="case-study-a-simulation-to-compare-different-estimators.html#improving-the-visualization-of-the-results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The above doesn’t show differences clearly because all the RMSE goes to zero.
It helps to log our outcome, or otherwise rescale. The logging version shows
differences are relatively constant given changing sample size.</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( results, <span class="fu">aes</span>(<span class="at">x=</span>n, <span class="at">y=</span>RMSE, <span class="at">col=</span>estimator) ) <span class="sc">+</span></span>
<span id="cb334-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb334-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>( <span class="sc">~</span> df, <span class="at">nrow=</span><span class="dv">1</span> ) <span class="sc">+</span></span>
<span id="cb334-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb334-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb334-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb334-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>( <span class="at">breaks=</span>ns ) <span class="sc">+</span></span>
<span id="cb334-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb334-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>()</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-168-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Better is to rescale using our knowledge of standard errors. If we scale by
the square root of sample size, we should get horizontal lines. We now
clearly see the trends.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb335-1" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">mutate</span>( results, <span class="at">scaleRMSE =</span> RMSE <span class="sc">*</span> <span class="fu">sqrt</span>(n) )</span></code></pre></div>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( results, <span class="fu">aes</span>(<span class="at">x=</span>n, <span class="at">y=</span>scaleRMSE, <span class="at">col=</span>estimator) ) <span class="sc">+</span></span>
<span id="cb336-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb336-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>( <span class="sc">~</span> df, <span class="at">nrow=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb336-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb336-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb336-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb336-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>( <span class="at">breaks=</span>ns )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-170-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Overall, we see the scaled error of the mean it is stable across the
different distributions. The trimmed mean is a real advantage when the
degrees of freedom are small. We are cropping outliers that destabilize our
estimate which leads to great wins. As the distribution grows more normal,
this is no longer an advantage and we get closer to the mean in terms of
performance. Here we are penalized slightly bye having dropped 10% of our
data, so the standard errors will be slightly larger.</p>
<p>The median is not able to take advantage of the nuances of a data set because
it is entirely determined by the middle value. When outliers cause real
concern, this cost is minimal. When outliers are not a concern, the median is
just worse.</p>
<p>Overall, the trimmed mean seems an excellent choice: in the presence of
outliers it is far more stable than the mean, and when there are no outliers
the cost of using it is small.</p>
<p>In terms of thinking about designing simulation studies, we see clear
visual displays of simulation results can tell very clear stories. Eschew
complicated tables with lots of numbers.</p>
</div>
<div id="extension-the-bias-variance-tradeoff" class="section level2 hasAnchor" number="14.6">
<h2><span class="header-section-number">14.6</span> Extension: The Bias-variance tradeoff<a href="case-study-a-simulation-to-compare-different-estimators.html#extension-the-bias-variance-tradeoff" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can use the above simulation to examine these same estimators when we the
median is not the same as the mean. Say we want the mean of a distribution,
but have systematic outliers. If we just use the median, or trimmed mean, we
might have bias if the outliers tend to be on one side or another. For
example, consider the exponential distribution:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb337-1" aria-hidden="true" tabindex="-1"></a>nums <span class="ot">=</span> <span class="fu">rexp</span>( <span class="dv">100000</span> )</span>
<span id="cb337-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb337-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>( nums )</span></code></pre></div>
<pre><code>## [1] 0.9990221</code></pre>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>( nums, <span class="at">trim=</span><span class="fl">0.1</span> )</span></code></pre></div>
<pre><code>## [1] 0.83185</code></pre>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>( nums )</span></code></pre></div>
<pre><code>## [1] 0.6940772</code></pre>
<p>Our trimming, etc., is <em>biased</em> if we think of our goal as estimating the
mean. But if the trimmed estimators are much more stable, we might still
wish to use them. Let’s find out.</p>
<p>Let’s generate a mixture distribution, just for fun. It will have a nice
normal base with some extreme outliers. We will make sure the overall mean,
including the outliers, is always 1, however. (So our target, <span class="math inline">\(\mu\)</span> is now 1,
not 0.)</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-1" aria-hidden="true" tabindex="-1"></a>gen.data.exp <span class="ot">=</span> <span class="cf">function</span>( n, <span class="at">prob.outlier =</span> <span class="fl">0.05</span> ) {</span>
<span id="cb343-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-2" aria-hidden="true" tabindex="-1"></a>    nN <span class="ot">=</span> <span class="fu">rbinom</span>( <span class="dv">1</span>, n, prob.outlier )</span>
<span id="cb343-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-3" aria-hidden="true" tabindex="-1"></a>    nrm <span class="ot">=</span> <span class="fu">rnorm</span>( n <span class="sc">-</span> nN, <span class="at">mean=</span><span class="fl">0.5</span>, <span class="at">sd=</span><span class="dv">1</span> )</span>
<span id="cb343-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-4" aria-hidden="true" tabindex="-1"></a>    outmean <span class="ot">=</span> (<span class="dv">1</span> <span class="sc">-</span> (<span class="dv">1</span><span class="sc">-</span>prob.outlier)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">/</span> prob.outlier</span>
<span id="cb343-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-5" aria-hidden="true" tabindex="-1"></a>    outs <span class="ot">=</span> <span class="fu">rnorm</span>( nN, <span class="at">mean=</span>outmean, <span class="at">sd=</span><span class="dv">10</span> )</span>
<span id="cb343-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>( nrm, outs )</span>
<span id="cb343-7"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb343-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s look at our distribution</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb344-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">=</span> <span class="fu">gen.data.exp</span>( <span class="dv">10000000</span>, <span class="at">prob.outlier =</span> <span class="fl">0.05</span> )</span>
<span id="cb344-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb344-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>( Y )</span></code></pre></div>
<pre><code>## [1] 1.000219</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>( Y )</span></code></pre></div>
<pre><code>## [1] 3.271463</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>( Y, <span class="at">breaks=</span><span class="dv">30</span>, <span class="at">col=</span><span class="st">&quot;grey&quot;</span>, <span class="at">prob=</span><span class="cn">TRUE</span> )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-174-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We steal the code from above, modifying it slightly for our new function and
changing our target parameter from 0 to 1:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-1" aria-hidden="true" tabindex="-1"></a>run.simulation.exp <span class="ot">=</span> <span class="cf">function</span>( n ) {</span>
<span id="cb349-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-2" aria-hidden="true" tabindex="-1"></a>    raw.exps <span class="ot">&lt;-</span> <span class="fu">replicate</span>( <span class="dv">1000</span>, {</span>
<span id="cb349-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-3" aria-hidden="true" tabindex="-1"></a>        dt <span class="ot">=</span> <span class="fu">gen.data.exp</span>( <span class="at">n=</span>n )</span>
<span id="cb349-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">analyze.data</span>( dt )</span>
<span id="cb349-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-5" aria-hidden="true" tabindex="-1"></a>    }, <span class="at">simplify =</span> <span class="cn">FALSE</span> )</span>
<span id="cb349-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-6" aria-hidden="true" tabindex="-1"></a>    raw.exps <span class="ot">=</span> <span class="fu">bind_rows</span>( raw.exps, <span class="at">.id =</span> <span class="st">&quot;runID&quot;</span> )</span>
<span id="cb349-7"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-8"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-8" aria-hidden="true" tabindex="-1"></a>    rs <span class="ot">&lt;-</span> raw.exps <span class="sc">%&gt;%</span></span>
<span id="cb349-9"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>( estimator ) <span class="sc">%&gt;%</span></span>
<span id="cb349-10"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>( <span class="at">qual =</span> <span class="fu">estimator.quality</span>( estimate, <span class="at">mu =</span> <span class="dv">1</span> ) ) <span class="sc">%&gt;%</span></span>
<span id="cb349-11"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-11" aria-hidden="true" tabindex="-1"></a>        tidyr<span class="sc">::</span><span class="fu">unpack</span>( <span class="at">cols =</span> <span class="fu">c</span>( qual ) )</span>
<span id="cb349-12"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-13"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-13" aria-hidden="true" tabindex="-1"></a>    rs</span>
<span id="cb349-14"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb349-15"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-16"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-16" aria-hidden="true" tabindex="-1"></a>res <span class="ot">=</span> <span class="fu">run.simulation.exp</span>( <span class="dv">100</span> )</span>
<span id="cb349-17"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb349-17" aria-hidden="true" tabindex="-1"></a>res</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   estimator  RMSE     bias    SE
##   &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 mean      0.315  0.00185 0.315
## 2 median    0.467 -0.450   0.127
## 3 trim.mean 0.450 -0.436   0.110</code></pre>
<p>And for our experiment we vary the sample size</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb351-1" aria-hidden="true" tabindex="-1"></a>ns <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">80</span>, <span class="dv">160</span>, <span class="dv">320</span> )</span>
<span id="cb351-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb351-2" aria-hidden="true" tabindex="-1"></a>lvls <span class="ot">=</span> <span class="fu">tibble</span>( <span class="at">n=</span>ns )</span></code></pre></div>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb352-1" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> lvls <span class="sc">%&gt;%</span> </span>
<span id="cb352-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">results =</span> <span class="fu">pmap</span>( lvls, run.simulation.exp ) ) <span class="sc">%&gt;%</span> </span>
<span id="cb352-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb352-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>( <span class="at">cols =</span> <span class="fu">c</span>(results) )</span>
<span id="cb352-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb352-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>( results )</span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##       n estimator  RMSE    bias    SE
##   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1    10 mean      1.00  -0.0667 1.00 
## 2    10 median    0.603 -0.452  0.399
## 3    10 trim.mean 0.641 -0.384  0.513
## 4    20 mean      0.722  0.0192 0.722
## 5    20 median    0.537 -0.453  0.289
## 6    20 trim.mean 0.505 -0.417  0.285</code></pre>
<p>Here we are going to plug multiple outcomes. Often with the simulation study
we are interested in different measures of performance. For us, we want to
know the standard error, bias, and overall error (RMSE). To plot this we
first gather our outcomes to make a long form dataframe of results:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb354-1" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">=</span> <span class="fu">gather</span>( results, RMSE, bias, SE, <span class="at">key=</span><span class="st">&quot;Measure&quot;</span>,<span class="at">value=</span><span class="st">&quot;value&quot;</span> )</span>
<span id="cb354-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb354-2" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">=</span> <span class="fu">mutate</span>( res2, <span class="at">Measure =</span> <span class="fu">factor</span>( Measure, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;SE&quot;</span>,<span class="st">&quot;bias&quot;</span>,<span class="st">&quot;RMSE&quot;</span> )))</span></code></pre></div>
<p>And then we plot, making a facet for each outcome of interest:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>( res2, <span class="fu">aes</span>(<span class="at">x=</span>n, <span class="at">y=</span>value, <span class="at">col=</span>estimator) ) <span class="sc">+</span></span>
<span id="cb355-2"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb355-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>( . <span class="sc">~</span> Measure ) <span class="sc">+</span></span>
<span id="cb355-3"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb355-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>( <span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">col=</span><span class="st">&quot;darkgrey&quot;</span> ) <span class="sc">+</span></span>
<span id="cb355-4"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb355-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb355-5"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb355-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>( <span class="at">breaks=</span>ns ) <span class="sc">+</span></span>
<span id="cb355-6"><a href="case-study-a-simulation-to-compare-different-estimators.html#cb355-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>( <span class="at">y=</span><span class="st">&quot;&quot;</span> )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-178-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We see how different estimators have different biases and different
uncertainties. The bias is negative for our trimmed estimators because we
are losing the big outliers above and so getting answers that are too low.</p>
<p>The RMSE captures the trade-off in terms of what estimator gives the lowest
overall <em>error</em>. For this distribution, the mean wins as the sample size
increases because the bias basically stays the same and the SE drops. But
for smaller samples the trimming is superior. The median (essentially
trimming 50% above and below) is overkill and has too much negative bias.</p>
<p>From a simulation study point of view, notice how we are looking at three
different qualities of our estimators. Some people really care about bias,
some care about RMSE. By presenting all results we are transparent about how
the different estimators operate.</p>
<p>Next steps would be to also examine the associated estimated standard errors
for the estimators, seeing if these estimates of estimator uncertainty are
good or poor. This leads to investigation of coverage rates and similar.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exp_design.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="parallel-processing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/052-case-study-comparing-estimators.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Designing-Simulations-in-R.pdf", "Designing-Simulations-in-R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
