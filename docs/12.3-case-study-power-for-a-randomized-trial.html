<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="12.3 Case study: power for a randomized trial | Designing Monte Carlo Simulations in R" />
<meta property="og:type" content="book" />

<meta property="og:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
<meta name="github-repo" content="jepusto/Designing-Simulations-in-R" />

<meta name="author" content="Luke W. Miratrix and James E. Pustejovsky (Equal authors)" />

<meta name="date" content="2025-06-19" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies">

<title>12.3 Case study: power for a randomized trial | Designing Monte Carlo Simulations in R</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if bootstrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#welcome" id="toc-welcome">Welcome</a>
<ul>
<li><a href="license.html#license" id="toc-license">License</a></li>
<li><a href="about-the-authors.html#about-the-authors" id="toc-about-the-authors">About the authors</a></li>
<li><a href="acknowledgements.html#acknowledgements" id="toc-acknowledgements">Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I An Introductory Look</b></span></li>
<li class="has-sub"><a href="1-introduction.html#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li class="has-sub"><a href="1.1-some-of-simulations-many-uses.html#some-of-simulations-many-uses" id="toc-some-of-simulations-many-uses"><span class="toc-section-number">1.1</span> Some of simulation’s many uses</a>
<ul>
<li><a href="1.1-some-of-simulations-many-uses.html#comparing-statistical-approaches" id="toc-comparing-statistical-approaches"><span class="toc-section-number">1.1.1</span> Comparing statistical approaches</a></li>
<li><a href="1.1-some-of-simulations-many-uses.html#assessing-performance-of-complex-pipelines" id="toc-assessing-performance-of-complex-pipelines"><span class="toc-section-number">1.1.2</span> Assessing performance of complex pipelines</a></li>
<li><a href="1.1-some-of-simulations-many-uses.html#assessing-performance-under-misspecification" id="toc-assessing-performance-under-misspecification"><span class="toc-section-number">1.1.3</span> Assessing performance under misspecification</a></li>
<li><a href="1.1-some-of-simulations-many-uses.html#assessing-the-finite-sample-performance-of-a-statistical-approach" id="toc-assessing-the-finite-sample-performance-of-a-statistical-approach"><span class="toc-section-number">1.1.4</span> Assessing the finite-sample performance of a statistical approach</a></li>
<li><a href="1.1-some-of-simulations-many-uses.html#conducting-power-analyses" id="toc-conducting-power-analyses"><span class="toc-section-number">1.1.5</span> Conducting Power Analyses</a></li>
<li><a href="1.1-some-of-simulations-many-uses.html#simulating-processess" id="toc-simulating-processess"><span class="toc-section-number">1.1.6</span> Simulating processess</a></li>
</ul></li>
<li><a href="1.2-the-perils-of-simulation-as-evidence.html#the-perils-of-simulation-as-evidence" id="toc-the-perils-of-simulation-as-evidence"><span class="toc-section-number">1.2</span> The perils of simulation as evidence</a></li>
<li><a href="1.3-simulating-to-learn.html#simulating-to-learn" id="toc-simulating-to-learn"><span class="toc-section-number">1.3</span> Simulating to learn</a></li>
<li><a href="1.4-why-r.html#why-r" id="toc-why-r"><span class="toc-section-number">1.4</span> Why R?</a></li>
<li><a href="1.5-organization-of-the-text.html#organization-of-the-text" id="toc-organization-of-the-text"><span class="toc-section-number">1.5</span> Organization of the text</a></li>
</ul></li>
<li class="has-sub"><a href="2-programming-preliminaries.html#programming-preliminaries" id="toc-programming-preliminaries"><span class="toc-section-number">2</span> Programming Preliminaries</a>
<ul>
<li><a href="2.1-welcome-to-the-tidyverse.html#welcome-to-the-tidyverse" id="toc-welcome-to-the-tidyverse"><span class="toc-section-number">2.1</span> Welcome to the tidyverse</a></li>
<li class="has-sub"><a href="2.2-functions.html#functions" id="toc-functions"><span class="toc-section-number">2.2</span> Functions</a>
<ul>
<li><a href="2.2-functions.html#rolling-your-own" id="toc-rolling-your-own"><span class="toc-section-number">2.2.1</span> Rolling your own</a></li>
<li><a href="2.2-functions.html#a-dangerous-function" id="toc-a-dangerous-function"><span class="toc-section-number">2.2.2</span> A dangerous function</a></li>
<li><a href="2.2-functions.html#using-named-arguments" id="toc-using-named-arguments"><span class="toc-section-number">2.2.3</span> Using Named Arguments</a></li>
<li><a href="2.2-functions.html#argument-defaults" id="toc-argument-defaults"><span class="toc-section-number">2.2.4</span> Argument Defaults</a></li>
<li><a href="2.2-functions.html#function-skeletons" id="toc-function-skeletons"><span class="toc-section-number">2.2.5</span> Function skeletons</a></li>
</ul></li>
<li><a href="2.3-pipe-dreams.html#pipe-dreams" id="toc-pipe-dreams"><span class="toc-section-number">2.3</span> <code>\&gt;</code> (Pipe) dreams</a></li>
<li><a href="2.4-recipes-versus-patterns.html#recipes-versus-patterns" id="toc-recipes-versus-patterns"><span class="toc-section-number">2.4</span> Recipes versus Patterns</a></li>
<li><a href="2.5-exercises.html#exercises" id="toc-exercises"><span class="toc-section-number">2.5</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="3-t-test-simulation.html#t-test-simulation" id="toc-t-test-simulation"><span class="toc-section-number">3</span> An initial simulation</a>
<ul>
<li><a href="3.1-simulating-a-single-scenario.html#simulating-a-single-scenario" id="toc-simulating-a-single-scenario"><span class="toc-section-number">3.1</span> Simulating a single scenario</a></li>
<li><a href="3.2-a-non-normal-population-distribution.html#a-non-normal-population-distribution" id="toc-a-non-normal-population-distribution"><span class="toc-section-number">3.2</span> A non-normal population distribution</a></li>
<li><a href="3.3-simulating-across-different-scenarios.html#simulating-across-different-scenarios" id="toc-simulating-across-different-scenarios"><span class="toc-section-number">3.3</span> Simulating across different scenarios</a></li>
<li><a href="3.4-extending-the-simulation-design.html#extending-the-simulation-design" id="toc-extending-the-simulation-design"><span class="toc-section-number">3.4</span> Extending the simulation design</a></li>
<li><a href="3.5-exercises-1.html#exercises-1" id="toc-exercises-1"><span class="toc-section-number">3.5</span> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Structure and Mechanics of a Simulation Study</b></span></li>
<li class="has-sub"><a href="4-simulation-structure.html#simulation-structure" id="toc-simulation-structure"><span class="toc-section-number">4</span> Structure of a simulation study</a>
<ul>
<li><a href="4.1-general-structure-of-a-simulation.html#general-structure-of-a-simulation" id="toc-general-structure-of-a-simulation"><span class="toc-section-number">4.1</span> General structure of a simulation</a></li>
<li><a href="4.2-tidy-modular-simulations.html#tidy-modular-simulations" id="toc-tidy-modular-simulations"><span class="toc-section-number">4.2</span> Tidy, modular simulations</a></li>
<li class="has-sub"><a href="4.3-skeleton-of-a-simulation-study.html#skeleton-of-a-simulation-study" id="toc-skeleton-of-a-simulation-study"><span class="toc-section-number">4.3</span> Skeleton of a simulation study</a>
<ul>
<li><a href="4.3-skeleton-of-a-simulation-study.html#data-generating-process" id="toc-data-generating-process"><span class="toc-section-number">4.3.1</span> Data-Generating Process</a></li>
<li><a href="4.3-skeleton-of-a-simulation-study.html#data-analysis-procedure" id="toc-data-analysis-procedure"><span class="toc-section-number">4.3.2</span> Data Analysis Procedure</a></li>
<li><a href="4.3-skeleton-of-a-simulation-study.html#repetition" id="toc-repetition"><span class="toc-section-number">4.3.3</span> Repetition</a></li>
<li><a href="4.3-skeleton-of-a-simulation-study.html#performance-summaries" id="toc-performance-summaries"><span class="toc-section-number">4.3.4</span> Performance summaries</a></li>
<li><a href="4.3-skeleton-of-a-simulation-study.html#multifactor-simulations" id="toc-multifactor-simulations"><span class="toc-section-number">4.3.5</span> Multifactor simulations</a></li>
</ul></li>
<li><a href="4.4-exercises-2.html#exercises-2" id="toc-exercises-2"><span class="toc-section-number">4.4</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="5-case-ANOVA.html#case-ANOVA" id="toc-case-ANOVA"><span class="toc-section-number">5</span> Case Study: Heteroskedastic ANOVA</a>
<ul>
<li class="has-sub"><a href="5.1-case-anova-DGP.html#case-anova-DGP" id="toc-case-anova-DGP"><span class="toc-section-number">5.1</span> The data-generating model</a>
<ul>
<li><a href="5.1-case-anova-DGP.html#now-make-a-function" id="toc-now-make-a-function"><span class="toc-section-number">5.1.1</span> Now make a function</a></li>
<li><a href="5.1-case-anova-DGP.html#cautious-coding" id="toc-cautious-coding"><span class="toc-section-number">5.1.2</span> Cautious coding</a></li>
</ul></li>
<li><a href="5.2-the-hypothesis-testing-procedures.html#the-hypothesis-testing-procedures" id="toc-the-hypothesis-testing-procedures"><span class="toc-section-number">5.2</span> The hypothesis testing procedures</a></li>
<li><a href="5.3-running-the-simulation.html#running-the-simulation" id="toc-running-the-simulation"><span class="toc-section-number">5.3</span> Running the simulation</a></li>
<li><a href="5.4-summarizing-test-performance.html#summarizing-test-performance" id="toc-summarizing-test-performance"><span class="toc-section-number">5.4</span> Summarizing test performance</a></li>
<li><a href="5.5-exAnovaExercises.html#exAnovaExercises" id="toc-exAnovaExercises"><span class="toc-section-number">5.5</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="6-data-generating-processes.html#data-generating-processes" id="toc-data-generating-processes"><span class="toc-section-number">6</span> Data-generating processes</a>
<ul>
<li class="has-sub"><a href="6.1-DGP-examples.html#DGP-examples" id="toc-DGP-examples"><span class="toc-section-number">6.1</span> Examples</a>
<ul>
<li><a href="6.1-DGP-examples.html#ANOVA-example" id="toc-ANOVA-example"><span class="toc-section-number">6.1.1</span> Example 1: One-way analysis of variance</a></li>
<li><a href="6.1-DGP-examples.html#BVPois-example" id="toc-BVPois-example"><span class="toc-section-number">6.1.2</span> Example 2: Bivariate Poisson model</a></li>
<li><a href="6.1-DGP-examples.html#CRT-example" id="toc-CRT-example"><span class="toc-section-number">6.1.3</span> Example 3: Hierarchical linear model for a cluster-randomized trial</a></li>
</ul></li>
<li><a href="6.2-components-of-a-dgp.html#components-of-a-dgp" id="toc-components-of-a-dgp"><span class="toc-section-number">6.2</span> Components of a DGP</a></li>
<li><a href="6.3-DGP-functions.html#DGP-functions" id="toc-DGP-functions"><span class="toc-section-number">6.3</span> A statistical model is a recipe for data generation</a></li>
<li><a href="6.4-DGP-plotting.html#DGP-plotting" id="toc-DGP-plotting"><span class="toc-section-number">6.4</span> Plot the artificial data</a></li>
<li><a href="6.5-check-the-data-generating-function.html#check-the-data-generating-function" id="toc-check-the-data-generating-function"><span class="toc-section-number">6.5</span> Check the data-generating function</a></li>
<li class="has-sub"><a href="6.6-case-cluster.html#case-cluster" id="toc-case-cluster"><span class="toc-section-number">6.6</span> Example: Simulating clustered data</a>
<ul>
<li><a href="6.6-case-cluster.html#a-design-decision-what-do-we-want-to-manipulate" id="toc-a-design-decision-what-do-we-want-to-manipulate"><span class="toc-section-number">6.6.1</span> A design decision: What do we want to manipulate?</a></li>
<li><a href="6.6-case-cluster.html#a-model-for-a-cluster-rct" id="toc-a-model-for-a-cluster-rct"><span class="toc-section-number">6.6.2</span> A model for a cluster RCT</a></li>
<li><a href="6.6-case-cluster.html#from-equations-to-code" id="toc-from-equations-to-code"><span class="toc-section-number">6.6.3</span> From equations to code</a></li>
<li><a href="6.6-case-cluster.html#standardization-in-the-dgp" id="toc-standardization-in-the-dgp"><span class="toc-section-number">6.6.4</span> Standardization in the DGP</a></li>
</ul></li>
<li><a href="6.7-three-parameter-IRT.html#three-parameter-IRT" id="toc-three-parameter-IRT"><span class="toc-section-number">6.7</span> Sometimes a DGP is all you need</a></li>
<li><a href="6.8-more-to-explore.html#more-to-explore" id="toc-more-to-explore"><span class="toc-section-number">6.8</span> More to explore</a></li>
<li class="has-sub"><a href="6.9-exercises-3.html#exercises-3" id="toc-exercises-3"><span class="toc-section-number">6.9</span> Exercises</a>
<ul>
<li><a href="6.9-exercises-3.html#Welch-t-dgp" id="toc-Welch-t-dgp"><span class="toc-section-number">6.9.1</span> The Welch test on a shifted-and-scaled <span class="math inline">\(t\)</span> distribution</a></li>
<li><a href="6.9-exercises-3.html#plot-the-bivariate-poisson" id="toc-plot-the-bivariate-poisson"><span class="toc-section-number">6.9.2</span> Plot the bivariate Poisson</a></li>
<li><a href="6.9-exercises-3.html#BVP-check" id="toc-BVP-check"><span class="toc-section-number">6.9.3</span> Check the bivariate Poisson function</a></li>
<li><a href="6.9-exercises-3.html#BVP-error" id="toc-BVP-error"><span class="toc-section-number">6.9.4</span> Add error-catching to the bivariate Poisson function</a></li>
<li><a href="6.9-exercises-3.html#BVNB1" id="toc-BVNB1"><span class="toc-section-number">6.9.5</span> A bivariate negative binomial distribution</a></li>
<li><a href="6.9-exercises-3.html#BVNB2" id="toc-BVNB2"><span class="toc-section-number">6.9.6</span> Another bivariate negative binomial distribution</a></li>
<li><a href="6.9-exercises-3.html#cluster-RCT-plot" id="toc-cluster-RCT-plot"><span class="toc-section-number">6.9.7</span> Plot the data from a cluster-randomized trial</a></li>
<li><a href="6.9-exercises-3.html#cluster-RCT-checks" id="toc-cluster-RCT-checks"><span class="toc-section-number">6.9.8</span> Checking the Cluster RCT DGP</a></li>
<li><a href="6.9-exercises-3.html#cluster-RCT-heterogeneity" id="toc-cluster-RCT-heterogeneity"><span class="toc-section-number">6.9.9</span> More school-level variation</a></li>
<li><a href="6.9-exercises-3.html#cluster-RCT-baseline" id="toc-cluster-RCT-baseline"><span class="toc-section-number">6.9.10</span> Cluster-randomized trial with baseline predictors</a></li>
<li><a href="6.9-exercises-3.html#IRT-DGP-parameters" id="toc-IRT-DGP-parameters"><span class="toc-section-number">6.9.11</span> 3-parameter IRT datasets</a></li>
<li><a href="6.9-exercises-3.html#IRT-DGP-checking" id="toc-IRT-DGP-checking"><span class="toc-section-number">6.9.12</span> Check the 3-parameter IRT DGP</a></li>
<li><a href="6.9-exercises-3.html#IRT-DGP-breaking" id="toc-IRT-DGP-breaking"><span class="toc-section-number">6.9.13</span> Explore the 3-parameter IRT model</a></li>
<li><a href="6.9-exercises-3.html#meta-regression-DGP" id="toc-meta-regression-DGP"><span class="toc-section-number">6.9.14</span> Random effects meta-regression</a></li>
<li><a href="6.9-exercises-3.html#Vevea-Hedges-DGP" id="toc-Vevea-Hedges-DGP"><span class="toc-section-number">6.9.15</span> Meta-regression with selective reporting</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="7-data-analysis-procedures.html#data-analysis-procedures" id="toc-data-analysis-procedures"><span class="toc-section-number">7</span> Data analysis procedures</a>
<ul>
<li><a href="7.1-estimation-functions.html#estimation-functions" id="toc-estimation-functions"><span class="toc-section-number">7.1</span> Writing estimation functions</a></li>
<li><a href="7.2-multiple-estimation-procedures.html#multiple-estimation-procedures" id="toc-multiple-estimation-procedures"><span class="toc-section-number">7.2</span> Including Multiple Data Analysis Procedures</a></li>
<li class="has-sub"><a href="7.3-validating-an-estimation-function.html#validating-an-estimation-function" id="toc-validating-an-estimation-function"><span class="toc-section-number">7.3</span> Validating an Estimation Function</a>
<ul>
<li><a href="7.3-validating-an-estimation-function.html#checking-against-existing-implementations" id="toc-checking-against-existing-implementations"><span class="toc-section-number">7.3.1</span> Checking against existing implementations</a></li>
<li><a href="7.3-validating-an-estimation-function.html#checking-novel-procedures" id="toc-checking-novel-procedures"><span class="toc-section-number">7.3.2</span> Checking novel procedures</a></li>
<li><a href="7.3-validating-an-estimation-function.html#checking-with-simulations" id="toc-checking-with-simulations"><span class="toc-section-number">7.3.3</span> Checking with simulations</a></li>
</ul></li>
<li class="has-sub"><a href="7.4-handling-errors-warnings-and-other-hiccups.html#handling-errors-warnings-and-other-hiccups" id="toc-handling-errors-warnings-and-other-hiccups"><span class="toc-section-number">7.4</span> Handling errors, warnings, and other hiccups</a>
<ul>
<li><a href="7.4-handling-errors-warnings-and-other-hiccups.html#capturing-errors-and-warnings" id="toc-capturing-errors-and-warnings"><span class="toc-section-number">7.4.1</span> Capturing errors and warnings</a></li>
<li><a href="7.4-handling-errors-warnings-and-other-hiccups.html#adapting-for-errors" id="toc-adapting-for-errors"><span class="toc-section-number">7.4.2</span> Adapting estimation procedures for errors and warnings</a></li>
</ul></li>
<li class="has-sub"><a href="7.5-exercises-4.html#exercises-4" id="toc-exercises-4"><span class="toc-section-number">7.5</span> Exercises</a>
<ul>
<li><a href="7.5-exercises-4.html#BFFs-forever" id="toc-BFFs-forever"><span class="toc-section-number">7.5.1</span> More Heteroskedastic ANOVA</a></li>
<li><a href="7.5-exercises-4.html#contingent-testing" id="toc-contingent-testing"><span class="toc-section-number">7.5.2</span> Contingent testing</a></li>
<li><a href="7.5-exercises-4.html#cross-check-CRT-estimators" id="toc-cross-check-CRT-estimators"><span class="toc-section-number">7.5.3</span> Check the cluster-RCT functions</a></li>
<li><a href="7.5-exercises-4.html#CRT-ANCOVA-estimators" id="toc-CRT-ANCOVA-estimators"><span class="toc-section-number">7.5.4</span> Extending the cluster-RCT functions</a></li>
<li><a href="7.5-exercises-4.html#contingent-estimator-processing" id="toc-contingent-estimator-processing"><span class="toc-section-number">7.5.5</span> Contingent estimator processing</a></li>
<li><a href="7.5-exercises-4.html#IRT-3PL-estimation" id="toc-IRT-3PL-estimation"><span class="toc-section-number">7.5.6</span> Estimating 3-parameter item response theory models</a></li>
<li><a href="7.5-exercises-4.html#Vevea-Hedges-estimation" id="toc-Vevea-Hedges-estimation"><span class="toc-section-number">7.5.7</span> Meta-regression with selective reporting</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="8-running-the-simulation-process.html#running-the-simulation-process" id="toc-running-the-simulation-process"><span class="toc-section-number">8</span> Running the Simulation Process</a>
<ul>
<li><a href="8.1-writing-simulations-quick-with-the-simhelpers-package.html#writing-simulations-quick-with-the-simhelpers-package" id="toc-writing-simulations-quick-with-the-simhelpers-package"><span class="toc-section-number">8.1</span> Writing simulations quick with the simhelpers package</a></li>
<li><a href="8.2-adding-checks-and-balances.html#adding-checks-and-balances" id="toc-adding-checks-and-balances"><span class="toc-section-number">8.2</span> Adding Checks and Balances</a></li>
<li><a href="8.3-exercises-5.html#exercises-5" id="toc-exercises-5"><span class="toc-section-number">8.3</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="9-performance-criteria.html#performance-criteria" id="toc-performance-criteria"><span class="toc-section-number">9</span> Performance criteria</a>
<ul>
<li><a href="9.1-different-kinds-of-performance.html#different-kinds-of-performance" id="toc-different-kinds-of-performance"><span class="toc-section-number">9.1</span> Different kinds of performance</a></li>
<li class="has-sub"><a href="9.2-assessing-a-point-estimator.html#assessing-a-point-estimator" id="toc-assessing-a-point-estimator"><span class="toc-section-number">9.2</span> Assessing a Point Estimator</a>
<ul>
<li><a href="9.2-assessing-a-point-estimator.html#comparing-the-performances-of-the-cluster-rct-estimation-procedures" id="toc-comparing-the-performances-of-the-cluster-rct-estimation-procedures"><span class="toc-section-number">9.2.1</span> Comparing the Performances of the Cluster RCT Estimation Procedures</a></li>
<li><a href="9.2-assessing-a-point-estimator.html#estimands-not-represented-by-a-parameter" id="toc-estimands-not-represented-by-a-parameter"><span class="toc-section-number">9.2.2</span> Estimands Not Represented By a Parameter</a></li>
</ul></li>
<li class="has-sub"><a href="9.3-assessing-a-standard-error-estimator.html#assessing-a-standard-error-estimator" id="toc-assessing-a-standard-error-estimator"><span class="toc-section-number">9.3</span> Assessing a Standard Error Estimator</a>
<ul>
<li><a href="9.3-assessing-a-standard-error-estimator.html#why-not-assess-the-estimated-se-directly" id="toc-why-not-assess-the-estimated-se-directly"><span class="toc-section-number">9.3.1</span> Why Not Assess the Estimated SE directly?</a></li>
<li><a href="9.3-assessing-a-standard-error-estimator.html#assessing-ses-for-our-cluster-rct-simulation" id="toc-assessing-ses-for-our-cluster-rct-simulation"><span class="toc-section-number">9.3.2</span> Assessing SEs for Our Cluster RCT Simulation</a></li>
</ul></li>
<li class="has-sub"><a href="9.4-assessing-an-inferential-procedure-hypothesis-testing.html#assessing-an-inferential-procedure-hypothesis-testing" id="toc-assessing-an-inferential-procedure-hypothesis-testing"><span class="toc-section-number">9.4</span> Assessing an Inferential Procedure (Hypothesis Testing)</a>
<ul>
<li><a href="9.4-assessing-an-inferential-procedure-hypothesis-testing.html#validity" id="toc-validity"><span class="toc-section-number">9.4.1</span> Validity</a></li>
<li><a href="9.4-assessing-an-inferential-procedure-hypothesis-testing.html#power" id="toc-power"><span class="toc-section-number">9.4.2</span> Power</a></li>
<li><a href="9.4-assessing-an-inferential-procedure-hypothesis-testing.html#the-rejection-rate" id="toc-the-rejection-rate"><span class="toc-section-number">9.4.3</span> The Rejection Rate</a></li>
<li><a href="9.4-assessing-an-inferential-procedure-hypothesis-testing.html#inference-in-our-cluster-rct-simulation" id="toc-inference-in-our-cluster-rct-simulation"><span class="toc-section-number">9.4.4</span> Inference in our Cluster RCT Simulation</a></li>
</ul></li>
<li class="has-sub"><a href="9.5-assessing-confidence-intervals.html#assessing-confidence-intervals" id="toc-assessing-confidence-intervals"><span class="toc-section-number">9.5</span> Assessing Confidence Intervals</a>
<ul>
<li><a href="9.5-assessing-confidence-intervals.html#confidence-intervals-in-our-cluster-rct-example" id="toc-confidence-intervals-in-our-cluster-rct-example"><span class="toc-section-number">9.5.1</span> Confidence Intervals in our Cluster RCT Example</a></li>
</ul></li>
<li class="has-sub"><a href="9.6-additional-thoughts-on-measuring-performance.html#additional-thoughts-on-measuring-performance" id="toc-additional-thoughts-on-measuring-performance"><span class="toc-section-number">9.6</span> Additional Thoughts on Measuring Performance</a>
<ul>
<li><a href="9.6-additional-thoughts-on-measuring-performance.html#sec-relative-performance" id="toc-sec-relative-performance"><span class="toc-section-number">9.6.1</span> Selecting Relative vs. Absolute Criteria</a></li>
<li><a href="9.6-additional-thoughts-on-measuring-performance.html#robust-measures-of-performance" id="toc-robust-measures-of-performance"><span class="toc-section-number">9.6.2</span> Robust Measures of Performance</a></li>
<li><a href="9.6-additional-thoughts-on-measuring-performance.html#summary-of-peformance-measures" id="toc-summary-of-peformance-measures"><span class="toc-section-number">9.6.3</span> Summary of Peformance Measures</a></li>
</ul></li>
<li class="has-sub"><a href="9.7-uncertainty-in-performance-estimates-the-monte-carlo-standard-error.html#uncertainty-in-performance-estimates-the-monte-carlo-standard-error" id="toc-uncertainty-in-performance-estimates-the-monte-carlo-standard-error"><span class="toc-section-number">9.7</span> Uncertainty in Performance Estimates (the Monte Carlo Standard Error)</a>
<ul>
<li><a href="9.7-uncertainty-in-performance-estimates-the-monte-carlo-standard-error.html#mcse-for-relative-variance-estimators" id="toc-mcse-for-relative-variance-estimators"><span class="toc-section-number">9.7.1</span> MCSE for Relative Variance Estimators</a></li>
<li><a href="9.7-uncertainty-in-performance-estimates-the-monte-carlo-standard-error.html#calculating-mcses-with-the-simhelpers-package" id="toc-calculating-mcses-with-the-simhelpers-package"><span class="toc-section-number">9.7.2</span> Calculating MCSEs With the <code>simhelpers</code> Package</a></li>
<li><a href="9.7-uncertainty-in-performance-estimates-the-monte-carlo-standard-error.html#mcse-calculation-in-our-cluster-rct-example" id="toc-mcse-calculation-in-our-cluster-rct-example"><span class="toc-section-number">9.7.3</span> MCSE Calculation in our Cluster RCT Example</a></li>
</ul></li>
<li><a href="9.8-exercises-6.html#exercises-6" id="toc-exercises-6"><span class="toc-section-number">9.8</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="10-case_Cronbach.html#case_Cronbach" id="toc-case_Cronbach"><span class="toc-section-number">10</span> Project: Cronbach Alpha</a>
<ul>
<li><a href="10.1-background.html#background" id="toc-background"><span class="toc-section-number">10.1</span> Background</a></li>
<li><a href="10.2-getting-started.html#getting-started" id="toc-getting-started"><span class="toc-section-number">10.2</span> Getting started</a></li>
<li><a href="10.3-the-data-generating-function.html#the-data-generating-function" id="toc-the-data-generating-function"><span class="toc-section-number">10.3</span> The data-generating function</a></li>
<li class="has-sub"><a href="10.4-the-estimation-function.html#the-estimation-function" id="toc-the-estimation-function"><span class="toc-section-number">10.4</span> The estimation function</a>
<ul>
<li><a href="10.4-the-estimation-function.html#exercises-naive-confidence-intervals" id="toc-exercises-naive-confidence-intervals"><span class="toc-section-number">10.4.1</span> Exercises (Naive confidence intervals)</a></li>
</ul></li>
<li class="has-sub"><a href="10.5-estimator-performance.html#estimator-performance" id="toc-estimator-performance"><span class="toc-section-number">10.5</span> Estimator performance</a>
<ul>
<li><a href="10.5-estimator-performance.html#exercises-calculating-performance" id="toc-exercises-calculating-performance"><span class="toc-section-number">10.5.1</span> Exercises (Calculating Performance)</a></li>
</ul></li>
<li><a href="10.6-replication-and-the-simulation.html#replication-and-the-simulation" id="toc-replication-and-the-simulation"><span class="toc-section-number">10.6</span> Replication (and the simulation)</a></li>
<li><a href="10.7-extension-confidence-interval-coverage.html#extension-confidence-interval-coverage" id="toc-extension-confidence-interval-coverage"><span class="toc-section-number">10.7</span> Extension: Confidence interval coverage</a></li>
<li class="has-sub"><a href="10.8-a-taste-of-multiple-scenarios.html#a-taste-of-multiple-scenarios" id="toc-a-taste-of-multiple-scenarios"><span class="toc-section-number">10.8</span> A taste of multiple scenarios</a>
<ul>
<li><a href="10.8-a-taste-of-multiple-scenarios.html#exercises-7" id="toc-exercises-7"><span class="toc-section-number">10.8.1</span> Exercises</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Multifactor Simulations</b></span></li>
<li class="has-sub"><a href="11-exp-design.html#exp-design" id="toc-exp-design"><span class="toc-section-number">11</span> Designing the multifactor simulation experiment</a>
<ul>
<li class="has-sub"><a href="11.1-choosing-parameter-combinations.html#choosing-parameter-combinations" id="toc-choosing-parameter-combinations"><span class="toc-section-number">11.1</span> Choosing parameter combinations</a>
<ul>
<li><a href="11.1-choosing-parameter-combinations.html#choosing-parameters-for-the-clustered-rct" id="toc-choosing-parameters-for-the-clustered-rct"><span class="toc-section-number">11.1.1</span> Choosing parameters for the Clustered RCT</a></li>
</ul></li>
<li><a href="11.2-using-pmap-to-run-multifactor-simulations.html#using-pmap-to-run-multifactor-simulations" id="toc-using-pmap-to-run-multifactor-simulations"><span class="toc-section-number">11.2</span> Using pmap to run multifactor simulations</a></li>
<li class="has-sub"><a href="11.3-when-to-aggregate-results-across-multiple-simulations.html#when-to-aggregate-results-across-multiple-simulations" id="toc-when-to-aggregate-results-across-multiple-simulations"><span class="toc-section-number">11.3</span> When to aggregate results across multiple simulations</a>
<ul>
<li><a href="11.3-when-to-aggregate-results-across-multiple-simulations.html#aggregate-as-you-simulate-inside" id="toc-aggregate-as-you-simulate-inside"><span class="toc-section-number">11.3.1</span> Aggregate as you simulate (inside)</a></li>
<li><a href="11.3-when-to-aggregate-results-across-multiple-simulations.html#keep-all-simulation-runs-outside" id="toc-keep-all-simulation-runs-outside"><span class="toc-section-number">11.3.2</span> Keep all simulation runs (outside)</a></li>
<li><a href="11.3-when-to-aggregate-results-across-multiple-simulations.html#getting-raw-results-ready-for-analysis" id="toc-getting-raw-results-ready-for-analysis"><span class="toc-section-number">11.3.3</span> Getting raw results ready for analysis</a></li>
</ul></li>
<li class="has-sub"><a href="11.4-running-the-cluster-rct-multifactor-experiment.html#running-the-cluster-rct-multifactor-experiment" id="toc-running-the-cluster-rct-multifactor-experiment"><span class="toc-section-number">11.4</span> Running the Cluster RCT multifactor experiment</a>
<ul>
<li><a href="11.4-running-the-cluster-rct-multifactor-experiment.html#making-analyze_data-quiet" id="toc-making-analyze_data-quiet"><span class="toc-section-number">11.4.1</span> Making analyze_data() quiet</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="12-analyzing-the-multifactor-experiment.html#analyzing-the-multifactor-experiment" id="toc-analyzing-the-multifactor-experiment"><span class="toc-section-number">12</span> Analyzing the multifactor experiment</a>
<ul>
<li class="has-sub"><a href="12.1-ways-of-analyzing-simulation-results.html#ways-of-analyzing-simulation-results" id="toc-ways-of-analyzing-simulation-results"><span class="toc-section-number">12.1</span> Ways of analyzing simulation results</a>
<ul>
<li><a href="12.1-ways-of-analyzing-simulation-results.html#plot-everything-with-many-small-multiples" id="toc-plot-everything-with-many-small-multiples"><span class="toc-section-number">12.1.1</span> Plot everything with many small multiples</a></li>
<li><a href="12.1-ways-of-analyzing-simulation-results.html#bundling" id="toc-bundling"><span class="toc-section-number">12.1.2</span> Bundling</a></li>
<li><a href="12.1-ways-of-analyzing-simulation-results.html#aggregation" id="toc-aggregation"><span class="toc-section-number">12.1.3</span> Aggregation</a></li>
<li><a href="12.1-ways-of-analyzing-simulation-results.html#regression-summarization" id="toc-regression-summarization"><span class="toc-section-number">12.1.4</span> Regression Summarization</a></li>
<li><a href="12.1-ways-of-analyzing-simulation-results.html#focus-on-a-subset-kick-rest-to-supplement" id="toc-focus-on-a-subset-kick-rest-to-supplement"><span class="toc-section-number">12.1.5</span> Focus on a subset, kick rest to supplement</a></li>
</ul></li>
<li><a href="12.2-analyzing-results-when-some-trials-have-failed.html#analyzing-results-when-some-trials-have-failed" id="toc-analyzing-results-when-some-trials-have-failed"><span class="toc-section-number">12.2</span> Analyzing results when some trials have failed</a></li>
<li class="has-sub"><a href="12.3-case-study-power-for-a-randomized-trial.html#case-study-power-for-a-randomized-trial" id="toc-case-study-power-for-a-randomized-trial"><span class="toc-section-number">12.3</span> Case study: power for a randomized trial</a>
<ul>
<li><a href="12.3-case-study-power-for-a-randomized-trial.html#the-initial-analysis" id="toc-the-initial-analysis"><span class="toc-section-number">12.3.1</span> The initial analysis</a></li>
<li><a href="12.3-case-study-power-for-a-randomized-trial.html#focusing-on-validity" id="toc-focusing-on-validity"><span class="toc-section-number">12.3.2</span> Focusing on validity</a></li>
<li><a href="12.3-case-study-power-for-a-randomized-trial.html#aggregate-to-look-at-main-effects" id="toc-aggregate-to-look-at-main-effects"><span class="toc-section-number">12.3.3</span> Aggregate to look at main effects</a></li>
<li><a href="12.3-case-study-power-for-a-randomized-trial.html#recap" id="toc-recap"><span class="toc-section-number">12.3.4</span> Recap</a></li>
</ul></li>
<li><a href="12.4-exercises-8.html#exercises-8" id="toc-exercises-8"><span class="toc-section-number">12.4</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="13-case-study-comparing-different-estimators.html#case-study-comparing-different-estimators" id="toc-case-study-comparing-different-estimators"><span class="toc-section-number">13</span> Case study: Comparing different estimators</a>
<ul>
<li><a href="13.1-the-data-generating-process.html#the-data-generating-process" id="toc-the-data-generating-process"><span class="toc-section-number">13.1</span> The data generating process</a></li>
<li><a href="13.2-the-data-analysis-methods.html#the-data-analysis-methods" id="toc-the-data-analysis-methods"><span class="toc-section-number">13.2</span> The data analysis methods</a></li>
<li><a href="13.3-the-simulation-itself.html#the-simulation-itself" id="toc-the-simulation-itself"><span class="toc-section-number">13.3</span> The simulation itself</a></li>
<li><a href="13.4-calculating-performance-measures-for-all-our-estimators.html#calculating-performance-measures-for-all-our-estimators" id="toc-calculating-performance-measures-for-all-our-estimators"><span class="toc-section-number">13.4</span> Calculating performance measures for all our estimators</a></li>
<li><a href="13.5-improving-the-visualization-of-the-results.html#improving-the-visualization-of-the-results" id="toc-improving-the-visualization-of-the-results"><span class="toc-section-number">13.5</span> Improving the visualization of the results</a></li>
<li><a href="13.6-extension-the-bias-variance-tradeoff.html#extension-the-bias-variance-tradeoff" id="toc-extension-the-bias-variance-tradeoff"><span class="toc-section-number">13.6</span> Extension: The Bias-variance tradeoff</a></li>
</ul></li>
<li class="has-sub"><a href="14-presentation-of-simulation-results.html#presentation-of-simulation-results" id="toc-presentation-of-simulation-results"><span class="toc-section-number">14</span> Presentation of simulation results</a>
<ul>
<li><a href="14.1-tabulation.html#tabulation" id="toc-tabulation"><span class="toc-section-number">14.1</span> Tabulation</a></li>
<li class="has-sub"><a href="14.2-visualization.html#visualization" id="toc-visualization"><span class="toc-section-number">14.2</span> Visualization</a>
<ul>
<li><a href="14.2-visualization.html#example-1-biserial-correlation-estimation" id="toc-example-1-biserial-correlation-estimation"><span class="toc-section-number">14.2.1</span> Example 1: Biserial correlation estimation</a></li>
<li><a href="14.2-visualization.html#example-2-variance-estimation-and-meta-regression" id="toc-example-2-variance-estimation-and-meta-regression"><span class="toc-section-number">14.2.2</span> Example 2: Variance estimation and Meta-regression</a></li>
<li><a href="14.2-visualization.html#example-heat-maps-of-coverage" id="toc-example-heat-maps-of-coverage"><span class="toc-section-number">14.2.3</span> Example: Heat maps of coverage</a></li>
</ul></li>
<li><a href="14.3-modeling.html#modeling" id="toc-modeling"><span class="toc-section-number">14.3</span> Modeling</a></li>
</ul></li>
<li class="part"><span><b>IV Computational Considerations</b></span></li>
<li class="has-sub"><a href="15-sec-reproducability.html#sec-reproducability" id="toc-sec-reproducability"><span class="toc-section-number">15</span> Ensuring reproducibility</a>
<ul>
<li><a href="15.1-seeds-and-pseudo-random-number-generators.html#seeds-and-pseudo-random-number-generators" id="toc-seeds-and-pseudo-random-number-generators"><span class="toc-section-number">15.1</span> Seeds and pseudo-random number generators</a></li>
<li><a href="15.2-including-seed-in-our-simulation-driver.html#including-seed-in-our-simulation-driver" id="toc-including-seed-in-our-simulation-driver"><span class="toc-section-number">15.2</span> Including seed in our simulation driver</a></li>
<li><a href="15.3-reasons-for-setting-the-seed.html#reasons-for-setting-the-seed" id="toc-reasons-for-setting-the-seed"><span class="toc-section-number">15.3</span> Reasons for setting the seed</a></li>
</ul></li>
<li class="has-sub"><a href="16-optimize-code.html#optimize-code" id="toc-optimize-code"><span class="toc-section-number">16</span> Optimizing code (and why you often shouldn’t)</a>
<ul>
<li><a href="16.1-hand-building-functions.html#hand-building-functions" id="toc-hand-building-functions"><span class="toc-section-number">16.1</span> Hand-building functions</a></li>
<li><a href="16.2-sec_comp_efficiency.html#sec_comp_efficiency" id="toc-sec_comp_efficiency"><span class="toc-section-number">16.2</span> Computational efficiency versus simplicity</a></li>
<li><a href="16.3-reusing-code-to-speed-up-computation.html#reusing-code-to-speed-up-computation" id="toc-reusing-code-to-speed-up-computation"><span class="toc-section-number">16.3</span> Reusing code to speed up computation</a></li>
</ul></li>
<li class="has-sub"><a href="17-error-trapping-and-other-headaches.html#error-trapping-and-other-headaches" id="toc-error-trapping-and-other-headaches"><span class="toc-section-number">17</span> Error trapping and other headaches</a>
<ul>
<li><a href="17-error-trapping-and-other-headaches.html#what-to-do-with-warnings-in-simulations" id="toc-what-to-do-with-warnings-in-simulations"><span class="toc-section-number">17.0.1</span> What to do with warnings in simulations</a></li>
</ul></li>
<li class="has-sub"><a href="18-saving-files.html#saving-files" id="toc-saving-files"><span class="toc-section-number">18</span> Saving files and results</a>
<ul>
<li><a href="18.1-saving-simulations-in-general.html#saving-simulations-in-general" id="toc-saving-simulations-in-general"><span class="toc-section-number">18.1</span> Saving simulations in general</a></li>
<li><a href="18.2-saving-simulations-as-you-go.html#saving-simulations-as-you-go" id="toc-saving-simulations-as-you-go"><span class="toc-section-number">18.2</span> Saving simulations as you go</a></li>
<li><a href="18.3-dynamically-making-directories.html#dynamically-making-directories" id="toc-dynamically-making-directories"><span class="toc-section-number">18.3</span> Dynamically making directories</a></li>
<li><a href="18.4-loading-and-combining-files-of-simulation-results.html#loading-and-combining-files-of-simulation-results" id="toc-loading-and-combining-files-of-simulation-results"><span class="toc-section-number">18.4</span> Loading and combining files of simulation results</a></li>
</ul></li>
<li class="has-sub"><a href="19-parallel-processing.html#parallel-processing" id="toc-parallel-processing"><span class="toc-section-number">19</span> Parallel Processing</a>
<ul>
<li><a href="19.1-parallel-on-your-computer.html#parallel-on-your-computer" id="toc-parallel-on-your-computer"><span class="toc-section-number">19.1</span> Parallel on your computer</a></li>
<li class="has-sub"><a href="19.2-parallel-off-your-computer.html#parallel-off-your-computer" id="toc-parallel-off-your-computer"><span class="toc-section-number">19.2</span> Parallel off your computer</a>
<ul>
<li><a href="19.2-parallel-off-your-computer.html#what-is-a-command-line-interface" id="toc-what-is-a-command-line-interface"><span class="toc-section-number">19.2.1</span> What is a command-line interface?</a></li>
<li><a href="19.2-parallel-off-your-computer.html#running-a-job-on-a-cluster" id="toc-running-a-job-on-a-cluster"><span class="toc-section-number">19.2.2</span> Running a job on a cluster</a></li>
<li><a href="19.2-parallel-off-your-computer.html#checking-on-a-job" id="toc-checking-on-a-job"><span class="toc-section-number">19.2.3</span> Checking on a job</a></li>
<li><a href="19.2-parallel-off-your-computer.html#running-lots-of-jobs-on-a-cluster" id="toc-running-lots-of-jobs-on-a-cluster"><span class="toc-section-number">19.2.4</span> Running lots of jobs on a cluster</a></li>
<li><a href="19.2-parallel-off-your-computer.html#resources-for-harvards-odyssey" id="toc-resources-for-harvards-odyssey"><span class="toc-section-number">19.2.5</span> Resources for Harvard’s Odyssey</a></li>
<li><a href="19.2-parallel-off-your-computer.html#acknowledgements-1" id="toc-acknowledgements-1"><span class="toc-section-number">19.2.6</span> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="20-simulations-as-evidence.html#simulations-as-evidence" id="toc-simulations-as-evidence"><span class="toc-section-number">20</span> Simulations as evidence</a>
<ul>
<li class="has-sub"><a href="20.1-strategies-for-making-relevant-simulations.html#strategies-for-making-relevant-simulations" id="toc-strategies-for-making-relevant-simulations"><span class="toc-section-number">20.1</span> Strategies for making relevant simulations</a>
<ul>
<li><a href="20.1-strategies-for-making-relevant-simulations.html#make-your-simulation-general-with-an-extensive-multi-factor-experiment" id="toc-make-your-simulation-general-with-an-extensive-multi-factor-experiment"><span class="toc-section-number">20.1.1</span> Make your simulation general with an extensive multi-factor experiment</a></li>
<li><a href="20.1-strategies-for-making-relevant-simulations.html#use-previously-published-simulations-to-beat-them-at-their-own-game" id="toc-use-previously-published-simulations-to-beat-them-at-their-own-game"><span class="toc-section-number">20.1.2</span> Use previously published simulations to beat them at their own game</a></li>
<li><a href="20.1-strategies-for-making-relevant-simulations.html#calibrate-simulation-factors-to-real-data" id="toc-calibrate-simulation-factors-to-real-data"><span class="toc-section-number">20.1.3</span> Calibrate simulation factors to real data</a></li>
<li><a href="20.1-strategies-for-making-relevant-simulations.html#use-real-data-to-obtain-directly" id="toc-use-real-data-to-obtain-directly"><span class="toc-section-number">20.1.4</span> Use real data to obtain directly</a></li>
<li><a href="20.1-strategies-for-making-relevant-simulations.html#fully-calibrated-simulations" id="toc-fully-calibrated-simulations"><span class="toc-section-number">20.1.5</span> Fully calibrated simulations</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Complex Data Structures</b></span></li>
<li class="has-sub"><a href="21-using-simulation-as-a-power-calculator.html#using-simulation-as-a-power-calculator" id="toc-using-simulation-as-a-power-calculator"><span class="toc-section-number">21</span> Using simulation as a power calculator</a>
<ul>
<li><a href="21.1-getting-design-parameters-from-pilot-data.html#getting-design-parameters-from-pilot-data" id="toc-getting-design-parameters-from-pilot-data"><span class="toc-section-number">21.1</span> Getting design parameters from pilot data</a></li>
<li><a href="21.2-the-data-generating-process-1.html#the-data-generating-process-1" id="toc-the-data-generating-process-1"><span class="toc-section-number">21.2</span> The data generating process</a></li>
<li><a href="21.3-running-the-simulation-1.html#running-the-simulation-1" id="toc-running-the-simulation-1"><span class="toc-section-number">21.3</span> Running the simulation</a></li>
<li class="has-sub"><a href="21.4-evaluating-power.html#evaluating-power" id="toc-evaluating-power"><span class="toc-section-number">21.4</span> Evaluating power</a>
<ul>
<li><a href="21.4-evaluating-power.html#checking-validity-of-our-models" id="toc-checking-validity-of-our-models"><span class="toc-section-number">21.4.1</span> Checking validity of our models</a></li>
<li><a href="21.4-evaluating-power.html#assessing-precision-se" id="toc-assessing-precision-se"><span class="toc-section-number">21.4.2</span> Assessing Precision (SE)</a></li>
<li><a href="21.4-evaluating-power.html#assessing-power" id="toc-assessing-power"><span class="toc-section-number">21.4.3</span> Assessing power</a></li>
<li><a href="21.4-evaluating-power.html#assessing-minimum-detectable-effects" id="toc-assessing-minimum-detectable-effects"><span class="toc-section-number">21.4.4</span> Assessing Minimum Detectable Effects</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="22-potential-outcomes.html#potential-outcomes" id="toc-potential-outcomes"><span class="toc-section-number">22</span> Simulation under the Potential Outcomes Framework</a>
<ul>
<li><a href="22.1-finite-vs.-superpopulation-inference.html#finite-vs.-superpopulation-inference" id="toc-finite-vs.-superpopulation-inference"><span class="toc-section-number">22.1</span> Finite vs. Superpopulation inference</a></li>
<li><a href="22.2-data-generation-processes-for-potential-outcomes.html#data-generation-processes-for-potential-outcomes" id="toc-data-generation-processes-for-potential-outcomes"><span class="toc-section-number">22.2</span> Data generation processes for potential outcomes</a></li>
<li><a href="22.3-finite-sample-performance-measures.html#finite-sample-performance-measures" id="toc-finite-sample-performance-measures"><span class="toc-section-number">22.3</span> Finite sample performance measures</a></li>
<li><a href="22.4-nested-finite-simulation-procedure.html#nested-finite-simulation-procedure" id="toc-nested-finite-simulation-procedure"><span class="toc-section-number">22.4</span> Nested finite simulation procedure</a></li>
</ul></li>
<li class="has-sub"><a href="23-the-parametric-bootstrap.html#the-parametric-bootstrap" id="toc-the-parametric-bootstrap"><span class="toc-section-number">23</span> The Parametric bootstrap</a>
<ul>
<li><a href="23.1-air-conditioners-a-stolen-case-study.html#air-conditioners-a-stolen-case-study" id="toc-air-conditioners-a-stolen-case-study"><span class="toc-section-number">23.1</span> Air conditioners: a stolen case study</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="has-sub"><a href="A-coding-tidbits.html#coding-tidbits" id="toc-coding-tidbits"><span class="toc-section-number">A</span> Coding tidbits</a>
<ul>
<li class="has-sub"><a href="A.1-repeating-oneself.html#repeating-oneself" id="toc-repeating-oneself"><span class="toc-section-number">A.1</span> How to repeat yourself</a>
<ul>
<li><a href="A.1-repeating-oneself.html#using-replicate" id="toc-using-replicate"><span class="toc-section-number">A.1.1</span> Using <code>replicate()</code></a></li>
<li><a href="A.1-repeating-oneself.html#using-map" id="toc-using-map"><span class="toc-section-number">A.1.2</span> Using <code>map()</code></a></li>
<li><a href="A.1-repeating-oneself.html#map-with-no-inputs" id="toc-map-with-no-inputs"><span class="toc-section-number">A.1.3</span> map with no inputs</a></li>
<li><a href="A.1-repeating-oneself.html#other-approaches-for-repetition" id="toc-other-approaches-for-repetition"><span class="toc-section-number">A.1.4</span> Other approaches for repetition</a></li>
</ul></li>
<li><a href="A.2-default-arguments.html#default-arguments" id="toc-default-arguments"><span class="toc-section-number">A.2</span> Default arguments for functions</a></li>
<li><a href="A.3-about-source-command.html#about-source-command" id="toc-about-source-command"><span class="toc-section-number">A.3</span> The source command and keeping things organized</a></li>
<li><a href="A.4-about-keeping-tests-with-FALSE.html#about-keeping-tests-with-FALSE" id="toc-about-keeping-tests-with-FALSE"><span class="toc-section-number">A.4</span> Testing and debugging code in your scripts</a></li>
<li><a href="A.5-about-browser-debugging.html#about-browser-debugging" id="toc-about-browser-debugging"><span class="toc-section-number">A.5</span> Debugging with browser</a></li>
<li><a href="A.6-about-stopifnot.html#about-stopifnot" id="toc-about-stopifnot"><span class="toc-section-number">A.6</span> Protecting your functions with “stop”</a></li>
</ul></li>
<li><a href="B-further-readings-and-resources.html#further-readings-and-resources" id="toc-further-readings-and-resources"><span class="toc-section-number">B</span> Further readings and resources</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="case-study-power-for-a-randomized-trial" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Case study: power for a randomized trial</h2>
<p>We next walk through a case study where we compare different visualizations of the same performance metric (in this case, power).
The goal is to see how to examine a metric from several perspectives, and to see how to explore simulation results across scenarios.</p>
<p>For this example, we are going to look at a randomized experiment.
We will generate control potential outcomes with a normal distribution, and then add a treatment effect to the treated units.</p>
<p>For our analytic approach, we will estimate the
treatment effect by taking the difference in means.
We will calculate the associated standard error and generate <span class="math inline">\(p\)</span>-values using the normal
approximation.
(As we will see, this is not a good idea for small sample sizes since we should be using a <span class="math inline">\(t\)</span>-test style approach.)</p>
<p>Violating our usual modular approach, we are going to have a single function that does an entire step: our function will generate the data and then analyze it all in one go.
Our function also calculates and returns the true effect size of the DGP as the true treatment
effect divided by the control standard deviation (this true effect size will be useful for understanding power, as we show later on).</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-1" tabindex="-1"></a>run.one <span class="ot">=</span> <span class="cf">function</span>( nC, nT, sdC, tau, <span class="at">mu =</span> <span class="dv">5</span>, <span class="at">sdTau =</span> <span class="dv">0</span> ) {</span>
<span id="cb405-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-2" tabindex="-1"></a>  Y0 <span class="ot">=</span> mu <span class="sc">+</span> <span class="fu">rnorm</span>( nC, <span class="at">sd=</span>sdC )</span>
<span id="cb405-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-3" tabindex="-1"></a>  Y1 <span class="ot">=</span> mu <span class="sc">+</span> <span class="fu">rnorm</span>( nT, <span class="at">sd=</span>sdC ) <span class="sc">+</span> tau <span class="sc">+</span> <span class="fu">rnorm</span>( nT, <span class="at">sd=</span>sdTau )</span>
<span id="cb405-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-4" tabindex="-1"></a></span>
<span id="cb405-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-5" tabindex="-1"></a>  tau.hat <span class="ot">=</span> <span class="fu">mean</span>( Y1 ) <span class="sc">-</span> <span class="fu">mean</span>( Y0 )</span>
<span id="cb405-6"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-6" tabindex="-1"></a>  SE.hat <span class="ot">=</span> <span class="fu">sqrt</span>( <span class="fu">var</span>( Y0 ) <span class="sc">/</span> ( nC ) <span class="sc">+</span> <span class="fu">var</span>( Y1 ) <span class="sc">/</span> ( nT ) )</span>
<span id="cb405-7"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-7" tabindex="-1"></a></span>
<span id="cb405-8"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-8" tabindex="-1"></a>  z <span class="ot">=</span> tau.hat <span class="sc">/</span> SE.hat</span>
<span id="cb405-9"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-9" tabindex="-1"></a>  pv <span class="ot">=</span> <span class="dv">2</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>( <span class="fu">abs</span>( z ) ))</span>
<span id="cb405-10"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-10" tabindex="-1"></a></span>
<span id="cb405-11"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-11" tabindex="-1"></a>  <span class="fu">data.frame</span>( <span class="at">tau.hat =</span> tau.hat, <span class="at">SE.hat =</span> SE.hat, </span>
<span id="cb405-12"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-12" tabindex="-1"></a>              <span class="at">z =</span> z, <span class="at">p.value =</span> pv )</span>
<span id="cb405-13"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb405-13" tabindex="-1"></a>}</span></code></pre></div>
<p>Our function generates a data set, analyzes it, and give us back a variety
of results as a one-row dataframe, as per usual:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb406-1" tabindex="-1"></a><span class="fu">run.one</span>( <span class="at">nT=</span><span class="dv">5</span>, <span class="at">nC=</span><span class="dv">10</span>, <span class="at">sdC=</span><span class="dv">1</span>, <span class="at">tau=</span><span class="fl">0.5</span> )</span></code></pre></div>
<pre><code>##     tau.hat    SE.hat          z   p.value
## 1 -0.246767 0.6607213 -0.3734812 0.7087903</code></pre>
<p>In this case, our results are a mix of the parameters and estimated quantities.</p>
<p>We then write a function that runs our single trial multiple times and
summarizes the results:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-1" tabindex="-1"></a>run.experiment <span class="ot">=</span> <span class="cf">function</span>( nC, nT, sdC, tau, <span class="at">mu =</span> <span class="dv">5</span>, <span class="at">sdTau =</span> <span class="dv">0</span>, <span class="at">R =</span> <span class="dv">500</span> ) {</span>
<span id="cb408-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-2" tabindex="-1"></a>  </span>
<span id="cb408-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-3" tabindex="-1"></a>  eres <span class="ot">=</span> <span class="fu">replicate</span>( R, </span>
<span id="cb408-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-4" tabindex="-1"></a>                    <span class="fu">run.one</span>( nC, nT, sdC, tau, <span class="at">sdTau=</span>sdTau, <span class="at">mu=</span>mu ), </span>
<span id="cb408-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-5" tabindex="-1"></a>                    <span class="at">simplify=</span><span class="cn">FALSE</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb408-6"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-6" tabindex="-1"></a>    <span class="fu">bind_rows</span>()</span>
<span id="cb408-7"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-7" tabindex="-1"></a>  </span>
<span id="cb408-8"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-8" tabindex="-1"></a>  eres <span class="sc">%&gt;%</span> </span>
<span id="cb408-9"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-9" tabindex="-1"></a>    <span class="fu">summarise</span>( <span class="at">E.tau.hat =</span> <span class="fu">mean</span>( tau.hat ),</span>
<span id="cb408-10"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-10" tabindex="-1"></a>               <span class="at">E.SE.hat =</span> <span class="fu">mean</span>( SE.hat ),</span>
<span id="cb408-11"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-11" tabindex="-1"></a>               <span class="at">power =</span> <span class="fu">mean</span>( p.value <span class="sc">&lt;=</span> <span class="fl">0.05</span> ) ) <span class="sc">%&gt;%</span></span>
<span id="cb408-12"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-12" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">nC=</span>nC, <span class="at">nT=</span>nT, <span class="at">sdC=</span>sdC, <span class="at">tau=</span>tau, <span class="at">mu=</span>mu, <span class="at">sdTau=</span>sdTau, <span class="at">R=</span>R )</span>
<span id="cb408-13"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb408-13" tabindex="-1"></a>}</span></code></pre></div>
<p>For performance, we have the average average treatment effect estimate <code>E.tau.hat</code>,
the average Standard Error estimate <code>E.SE.hat</code>,
and the power <code>power</code> (defined as the percent of time we reject at
alpha=0.05, i.e., the percent of times our <span class="math inline">\(p\)</span>-value was less than our 0.05
threshold):</p>
<p>Our function also adds in the details of the simulation (the parameters we passed
to the <code>run.one()</code> call). This is an easy way to keep track of things.</p>
<p>We test our function to see what we get:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb409-1" tabindex="-1"></a><span class="fu">run.experiment</span>( <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="fl">0.5</span>, <span class="dv">5</span>, <span class="fl">0.2</span> )</span></code></pre></div>
<pre><code>##   E.tau.hat  E.SE.hat power nC nT sdC tau mu
## 1  0.497077 0.6284977 0.218 10  3   1 0.5  5
##   sdTau   R
## 1   0.2 500</code></pre>
<p>We next use the above to run our multi-factor simulation experiment.
We are going to vary four factors: control group size, treatment group size,
standard deviation of the units, and the treatment effect.</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-1" tabindex="-1"></a>nC <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">500</span> )</span>
<span id="cb411-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-2" tabindex="-1"></a>nT <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">500</span> )</span>
<span id="cb411-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-3" tabindex="-1"></a>sdC <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">1</span> )</span>
<span id="cb411-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-4" tabindex="-1"></a>tau <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span> )</span>
<span id="cb411-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-5" tabindex="-1"></a>sdTau <span class="ot">=</span> <span class="fu">c</span>( <span class="dv">0</span>, <span class="fl">0.5</span> )</span>
<span id="cb411-6"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-6" tabindex="-1"></a></span>
<span id="cb411-7"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-7" tabindex="-1"></a>experiments <span class="ot">=</span> <span class="fu">expand_grid</span>( <span class="at">nC=</span>nC, <span class="at">nT=</span>nT, <span class="at">sdC=</span>sdC, <span class="at">tau=</span>tau, <span class="at">sdTau =</span> sdTau )</span>
<span id="cb411-8"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb411-8" tabindex="-1"></a>experiments</span></code></pre></div>
<pre><code>## # A tibble: 216 × 5
##       nC    nT   sdC   tau sdTau
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1     2     2     1   0     0  
##  2     2     2     1   0     0.5
##  3     2     2     1   0.5   0  
##  4     2     2     1   0.5   0.5
##  5     2     2     1   1     0  
##  6     2     2     1   1     0.5
##  7     2     4     1   0     0  
##  8     2     4     1   0     0.5
##  9     2     4     1   0.5   0  
## 10     2     4     1   0.5   0.5
## # ℹ 206 more rows</code></pre>
<p>We next run an experiment for each row of our dataframe of experiment factor
combinations, and save the results.</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb413-1" tabindex="-1"></a>exp.res <span class="ot">&lt;-</span> experiments <span class="sc">%&gt;%</span> </span>
<span id="cb413-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb413-2" tabindex="-1"></a>  <span class="fu">pmap_df</span>( run.experiment, <span class="at">R=</span><span class="dv">2000</span> )</span>
<span id="cb413-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb413-3" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;results&quot;</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span> )</span>
<span id="cb413-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb413-4" tabindex="-1"></a><span class="fu">saveRDS</span>( exp.res, <span class="at">file=</span><span class="st">&quot;results/Neyman_RCT_results.rds&quot;</span> )</span></code></pre></div>
<p>The <code>R=2000</code> after <code>run.experiment</code> passes the <em>same</em> parameter of <span class="math inline">\(R=2000\)</span> to each
run (we run the same number of trials for each experiment).
We can put it there rather than have it be a column in our list of factors to run.</p>
<p>Here is a peek at our results:</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb414-1" tabindex="-1"></a><span class="fu">head</span>( exp.res )</span></code></pre></div>
<pre><code>##      E.tau.hat  E.SE.hat  power nC nT sdC tau mu
## 1 -0.001525155 0.8818917 0.1975  2  2   1 0.0  5
## 2 -0.026286662 0.9307269 0.1915  2  2   1 0.0  5
## 3  0.485430674 0.8861287 0.2185  2  2   1 0.5  5
## 4  0.452375661 0.9363909 0.2095  2  2   1 0.5  5
## 5  1.029038283 0.8915091 0.3120  2  2   1 1.0  5
## 6  0.957434064 0.9347139 0.3025  2  2   1 1.0  5
##   sdTau    R
## 1   0.0 2000
## 2   0.5 2000
## 3   0.0 2000
## 4   0.5 2000
## 5   0.0 2000
## 6   0.5 2000</code></pre>
<div id="the-initial-analysis" class="section level3" number="12.3.1">
<h3><span class="header-section-number">12.3.1</span> The initial analysis</h3>
<p>We are ready to analyze, and we start with plotting.
Plotting is always a good way to visualize simulation results.
We first make our tau into a factor, so <code>ggplot</code> behaves, and then plot all our
experiments as two rows based on one factor (<code>sdTau</code>) with the columns being
another (<code>nT</code>).
Unlike our Cluster RCT, we only have one method, so we can use our color for a different simulation factor.
Within each plot we have the x-axis for one factor (<code>nC</code>) and multiple lines for the final factor (<code>tau</code>).
The <span class="math inline">\(y\)</span>-axis is our outcome of interest, power. We add a 0.05 line to show
when we are rejecting at rates above our nominal <span class="math inline">\(\alpha\)</span>. This plot shows
the relationship of five variables.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-1" tabindex="-1"></a>exp.res <span class="ot">=</span> exp.res <span class="sc">%&gt;%</span> </span>
<span id="cb416-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-2" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">tau =</span> <span class="fu">as.factor</span>( tau ) )</span>
<span id="cb416-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-3" tabindex="-1"></a><span class="fu">ggplot</span>( exp.res, <span class="fu">aes</span>( <span class="at">x=</span>nC, <span class="at">y=</span>power, <span class="at">group=</span>tau, <span class="at">col=</span>tau ) ) <span class="sc">+</span></span>
<span id="cb416-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-4" tabindex="-1"></a>  <span class="fu">facet_grid</span>( sdTau <span class="sc">~</span> nT, <span class="at">labeller=</span>label_both ) <span class="sc">+</span></span>
<span id="cb416-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb416-6"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-6" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb416-7"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb416-7" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept=</span><span class="fl">0.05</span>, <span class="at">col=</span><span class="st">&quot;black&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-222-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We are looking at power for different control and treatment group sizes. The tau is our treatment effect, and so for <span class="math inline">\(\tau = 0\)</span> we are looking at validity (false rejection of the null) and for the other <span class="math inline">\(\tau\)</span> power (noticing an effect when it is there).
Notice that we are seeing elevated rejection rates (the tau=0 line is well above 0.05) under the null for small and even moderate sample sizes!</p>
</div>
<div id="focusing-on-validity" class="section level3" number="12.3.2">
<h3><span class="header-section-number">12.3.2</span> Focusing on validity</h3>
<p>Especially when considering power, we might want to separate rejection rates under the null vs. rejection rates when there is a true thing to reject.
In particular, we can subset to specific simulation runs with no treatment impact to assess the validity.</p>
<p>First, we can filter our simulations to large samples to make sure we are seeing rejection rates (<code>power</code>) of around 0.05, which is what we want:</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb417-1" tabindex="-1"></a><span class="fu">filter</span>( exp.res, tau<span class="sc">==</span><span class="dv">0</span>, nT <span class="sc">&gt;=</span> <span class="dv">50</span>, nC <span class="sc">&gt;=</span> <span class="dv">50</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb417-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb417-2" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits=</span><span class="dv">2</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">E.tau.hat</th>
<th align="right">E.SE.hat</th>
<th align="right">power</th>
<th align="right">nC</th>
<th align="right">nT</th>
<th align="right">sdC</th>
<th align="left">tau</th>
<th align="right">mu</th>
<th align="right">sdTau</th>
<th align="right">R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.20</td>
<td align="right">0.06</td>
<td align="right">50</td>
<td align="right">50</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.0</td>
<td align="right">2000</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0.21</td>
<td align="right">0.05</td>
<td align="right">50</td>
<td align="right">50</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.5</td>
<td align="right">2000</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.15</td>
<td align="right">0.06</td>
<td align="right">50</td>
<td align="right">500</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.0</td>
<td align="right">2000</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0.15</td>
<td align="right">0.05</td>
<td align="right">50</td>
<td align="right">500</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.5</td>
<td align="right">2000</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.15</td>
<td align="right">0.05</td>
<td align="right">500</td>
<td align="right">50</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.0</td>
<td align="right">2000</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0.16</td>
<td align="right">0.06</td>
<td align="right">500</td>
<td align="right">50</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.5</td>
<td align="right">2000</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.06</td>
<td align="right">0.04</td>
<td align="right">500</td>
<td align="right">500</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.0</td>
<td align="right">2000</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0.07</td>
<td align="right">0.06</td>
<td align="right">500</td>
<td align="right">500</td>
<td align="right">1</td>
<td align="left">0</td>
<td align="right">5</td>
<td align="right">0.5</td>
<td align="right">2000</td>
</tr>
</tbody>
</table>
<p>This does check out, which is a nice sanity check that we have implemented everything correctly.
It is ok to use simulation of simple, known, cases to check that our methods are implemented correctly and working as expected.</p>
<p>We can then get fancy and look at false rejection rate (power under <code>tau = 0</code>) as a
function of both nC and nT using an interaction-style plot where we average over the other variables:</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-1" tabindex="-1"></a>exp.res.rej <span class="ot">&lt;-</span> exp.res <span class="sc">%&gt;%</span> </span>
<span id="cb418-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-2" tabindex="-1"></a>  <span class="fu">filter</span>( tau <span class="sc">==</span> <span class="dv">0</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb418-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-3" tabindex="-1"></a>  <span class="fu">group_by</span>( nC, nT ) <span class="sc">%&gt;%</span></span>
<span id="cb418-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-4" tabindex="-1"></a>  <span class="fu">summarize</span>( <span class="at">power =</span> <span class="fu">mean</span>( power ),</span>
<span id="cb418-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-5" tabindex="-1"></a>             <span class="at">n =</span> <span class="fu">n</span>() )</span>
<span id="cb418-6"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-6" tabindex="-1"></a></span>
<span id="cb418-7"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-7" tabindex="-1"></a>exp.res.rej <span class="ot">=</span> <span class="fu">mutate</span>( exp.res.rej, <span class="at">power =</span> <span class="fu">round</span>( power <span class="sc">*</span> <span class="dv">100</span> ) )</span>
<span id="cb418-8"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-8" tabindex="-1"></a></span>
<span id="cb418-9"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-9" tabindex="-1"></a><span class="fu">ggplot</span>( exp.res.rej, <span class="fu">aes</span>( <span class="at">x=</span>nC, <span class="at">y=</span>power, <span class="at">group=</span>nT, <span class="at">col=</span><span class="fu">as.numeric</span>(<span class="fu">as.factor</span>(nT)) ) ) <span class="sc">+</span></span>
<span id="cb418-10"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-10" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_line</span>( <span class="at">size=</span><span class="fl">0.5</span> ) <span class="sc">+</span></span>
<span id="cb418-11"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-11" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept =</span> <span class="dv">5</span> ) <span class="sc">+</span></span>
<span id="cb418-12"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-12" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>( <span class="at">limits =</span> <span class="fu">c</span>( <span class="dv">0</span>, <span class="dv">40</span> ) ) <span class="sc">+</span></span>
<span id="cb418-13"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-13" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>( <span class="at">breaks =</span> <span class="fu">unique</span>( exp.res.rej<span class="sc">$</span>nC ) ) <span class="sc">+</span></span>
<span id="cb418-14"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-14" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>( <span class="at">low =</span> <span class="st">&quot;black&quot;</span>, <span class="at">high=</span><span class="st">&quot;red&quot;</span>,</span>
<span id="cb418-15"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-15" tabindex="-1"></a>                        <span class="at">labels =</span> <span class="fu">unique</span>( exp.res.rej<span class="sc">$</span>nT ) ) <span class="sc">+</span></span>
<span id="cb418-16"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb418-16" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">x =</span> <span class="st">&quot;# C&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Power&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;# T&quot;</span> )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/plot_interaction_Results-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>This plot focuses on the validity of our test.
It shows that we can have massively elevated rates when either the number of treated or control units is small (below 7).
It also shows that as the size of one group increases, if the other is small our rejection rates climb! Note how for 4 control units, the <span class="math inline">\(n_T = 500\)</span> line is above the others (except for the <span class="math inline">\(n_T = 2\)</span> line).</p>
</div>
<div id="aggregate-to-look-at-main-effects" class="section level3" number="12.3.3">
<h3><span class="header-section-number">12.3.3</span> Aggregate to look at main effects</h3>
<p>We can ignore all the other factors while we look at one specific factor of interest.
This is looking at the <strong>main effect</strong> or <strong>marginal effect</strong> of the factor.</p>
<p>The easy way to do this is to aggregate, letting <code>ggplot</code> smooth our individual points on a
plot.
Be sure to also plot the individual points to see variation, however.</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb419-1" tabindex="-1"></a><span class="fu">ggplot</span>( exp.res, <span class="fu">aes</span>( <span class="at">x=</span>nC, <span class="at">y=</span>power, <span class="at">group=</span>tau, <span class="at">col=</span>tau ) ) <span class="sc">+</span></span>
<span id="cb419-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb419-2" tabindex="-1"></a>  <span class="fu">geom_jitter</span>( <span class="at">width=</span><span class="fl">0.02</span>, <span class="at">height=</span><span class="dv">0</span>, <span class="at">alpha=</span><span class="fl">0.5</span> ) <span class="sc">+</span></span>
<span id="cb419-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb419-3" tabindex="-1"></a>  <span class="fu">geom_smooth</span>( <span class="at">se =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb419-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb419-4" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>( <span class="at">breaks=</span>nC) <span class="sc">+</span></span>
<span id="cb419-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb419-5" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept=</span><span class="fl">0.05</span>, <span class="at">col=</span><span class="st">&quot;black&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/plotPool-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Note how we see our individual runs that we marginalize over as the dots.</p>
<p>To look at our main effects we can also summarize our results, averaging our
experimental runs across other factor levels. For example, in the code below
we average over the different treatment group sizes and standard deviations,
and plot the marginalized results.</p>
<p>To marginalize, we group by the things we want to keep and let <code>summarise()</code>
average over the things we want to get rid of.</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb420-1" tabindex="-1"></a>exp.res.sum <span class="ot">=</span> exp.res <span class="sc">%&gt;%</span> <span class="fu">group_by</span>( nC, tau ) <span class="sc">%&gt;%</span></span>
<span id="cb420-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb420-2" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="at">power =</span> <span class="fu">mean</span>( power ) )</span>
<span id="cb420-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb420-3" tabindex="-1"></a><span class="fu">head</span>( exp.res.sum )</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
## # Groups:   nC [2]
##      nC tau   power
##   &lt;dbl&gt; &lt;fct&gt; &lt;dbl&gt;
## 1     2 0     0.205
## 2     2 0.5   0.254
## 3     2 1     0.395
## 4     4 0     0.114
## 5     4 0.5   0.204
## 6     4 1     0.427</code></pre>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb422-1" tabindex="-1"></a><span class="fu">ggplot</span>( exp.res.sum, <span class="fu">aes</span>( <span class="at">x=</span>nC, <span class="at">y=</span>power, <span class="at">group=</span>tau, <span class="at">col=</span>tau ) ) <span class="sc">+</span></span>
<span id="cb422-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb422-2" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb422-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb422-3" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>( <span class="at">breaks=</span>nC) <span class="sc">+</span></span>
<span id="cb422-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb422-4" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept=</span><span class="fl">0.05</span>, <span class="at">col=</span><span class="st">&quot;black&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/plotCollapse-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We can try to get clever and look at other aspects of our experimental runs.
The above suggests that the smaller of the two groups is dictating when things
going awry, in terms of elevated rejection rates under the null.</p>
<p>We can also look at our results in terms of some more easily interpretable parameters, such as effect size instead of raw treatment effect.</p>
<p>To try and simplify the story, we can try and look at total sample size and the smaller of
the two groups sample size and make two different plots that way.
<!--We also subset to just the `sd=1` cases as there is nothing really different about the two
options; we probably should average across but this could reduce clarity of
the presentation of results:--></p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb423-1" tabindex="-1"></a>exp.res <span class="ot">&lt;-</span> exp.res <span class="sc">%&gt;%</span> </span>
<span id="cb423-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb423-2" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">n =</span> nC <span class="sc">+</span> nT,</span>
<span id="cb423-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb423-3" tabindex="-1"></a>          <span class="at">n.min =</span> <span class="fu">pmin</span>( nC, nT ) )</span></code></pre></div>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-1" tabindex="-1"></a><span class="fu">ggplot</span>( exp.res, <span class="fu">aes</span>( <span class="at">x=</span>n, <span class="at">y=</span>power, <span class="at">group=</span>tau, <span class="at">col=</span>tau ) ) <span class="sc">+</span></span>
<span id="cb424-2"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-2" tabindex="-1"></a>  <span class="fu">geom_jitter</span>( <span class="at">width=</span><span class="fl">0.05</span>, <span class="at">height=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb424-3"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-3" tabindex="-1"></a>  <span class="fu">geom_smooth</span>( <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">span =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb424-4"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-4" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb424-5"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-5" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept=</span><span class="fl">0.05</span>, <span class="at">col=</span><span class="st">&quot;black&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb424-6"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-6" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">&quot;Total sample size&quot;</span> )</span>
<span id="cb424-7"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-7" tabindex="-1"></a></span>
<span id="cb424-8"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-8" tabindex="-1"></a><span class="fu">ggplot</span>( exp.res, <span class="fu">aes</span>( <span class="at">x=</span>n.min, <span class="at">y=</span>power, <span class="at">group=</span>tau, <span class="at">col=</span>tau ) ) <span class="sc">+</span></span>
<span id="cb424-9"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-9" tabindex="-1"></a>  <span class="fu">geom_jitter</span>( <span class="at">width=</span><span class="fl">0.05</span>, <span class="at">height=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb424-10"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-10" tabindex="-1"></a>  <span class="fu">geom_smooth</span>( <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">span =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb424-11"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-11" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb424-12"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-12" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept=</span><span class="fl">0.05</span>, <span class="at">col=</span><span class="st">&quot;black&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb424-13"><a href="12.3-case-study-power-for-a-randomized-trial.html#cb424-13" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">&quot;Minimum group size&quot;</span> )</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:plotA"></span>
<img src="Designing-Simulations-in-R_files/figure-html/plotA-1.png" alt="Power as a function of total sample size." width="45%" /><img src="Designing-Simulations-in-R_files/figure-html/plotA-2.png" alt="Power as a function of total sample size." width="45%" />
<p class="caption">
Figure 12.1: Power as a function of total sample size.
</p>
</div>
<p>Note the few observations out in the high <code>n.min</code> region for the second
plot—this plot is a bit strange in that the different levels along the
x-axis are assymetric with respect to each other. It is not balanced.</p>
</div>
<div id="recap" class="section level3" number="12.3.4">
<h3><span class="header-section-number">12.3.4</span> Recap</h3>
<p>Overall, this exploration demonstrates the process of looking at a single performance metric (power) and refining a series of plots to get a sense of what the simulation is taking us.
There are many different plots we might choose, and this depends on the messages we are trying to convey.</p>
<p>The key is to explore, and see what you can learn!</p>
</div>
</div>
<p style="text-align: center;">
<a href="12.2-analyzing-results-when-some-trials-have-failed.html"><button class="btn btn-default">Previous</button></a>
<a href="12.4-exercises-8.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
