<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 13 Special Topics on Reporting Simulation Results | Designing Monte Carlo Simulations in R</title>
  <meta name="description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 13 Special Topics on Reporting Simulation Results | Designing Monte Carlo Simulations in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  <meta name="github-repo" content="jepusto/Designing-Simulations-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 13 Special Topics on Reporting Simulation Results | Designing Monte Carlo Simulations in R" />
  
  <meta name="twitter:description" content="A text on designing, implementing, and reporting on Monte Carlo simulation studies" />
  

<meta name="author" content="Luke W. Miratrix and James E. Pustejovsky (Equal authors)" />


<meta name="date" content="2025-07-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="building-good-visualizations.html"/>
<link rel="next" href="case-study-comparing-different-estimators.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Designing Simulations in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-authors"><i class="fa fa-check"></i>About the authors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I An Introductory Look</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#some-of-simulations-many-uses"><i class="fa fa-check"></i><b>1.1</b> Some of simulation’s many uses</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#comparing-statistical-approaches"><i class="fa fa-check"></i><b>1.1.1</b> Comparing statistical approaches</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#assessing-performance-of-complex-pipelines"><i class="fa fa-check"></i><b>1.1.2</b> Assessing performance of complex pipelines</a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction.html"><a href="introduction.html#assessing-performance-under-misspecification"><i class="fa fa-check"></i><b>1.1.3</b> Assessing performance under misspecification</a></li>
<li class="chapter" data-level="1.1.4" data-path="introduction.html"><a href="introduction.html#assessing-the-finite-sample-performance-of-a-statistical-approach"><i class="fa fa-check"></i><b>1.1.4</b> Assessing the finite-sample performance of a statistical approach</a></li>
<li class="chapter" data-level="1.1.5" data-path="introduction.html"><a href="introduction.html#conducting-power-analyses"><i class="fa fa-check"></i><b>1.1.5</b> Conducting Power Analyses</a></li>
<li class="chapter" data-level="1.1.6" data-path="introduction.html"><a href="introduction.html#simulating-processess"><i class="fa fa-check"></i><b>1.1.6</b> Simulating processess</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#the-perils-of-simulation-as-evidence"><i class="fa fa-check"></i><b>1.2</b> The perils of simulation as evidence</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#simulating-to-learn"><i class="fa fa-check"></i><b>1.3</b> Simulating to learn</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#why-r"><i class="fa fa-check"></i><b>1.4</b> Why R?</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#organization-of-the-text"><i class="fa fa-check"></i><b>1.5</b> Organization of the text</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html"><i class="fa fa-check"></i><b>2</b> Programming Preliminaries</a>
<ul>
<li class="chapter" data-level="2.1" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#welcome-to-the-tidyverse"><i class="fa fa-check"></i><b>2.1</b> Welcome to the tidyverse</a></li>
<li class="chapter" data-level="2.2" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#functions"><i class="fa fa-check"></i><b>2.2</b> Functions</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#rolling-your-own"><i class="fa fa-check"></i><b>2.2.1</b> Rolling your own</a></li>
<li class="chapter" data-level="2.2.2" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#a-dangerous-function"><i class="fa fa-check"></i><b>2.2.2</b> A dangerous function</a></li>
<li class="chapter" data-level="2.2.3" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#using-named-arguments"><i class="fa fa-check"></i><b>2.2.3</b> Using Named Arguments</a></li>
<li class="chapter" data-level="2.2.4" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#argument-defaults"><i class="fa fa-check"></i><b>2.2.4</b> Argument Defaults</a></li>
<li class="chapter" data-level="2.2.5" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#function-skeletons"><i class="fa fa-check"></i><b>2.2.5</b> Function skeletons</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#pipe-dreams"><i class="fa fa-check"></i><b>2.3</b> <code>\&gt;</code> (Pipe) dreams</a></li>
<li class="chapter" data-level="2.4" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#recipes-versus-patterns"><i class="fa fa-check"></i><b>2.4</b> Recipes versus Patterns</a></li>
<li class="chapter" data-level="2.5" data-path="programming-preliminaries.html"><a href="programming-preliminaries.html#exercises"><i class="fa fa-check"></i><b>2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="t-test-simulation.html"><a href="t-test-simulation.html"><i class="fa fa-check"></i><b>3</b> An initial simulation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="t-test-simulation.html"><a href="t-test-simulation.html#simulating-a-single-scenario"><i class="fa fa-check"></i><b>3.1</b> Simulating a single scenario</a></li>
<li class="chapter" data-level="3.2" data-path="t-test-simulation.html"><a href="t-test-simulation.html#a-non-normal-population-distribution"><i class="fa fa-check"></i><b>3.2</b> A non-normal population distribution</a></li>
<li class="chapter" data-level="3.3" data-path="t-test-simulation.html"><a href="t-test-simulation.html#simulating-across-different-scenarios"><i class="fa fa-check"></i><b>3.3</b> Simulating across different scenarios</a></li>
<li class="chapter" data-level="3.4" data-path="t-test-simulation.html"><a href="t-test-simulation.html#extending-the-simulation-design"><i class="fa fa-check"></i><b>3.4</b> Extending the simulation design</a></li>
<li class="chapter" data-level="3.5" data-path="t-test-simulation.html"><a href="t-test-simulation.html#exercises-1"><i class="fa fa-check"></i><b>3.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Structure and Mechanics of a Simulation Study</b></span></li>
<li class="chapter" data-level="4" data-path="simulation-structure.html"><a href="simulation-structure.html"><i class="fa fa-check"></i><b>4</b> Structure of a simulation study</a>
<ul>
<li class="chapter" data-level="4.1" data-path="simulation-structure.html"><a href="simulation-structure.html#general-structure-of-a-simulation"><i class="fa fa-check"></i><b>4.1</b> General structure of a simulation</a></li>
<li class="chapter" data-level="4.2" data-path="simulation-structure.html"><a href="simulation-structure.html#tidy-modular-simulations"><i class="fa fa-check"></i><b>4.2</b> Tidy, modular simulations</a></li>
<li class="chapter" data-level="4.3" data-path="simulation-structure.html"><a href="simulation-structure.html#skeleton-of-a-simulation-study"><i class="fa fa-check"></i><b>4.3</b> Skeleton of a simulation study</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="simulation-structure.html"><a href="simulation-structure.html#data-generating-process"><i class="fa fa-check"></i><b>4.3.1</b> Data-Generating Process</a></li>
<li class="chapter" data-level="4.3.2" data-path="simulation-structure.html"><a href="simulation-structure.html#data-analysis-procedure"><i class="fa fa-check"></i><b>4.3.2</b> Data Analysis Procedure</a></li>
<li class="chapter" data-level="4.3.3" data-path="simulation-structure.html"><a href="simulation-structure.html#repetition"><i class="fa fa-check"></i><b>4.3.3</b> Repetition</a></li>
<li class="chapter" data-level="4.3.4" data-path="simulation-structure.html"><a href="simulation-structure.html#performance-summaries"><i class="fa fa-check"></i><b>4.3.4</b> Performance summaries</a></li>
<li class="chapter" data-level="4.3.5" data-path="simulation-structure.html"><a href="simulation-structure.html#multifactor-simulations"><i class="fa fa-check"></i><b>4.3.5</b> Multifactor simulations</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="simulation-structure.html"><a href="simulation-structure.html#exercises-2"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="case-ANOVA.html"><a href="case-ANOVA.html"><i class="fa fa-check"></i><b>5</b> Case Study: Heteroskedastic ANOVA</a>
<ul>
<li class="chapter" data-level="5.1" data-path="case-ANOVA.html"><a href="case-ANOVA.html#case-anova-DGP"><i class="fa fa-check"></i><b>5.1</b> The data-generating model</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="case-ANOVA.html"><a href="case-ANOVA.html#now-make-a-function"><i class="fa fa-check"></i><b>5.1.1</b> Now make a function</a></li>
<li class="chapter" data-level="5.1.2" data-path="case-ANOVA.html"><a href="case-ANOVA.html#cautious-coding"><i class="fa fa-check"></i><b>5.1.2</b> Cautious coding</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="case-ANOVA.html"><a href="case-ANOVA.html#the-hypothesis-testing-procedures"><i class="fa fa-check"></i><b>5.2</b> The hypothesis testing procedures</a></li>
<li class="chapter" data-level="5.3" data-path="case-ANOVA.html"><a href="case-ANOVA.html#running-the-simulation"><i class="fa fa-check"></i><b>5.3</b> Running the simulation</a></li>
<li class="chapter" data-level="5.4" data-path="case-ANOVA.html"><a href="case-ANOVA.html#summarizing-test-performance"><i class="fa fa-check"></i><b>5.4</b> Summarizing test performance</a></li>
<li class="chapter" data-level="5.5" data-path="case-ANOVA.html"><a href="case-ANOVA.html#exAnovaExercises"><i class="fa fa-check"></i><b>5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-generating-processes.html"><a href="data-generating-processes.html"><i class="fa fa-check"></i><b>6</b> Data-generating processes</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-generating-processes.html"><a href="data-generating-processes.html#DGP-examples"><i class="fa fa-check"></i><b>6.1</b> Examples</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-generating-processes.html"><a href="data-generating-processes.html#ANOVA-example"><i class="fa fa-check"></i><b>6.1.1</b> Example 1: One-way analysis of variance</a></li>
<li class="chapter" data-level="6.1.2" data-path="data-generating-processes.html"><a href="data-generating-processes.html#BVPois-example"><i class="fa fa-check"></i><b>6.1.2</b> Example 2: Bivariate Poisson model</a></li>
<li class="chapter" data-level="6.1.3" data-path="data-generating-processes.html"><a href="data-generating-processes.html#CRT-example"><i class="fa fa-check"></i><b>6.1.3</b> Example 3: Hierarchical linear model for a cluster-randomized trial</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-generating-processes.html"><a href="data-generating-processes.html#components-of-a-dgp"><i class="fa fa-check"></i><b>6.2</b> Components of a DGP</a></li>
<li class="chapter" data-level="6.3" data-path="data-generating-processes.html"><a href="data-generating-processes.html#DGP-functions"><i class="fa fa-check"></i><b>6.3</b> A statistical model is a recipe for data generation</a></li>
<li class="chapter" data-level="6.4" data-path="data-generating-processes.html"><a href="data-generating-processes.html#DGP-plotting"><i class="fa fa-check"></i><b>6.4</b> Plot the artificial data</a></li>
<li class="chapter" data-level="6.5" data-path="data-generating-processes.html"><a href="data-generating-processes.html#check-the-data-generating-function"><i class="fa fa-check"></i><b>6.5</b> Check the data-generating function</a></li>
<li class="chapter" data-level="6.6" data-path="data-generating-processes.html"><a href="data-generating-processes.html#case-cluster"><i class="fa fa-check"></i><b>6.6</b> Example: Simulating clustered data</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="data-generating-processes.html"><a href="data-generating-processes.html#a-design-decision-what-do-we-want-to-manipulate"><i class="fa fa-check"></i><b>6.6.1</b> A design decision: What do we want to manipulate?</a></li>
<li class="chapter" data-level="6.6.2" data-path="data-generating-processes.html"><a href="data-generating-processes.html#a-model-for-a-cluster-rct"><i class="fa fa-check"></i><b>6.6.2</b> A model for a cluster RCT</a></li>
<li class="chapter" data-level="6.6.3" data-path="data-generating-processes.html"><a href="data-generating-processes.html#from-equations-to-code"><i class="fa fa-check"></i><b>6.6.3</b> From equations to code</a></li>
<li class="chapter" data-level="6.6.4" data-path="data-generating-processes.html"><a href="data-generating-processes.html#DGP-standardization"><i class="fa fa-check"></i><b>6.6.4</b> Standardization in the DGP</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="data-generating-processes.html"><a href="data-generating-processes.html#three-parameter-IRT"><i class="fa fa-check"></i><b>6.7</b> Sometimes a DGP is all you need</a></li>
<li class="chapter" data-level="6.8" data-path="data-generating-processes.html"><a href="data-generating-processes.html#more-to-explore"><i class="fa fa-check"></i><b>6.8</b> More to explore</a></li>
<li class="chapter" data-level="6.9" data-path="data-generating-processes.html"><a href="data-generating-processes.html#exercises-3"><i class="fa fa-check"></i><b>6.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="data-generating-processes.html"><a href="data-generating-processes.html#Welch-t-dgp"><i class="fa fa-check"></i><b>6.9.1</b> The Welch test on a shifted-and-scaled <span class="math inline">\(t\)</span> distribution</a></li>
<li class="chapter" data-level="6.9.2" data-path="data-generating-processes.html"><a href="data-generating-processes.html#plot-the-bivariate-poisson"><i class="fa fa-check"></i><b>6.9.2</b> Plot the bivariate Poisson</a></li>
<li class="chapter" data-level="6.9.3" data-path="data-generating-processes.html"><a href="data-generating-processes.html#BVP-check"><i class="fa fa-check"></i><b>6.9.3</b> Check the bivariate Poisson function</a></li>
<li class="chapter" data-level="6.9.4" data-path="data-generating-processes.html"><a href="data-generating-processes.html#BVP-error"><i class="fa fa-check"></i><b>6.9.4</b> Add error-catching to the bivariate Poisson function</a></li>
<li class="chapter" data-level="6.9.5" data-path="data-generating-processes.html"><a href="data-generating-processes.html#BVNB1"><i class="fa fa-check"></i><b>6.9.5</b> A bivariate negative binomial distribution</a></li>
<li class="chapter" data-level="6.9.6" data-path="data-generating-processes.html"><a href="data-generating-processes.html#BVNB2"><i class="fa fa-check"></i><b>6.9.6</b> Another bivariate negative binomial distribution</a></li>
<li class="chapter" data-level="6.9.7" data-path="data-generating-processes.html"><a href="data-generating-processes.html#cluster-RCT-plot"><i class="fa fa-check"></i><b>6.9.7</b> Plot the data from a cluster-randomized trial</a></li>
<li class="chapter" data-level="6.9.8" data-path="data-generating-processes.html"><a href="data-generating-processes.html#cluster-RCT-checks"><i class="fa fa-check"></i><b>6.9.8</b> Checking the Cluster RCT DGP</a></li>
<li class="chapter" data-level="6.9.9" data-path="data-generating-processes.html"><a href="data-generating-processes.html#cluster-RCT-heterogeneity"><i class="fa fa-check"></i><b>6.9.9</b> More school-level variation</a></li>
<li class="chapter" data-level="6.9.10" data-path="data-generating-processes.html"><a href="data-generating-processes.html#cluster-RCT-baseline"><i class="fa fa-check"></i><b>6.9.10</b> Cluster-randomized trial with baseline predictors</a></li>
<li class="chapter" data-level="6.9.11" data-path="data-generating-processes.html"><a href="data-generating-processes.html#IRT-DGP-parameters"><i class="fa fa-check"></i><b>6.9.11</b> 3-parameter IRT datasets</a></li>
<li class="chapter" data-level="6.9.12" data-path="data-generating-processes.html"><a href="data-generating-processes.html#IRT-DGP-checking"><i class="fa fa-check"></i><b>6.9.12</b> Check the 3-parameter IRT DGP</a></li>
<li class="chapter" data-level="6.9.13" data-path="data-generating-processes.html"><a href="data-generating-processes.html#IRT-DGP-breaking"><i class="fa fa-check"></i><b>6.9.13</b> Explore the 3-parameter IRT model</a></li>
<li class="chapter" data-level="6.9.14" data-path="data-generating-processes.html"><a href="data-generating-processes.html#meta-regression-DGP"><i class="fa fa-check"></i><b>6.9.14</b> Random effects meta-regression</a></li>
<li class="chapter" data-level="6.9.15" data-path="data-generating-processes.html"><a href="data-generating-processes.html#Vevea-Hedges-DGP"><i class="fa fa-check"></i><b>6.9.15</b> Meta-regression with selective reporting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html"><i class="fa fa-check"></i><b>7</b> Data analysis procedures</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#estimation-functions"><i class="fa fa-check"></i><b>7.1</b> Writing estimation functions</a></li>
<li class="chapter" data-level="7.2" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#multiple-estimation-procedures"><i class="fa fa-check"></i><b>7.2</b> Including Multiple Data Analysis Procedures</a></li>
<li class="chapter" data-level="7.3" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#validating-an-estimation-function"><i class="fa fa-check"></i><b>7.3</b> Validating an Estimation Function</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#checking-against-existing-implementations"><i class="fa fa-check"></i><b>7.3.1</b> Checking against existing implementations</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#checking-novel-procedures"><i class="fa fa-check"></i><b>7.3.2</b> Checking novel procedures</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#checking-with-simulations"><i class="fa fa-check"></i><b>7.3.3</b> Checking with simulations</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#handling-errors-warnings-and-other-hiccups"><i class="fa fa-check"></i><b>7.4</b> Handling errors, warnings, and other hiccups</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#capturing-errors-and-warnings"><i class="fa fa-check"></i><b>7.4.1</b> Capturing errors and warnings</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#adapting-for-errors"><i class="fa fa-check"></i><b>7.4.2</b> Adapting estimation procedures for errors and warnings</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#exercises-4"><i class="fa fa-check"></i><b>7.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#BFFs-forever"><i class="fa fa-check"></i><b>7.5.1</b> More Heteroskedastic ANOVA</a></li>
<li class="chapter" data-level="7.5.2" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#contingent-testing"><i class="fa fa-check"></i><b>7.5.2</b> Contingent testing</a></li>
<li class="chapter" data-level="7.5.3" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#cross-check-CRT-estimators"><i class="fa fa-check"></i><b>7.5.3</b> Check the cluster-RCT functions</a></li>
<li class="chapter" data-level="7.5.4" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#CRT-ANCOVA-estimators"><i class="fa fa-check"></i><b>7.5.4</b> Extending the cluster-RCT functions</a></li>
<li class="chapter" data-level="7.5.5" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#contingent-estimator-processing"><i class="fa fa-check"></i><b>7.5.5</b> Contingent estimator processing</a></li>
<li class="chapter" data-level="7.5.6" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#IRT-3PL-estimation"><i class="fa fa-check"></i><b>7.5.6</b> Estimating 3-parameter item response theory models</a></li>
<li class="chapter" data-level="7.5.7" data-path="data-analysis-procedures.html"><a href="data-analysis-procedures.html#Vevea-Hedges-estimation"><i class="fa fa-check"></i><b>7.5.7</b> Meta-regression with selective reporting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html"><i class="fa fa-check"></i><b>8</b> Running the Simulation Process</a>
<ul>
<li class="chapter" data-level="8.1" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#repeating-oneself"><i class="fa fa-check"></i><b>8.1</b> Repeating oneself</a></li>
<li class="chapter" data-level="8.2" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#one-run-at-a-time"><i class="fa fa-check"></i><b>8.2</b> One run at a time</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#one-run-reparameterization"><i class="fa fa-check"></i><b>8.2.1</b> Reparameterizing</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#bundle-sim-demo"><i class="fa fa-check"></i><b>8.3</b> Bundling simulations with <code>simhelpers</code></a></li>
<li class="chapter" data-level="8.4" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#seeds-and-pseudo-RNGs"><i class="fa fa-check"></i><b>8.4</b> Seeds and pseudo-random number generators</a></li>
<li class="chapter" data-level="8.5" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#exercises-5"><i class="fa fa-check"></i><b>8.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#Welch-simulation"><i class="fa fa-check"></i><b>8.5.1</b> Welch simulations</a></li>
<li class="chapter" data-level="8.5.2" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#Pearson-sampling-distributions"><i class="fa fa-check"></i><b>8.5.2</b> Compare sampling distributions of Pearson’s correlation coefficients</a></li>
<li class="chapter" data-level="8.5.3" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#reparameterization-redux"><i class="fa fa-check"></i><b>8.5.3</b> Reparameterization, redux</a></li>
<li class="chapter" data-level="8.5.4" data-path="running-the-simulation-process.html"><a href="running-the-simulation-process.html#fancy-cluster-RCT-sims"><i class="fa fa-check"></i><b>8.5.4</b> Fancy clustered RCT simulations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="performance-criteria.html"><a href="performance-criteria.html"><i class="fa fa-check"></i><b>9</b> Performance criteria</a>
<ul>
<li class="chapter" data-level="9.1" data-path="performance-criteria.html"><a href="performance-criteria.html#different-kinds-of-performance"><i class="fa fa-check"></i><b>9.1</b> Different kinds of performance</a></li>
<li class="chapter" data-level="9.2" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-point-estimator"><i class="fa fa-check"></i><b>9.2</b> Assessing a Point Estimator</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="performance-criteria.html"><a href="performance-criteria.html#comparing-the-performances-of-the-cluster-rct-estimation-procedures"><i class="fa fa-check"></i><b>9.2.1</b> Comparing the Performances of the Cluster RCT Estimation Procedures</a></li>
<li class="chapter" data-level="9.2.2" data-path="performance-criteria.html"><a href="performance-criteria.html#estimands-not-represented-by-a-parameter"><i class="fa fa-check"></i><b>9.2.2</b> Estimands Not Represented By a Parameter</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-a-standard-error-estimator"><i class="fa fa-check"></i><b>9.3</b> Assessing a Standard Error Estimator</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="performance-criteria.html"><a href="performance-criteria.html#why-not-assess-the-estimated-se-directly"><i class="fa fa-check"></i><b>9.3.1</b> Why Not Assess the Estimated SE directly?</a></li>
<li class="chapter" data-level="9.3.2" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-ses-for-our-cluster-rct-simulation"><i class="fa fa-check"></i><b>9.3.2</b> Assessing SEs for Our Cluster RCT Simulation</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-an-inferential-procedure-hypothesis-testing"><i class="fa fa-check"></i><b>9.4</b> Assessing an Inferential Procedure (Hypothesis Testing)</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="performance-criteria.html"><a href="performance-criteria.html#validity"><i class="fa fa-check"></i><b>9.4.1</b> Validity</a></li>
<li class="chapter" data-level="9.4.2" data-path="performance-criteria.html"><a href="performance-criteria.html#power"><i class="fa fa-check"></i><b>9.4.2</b> Power</a></li>
<li class="chapter" data-level="9.4.3" data-path="performance-criteria.html"><a href="performance-criteria.html#the-rejection-rate"><i class="fa fa-check"></i><b>9.4.3</b> The Rejection Rate</a></li>
<li class="chapter" data-level="9.4.4" data-path="performance-criteria.html"><a href="performance-criteria.html#inference-in-our-cluster-rct-simulation"><i class="fa fa-check"></i><b>9.4.4</b> Inference in our Cluster RCT Simulation</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="performance-criteria.html"><a href="performance-criteria.html#assessing-confidence-intervals"><i class="fa fa-check"></i><b>9.5</b> Assessing Confidence Intervals</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="performance-criteria.html"><a href="performance-criteria.html#confidence-intervals-in-our-cluster-rct-example"><i class="fa fa-check"></i><b>9.5.1</b> Confidence Intervals in our Cluster RCT Example</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="performance-criteria.html"><a href="performance-criteria.html#additional-thoughts-on-measuring-performance"><i class="fa fa-check"></i><b>9.6</b> Additional Thoughts on Measuring Performance</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="performance-criteria.html"><a href="performance-criteria.html#sec-relative-performance"><i class="fa fa-check"></i><b>9.6.1</b> Selecting Relative vs. Absolute Criteria</a></li>
<li class="chapter" data-level="9.6.2" data-path="performance-criteria.html"><a href="performance-criteria.html#robust-measures-of-performance"><i class="fa fa-check"></i><b>9.6.2</b> Robust Measures of Performance</a></li>
<li class="chapter" data-level="9.6.3" data-path="performance-criteria.html"><a href="performance-criteria.html#summary-of-peformance-measures"><i class="fa fa-check"></i><b>9.6.3</b> Summary of Peformance Measures</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="performance-criteria.html"><a href="performance-criteria.html#uncertainty-in-performance-estimates-the-monte-carlo-standard-error"><i class="fa fa-check"></i><b>9.7</b> Uncertainty in Performance Estimates (the Monte Carlo Standard Error)</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="performance-criteria.html"><a href="performance-criteria.html#mcse-for-relative-variance-estimators"><i class="fa fa-check"></i><b>9.7.1</b> MCSE for Relative Variance Estimators</a></li>
<li class="chapter" data-level="9.7.2" data-path="performance-criteria.html"><a href="performance-criteria.html#calculating-mcses-with-the-simhelpers-package"><i class="fa fa-check"></i><b>9.7.2</b> Calculating MCSEs With the <code>simhelpers</code> Package</a></li>
<li class="chapter" data-level="9.7.3" data-path="performance-criteria.html"><a href="performance-criteria.html#mcse-calculation-in-our-cluster-rct-example"><i class="fa fa-check"></i><b>9.7.3</b> MCSE Calculation in our Cluster RCT Example</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="performance-criteria.html"><a href="performance-criteria.html#exercises-6"><i class="fa fa-check"></i><b>9.8</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Multifactor Simulations</b></span></li>
<li class="chapter" data-level="10" data-path="exp-design.html"><a href="exp-design.html"><i class="fa fa-check"></i><b>10</b> Designing and executing multifactor simulations</a>
<ul>
<li class="chapter" data-level="10.1" data-path="exp-design.html"><a href="exp-design.html#choosing-parameter-combinations"><i class="fa fa-check"></i><b>10.1</b> Choosing parameter combinations</a></li>
<li class="chapter" data-level="10.2" data-path="exp-design.html"><a href="exp-design.html#using-pmap-to-run-multifactor-simulations"><i class="fa fa-check"></i><b>10.2</b> Using pmap to run multifactor simulations</a></li>
<li class="chapter" data-level="10.3" data-path="exp-design.html"><a href="exp-design.html#when-to-calculate-performance-metrics"><i class="fa fa-check"></i><b>10.3</b> When to calculate performance metrics</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="exp-design.html"><a href="exp-design.html#aggregate-as-you-simulate-inside"><i class="fa fa-check"></i><b>10.3.1</b> Aggregate as you simulate (inside)</a></li>
<li class="chapter" data-level="10.3.2" data-path="exp-design.html"><a href="exp-design.html#keep-all-simulation-runs-outside"><i class="fa fa-check"></i><b>10.3.2</b> Keep all simulation runs (outside)</a></li>
<li class="chapter" data-level="10.3.3" data-path="exp-design.html"><a href="exp-design.html#getting-raw-results-ready-for-analysis"><i class="fa fa-check"></i><b>10.3.3</b> Getting raw results ready for analysis</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="exp-design.html"><a href="exp-design.html#a-multifactor-evaluation-of-cluster-rct-estimators"><i class="fa fa-check"></i><b>10.4</b> A multifactor evaluation of cluster RCT estimators</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="exp-design.html"><a href="exp-design.html#choosing-parameters-for-the-clustered-rct"><i class="fa fa-check"></i><b>10.4.1</b> Choosing parameters for the Clustered RCT</a></li>
<li class="chapter" data-level="10.4.2" data-path="exp-design.html"><a href="exp-design.html#redundant-factor-combinations"><i class="fa fa-check"></i><b>10.4.2</b> Redundant factor combinations</a></li>
<li class="chapter" data-level="10.4.3" data-path="exp-design.html"><a href="exp-design.html#running-the-simulations"><i class="fa fa-check"></i><b>10.4.3</b> Running the simulations</a></li>
<li class="chapter" data-level="10.4.4" data-path="exp-design.html"><a href="exp-design.html#calculating-performance-metrics"><i class="fa fa-check"></i><b>10.4.4</b> Calculating performance metrics</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="exp-design.html"><a href="exp-design.html#exercises-7"><i class="fa fa-check"></i><b>10.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="exp-design.html"><a href="exp-design.html#brown-and-forsythe-redux"><i class="fa fa-check"></i><b>10.5.1</b> Brown and Forsythe redux</a></li>
<li class="chapter" data-level="10.5.2" data-path="exp-design.html"><a href="exp-design.html#meta-regression"><i class="fa fa-check"></i><b>10.5.2</b> Meta-regression</a></li>
<li class="chapter" data-level="10.5.3" data-path="exp-design.html"><a href="exp-design.html#exercise:trimmed-mean"><i class="fa fa-check"></i><b>10.5.3</b> Comparing the trimmed mean, median and mean</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="presentation-of-results.html"><a href="presentation-of-results.html"><i class="fa fa-check"></i><b>11</b> Exploring and presenting simulation results</a>
<ul>
<li class="chapter" data-level="11.1" data-path="presentation-of-results.html"><a href="presentation-of-results.html#tabulation"><i class="fa fa-check"></i><b>11.1</b> Tabulation</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-estimators-of-treatment-variation"><i class="fa fa-check"></i><b>11.1.1</b> Example: estimators of treatment variation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="presentation-of-results.html"><a href="presentation-of-results.html#visualization"><i class="fa fa-check"></i><b>11.2</b> Visualization</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-1-biserial-correlation-estimation"><i class="fa fa-check"></i><b>11.2.1</b> Example 1: Biserial correlation estimation</a></li>
<li class="chapter" data-level="11.2.2" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-2-variance-estimation-and-meta-regression"><i class="fa fa-check"></i><b>11.2.2</b> Example 2: Variance estimation and Meta-regression</a></li>
<li class="chapter" data-level="11.2.3" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-3-heat-maps-of-coverage"><i class="fa fa-check"></i><b>11.2.3</b> Example 3: Heat maps of coverage</a></li>
<li class="chapter" data-level="11.2.4" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-4-relative-performance-of-treatment-effect-estimators"><i class="fa fa-check"></i><b>11.2.4</b> Example 4: Relative performance of treatment effect estimators</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="presentation-of-results.html"><a href="presentation-of-results.html#modeling"><i class="fa fa-check"></i><b>11.3</b> Modeling</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-1-biserial-revisited"><i class="fa fa-check"></i><b>11.3.1</b> Example 1: Biserial, revisited</a></li>
<li class="chapter" data-level="11.3.2" data-path="presentation-of-results.html"><a href="presentation-of-results.html#example-2-comparing-methods-for-cross-classified-data"><i class="fa fa-check"></i><b>11.3.2</b> Example 2: Comparing methods for cross-classified data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="presentation-of-results.html"><a href="presentation-of-results.html#reporting"><i class="fa fa-check"></i><b>11.4</b> Reporting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html"><i class="fa fa-check"></i><b>12</b> Building good visualizations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#subsetting-and-many-small-multiples"><i class="fa fa-check"></i><b>12.1</b> Subsetting and Many Small Multiples</a></li>
<li class="chapter" data-level="12.2" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#bundling"><i class="fa fa-check"></i><b>12.2</b> Bundling</a></li>
<li class="chapter" data-level="12.3" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#aggregation"><i class="fa fa-check"></i><b>12.3</b> Aggregation</a></li>
<li class="chapter" data-level="12.4" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#assessing-true-ses"><i class="fa fa-check"></i><b>12.4</b> Assessing true SEs</a></li>
<li class="chapter" data-level="12.5" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#the-bias-se-rmse-plot"><i class="fa fa-check"></i><b>12.5</b> The Bias-SE-RMSE plot</a></li>
<li class="chapter" data-level="12.6" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#assessing-estimated-ses"><i class="fa fa-check"></i><b>12.6</b> Assessing estimated SEs</a></li>
<li class="chapter" data-level="12.7" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#assessing-confidence-intervals-1"><i class="fa fa-check"></i><b>12.7</b> Assessing confidence intervals</a></li>
<li class="chapter" data-level="12.8" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#exercises-8"><i class="fa fa-check"></i><b>12.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="12.8.1" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#assessing-uncertainty"><i class="fa fa-check"></i><b>12.8.1</b> Assessing uncertainty</a></li>
<li class="chapter" data-level="12.8.2" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#assessing-power"><i class="fa fa-check"></i><b>12.8.2</b> Assessing power</a></li>
<li class="chapter" data-level="12.8.3" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#going-deeper-with-coverage"><i class="fa fa-check"></i><b>12.8.3</b> Going deeper with coverage</a></li>
<li class="chapter" data-level="12.8.4" data-path="building-good-visualizations.html"><a href="building-good-visualizations.html#pearson-correlations-with-a-bivariate-poisson-distribution"><i class="fa fa-check"></i><b>12.8.4</b> Pearson correlations with a bivariate Poisson distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html"><i class="fa fa-check"></i><b>13</b> Special Topics on Reporting Simulation Results</a>
<ul>
<li class="chapter" data-level="13.1" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#using-regression-to-analyze-simulation-results"><i class="fa fa-check"></i><b>13.1</b> Using regression to analyze simulation results</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#example-1-biserial-revisited-1"><i class="fa fa-check"></i><b>13.1.1</b> Example 1: Biserial, revisited</a></li>
<li class="chapter" data-level="13.1.2" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#example-2-cluster-rct-example-revisited"><i class="fa fa-check"></i><b>13.1.2</b> Example 2: Cluster RCT example, revisited</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#using-regression-trees-to-find-important-factors"><i class="fa fa-check"></i><b>13.2</b> Using regression trees to find important factors</a></li>
<li class="chapter" data-level="13.3" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#analyzing-results-with-few-iterations-per-scenario"><i class="fa fa-check"></i><b>13.3</b> Analyzing results with few iterations per scenario</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#example-clusterrct-with-only-100-replicates-per-scenario"><i class="fa fa-check"></i><b>13.3.1</b> Example: ClusterRCT with only 100 replicates per scenario</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="special-topics-on-reporting-simulation-results.html"><a href="special-topics-on-reporting-simulation-results.html#analyzing-results-when-some-trials-have-failed"><i class="fa fa-check"></i><b>13.4</b> Analyzing results when some trials have failed</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="case-study-comparing-different-estimators.html"><a href="case-study-comparing-different-estimators.html"><i class="fa fa-check"></i><b>14</b> Case study: Comparing different estimators</a>
<ul>
<li class="chapter" data-level="14.1" data-path="case-study-comparing-different-estimators.html"><a href="case-study-comparing-different-estimators.html#bias-variance-tradeoffs"><i class="fa fa-check"></i><b>14.1</b> Bias-variance tradeoffs</a></li>
</ul></li>
<li class="part"><span><b>IV Computational Considerations</b></span></li>
<li class="chapter" data-level="15" data-path="optimize-code.html"><a href="optimize-code.html"><i class="fa fa-check"></i><b>15</b> Optimizing code (and why you often shouldn’t)</a>
<ul>
<li class="chapter" data-level="15.1" data-path="optimize-code.html"><a href="optimize-code.html#hand-building-functions"><i class="fa fa-check"></i><b>15.1</b> Hand-building functions</a></li>
<li class="chapter" data-level="15.2" data-path="optimize-code.html"><a href="optimize-code.html#sec_comp_efficiency"><i class="fa fa-check"></i><b>15.2</b> Computational efficiency versus simplicity</a></li>
<li class="chapter" data-level="15.3" data-path="optimize-code.html"><a href="optimize-code.html#reusing-code-to-speed-up-computation"><i class="fa fa-check"></i><b>15.3</b> Reusing code to speed up computation</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html"><i class="fa fa-check"></i><b>16</b> Error trapping and other headaches</a>
<ul>
<li class="chapter" data-level="16.0.1" data-path="error-trapping-and-other-headaches.html"><a href="error-trapping-and-other-headaches.html#what-to-do-with-warnings-in-simulations"><i class="fa fa-check"></i><b>16.0.1</b> What to do with warnings in simulations</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="saving-files.html"><a href="saving-files.html"><i class="fa fa-check"></i><b>17</b> Saving files and results</a>
<ul>
<li class="chapter" data-level="17.1" data-path="saving-files.html"><a href="saving-files.html#saving-simulations-in-general"><i class="fa fa-check"></i><b>17.1</b> Saving simulations in general</a></li>
<li class="chapter" data-level="17.2" data-path="saving-files.html"><a href="saving-files.html#saving-simulations-as-you-go"><i class="fa fa-check"></i><b>17.2</b> Saving simulations as you go</a></li>
<li class="chapter" data-level="17.3" data-path="saving-files.html"><a href="saving-files.html#dynamically-making-directories"><i class="fa fa-check"></i><b>17.3</b> Dynamically making directories</a></li>
<li class="chapter" data-level="17.4" data-path="saving-files.html"><a href="saving-files.html#loading-and-combining-files-of-simulation-results"><i class="fa fa-check"></i><b>17.4</b> Loading and combining files of simulation results</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="parallel-processing.html"><a href="parallel-processing.html"><i class="fa fa-check"></i><b>18</b> Parallel Processing</a>
<ul>
<li class="chapter" data-level="18.1" data-path="parallel-processing.html"><a href="parallel-processing.html#parallel-on-your-computer"><i class="fa fa-check"></i><b>18.1</b> Parallel on your computer</a></li>
<li class="chapter" data-level="18.2" data-path="parallel-processing.html"><a href="parallel-processing.html#parallel-off-your-computer"><i class="fa fa-check"></i><b>18.2</b> Parallel off your computer</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="parallel-processing.html"><a href="parallel-processing.html#what-is-a-command-line-interface"><i class="fa fa-check"></i><b>18.2.1</b> What is a command-line interface?</a></li>
<li class="chapter" data-level="18.2.2" data-path="parallel-processing.html"><a href="parallel-processing.html#running-a-job-on-a-cluster"><i class="fa fa-check"></i><b>18.2.2</b> Running a job on a cluster</a></li>
<li class="chapter" data-level="18.2.3" data-path="parallel-processing.html"><a href="parallel-processing.html#checking-on-a-job"><i class="fa fa-check"></i><b>18.2.3</b> Checking on a job</a></li>
<li class="chapter" data-level="18.2.4" data-path="parallel-processing.html"><a href="parallel-processing.html#running-lots-of-jobs-on-a-cluster"><i class="fa fa-check"></i><b>18.2.4</b> Running lots of jobs on a cluster</a></li>
<li class="chapter" data-level="18.2.5" data-path="parallel-processing.html"><a href="parallel-processing.html#resources-for-harvards-odyssey"><i class="fa fa-check"></i><b>18.2.5</b> Resources for Harvard’s Odyssey</a></li>
<li class="chapter" data-level="18.2.6" data-path="parallel-processing.html"><a href="parallel-processing.html#acknowledgements-1"><i class="fa fa-check"></i><b>18.2.6</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html"><i class="fa fa-check"></i><b>19</b> Simulations as evidence</a>
<ul>
<li class="chapter" data-level="19.1" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#strategies-for-making-relevant-simulations"><i class="fa fa-check"></i><b>19.1</b> Strategies for making relevant simulations</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#make-your-simulation-general-with-an-extensive-multi-factor-experiment"><i class="fa fa-check"></i><b>19.1.1</b> Make your simulation general with an extensive multi-factor experiment</a></li>
<li class="chapter" data-level="19.1.2" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#use-previously-published-simulations-to-beat-them-at-their-own-game"><i class="fa fa-check"></i><b>19.1.2</b> Use previously published simulations to beat them at their own game</a></li>
<li class="chapter" data-level="19.1.3" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#calibrate-simulation-factors-to-real-data"><i class="fa fa-check"></i><b>19.1.3</b> Calibrate simulation factors to real data</a></li>
<li class="chapter" data-level="19.1.4" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#use-real-data-to-obtain-directly"><i class="fa fa-check"></i><b>19.1.4</b> Use real data to obtain directly</a></li>
<li class="chapter" data-level="19.1.5" data-path="simulations-as-evidence.html"><a href="simulations-as-evidence.html#fully-calibrated-simulations"><i class="fa fa-check"></i><b>19.1.5</b> Fully calibrated simulations</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Complex Data Structures</b></span></li>
<li class="chapter" data-level="20" data-path="sec:power.html"><a href="sec:power.html"><i class="fa fa-check"></i><b>20</b> Using simulation as a power calculator</a>
<ul>
<li class="chapter" data-level="20.1" data-path="sec:power.html"><a href="sec:power.html#getting-design-parameters-from-pilot-data"><i class="fa fa-check"></i><b>20.1</b> Getting design parameters from pilot data</a></li>
<li class="chapter" data-level="20.2" data-path="sec:power.html"><a href="sec:power.html#the-data-generating-process"><i class="fa fa-check"></i><b>20.2</b> The data generating process</a></li>
<li class="chapter" data-level="20.3" data-path="sec:power.html"><a href="sec:power.html#running-the-simulation-1"><i class="fa fa-check"></i><b>20.3</b> Running the simulation</a></li>
<li class="chapter" data-level="20.4" data-path="sec:power.html"><a href="sec:power.html#evaluating-power"><i class="fa fa-check"></i><b>20.4</b> Evaluating power</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="sec:power.html"><a href="sec:power.html#checking-validity-of-our-models"><i class="fa fa-check"></i><b>20.4.1</b> Checking validity of our models</a></li>
<li class="chapter" data-level="20.4.2" data-path="sec:power.html"><a href="sec:power.html#assessing-precision-se"><i class="fa fa-check"></i><b>20.4.2</b> Assessing Precision (SE)</a></li>
<li class="chapter" data-level="20.4.3" data-path="sec:power.html"><a href="sec:power.html#assessing-power-1"><i class="fa fa-check"></i><b>20.4.3</b> Assessing power</a></li>
<li class="chapter" data-level="20.4.4" data-path="sec:power.html"><a href="sec:power.html#assessing-minimum-detectable-effects"><i class="fa fa-check"></i><b>20.4.4</b> Assessing Minimum Detectable Effects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="potential-outcomes.html"><a href="potential-outcomes.html"><i class="fa fa-check"></i><b>21</b> Simulation under the Potential Outcomes Framework</a>
<ul>
<li class="chapter" data-level="21.1" data-path="potential-outcomes.html"><a href="potential-outcomes.html#finite-vs.-superpopulation-inference"><i class="fa fa-check"></i><b>21.1</b> Finite vs. Superpopulation inference</a></li>
<li class="chapter" data-level="21.2" data-path="potential-outcomes.html"><a href="potential-outcomes.html#data-generation-processes-for-potential-outcomes"><i class="fa fa-check"></i><b>21.2</b> Data generation processes for potential outcomes</a></li>
<li class="chapter" data-level="21.3" data-path="potential-outcomes.html"><a href="potential-outcomes.html#finite-sample-performance-measures"><i class="fa fa-check"></i><b>21.3</b> Finite sample performance measures</a></li>
<li class="chapter" data-level="21.4" data-path="potential-outcomes.html"><a href="potential-outcomes.html#nested-finite-simulation-procedure"><i class="fa fa-check"></i><b>21.4</b> Nested finite simulation procedure</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="the-parametric-bootstrap.html"><a href="the-parametric-bootstrap.html"><i class="fa fa-check"></i><b>22</b> The Parametric bootstrap</a>
<ul>
<li class="chapter" data-level="22.1" data-path="the-parametric-bootstrap.html"><a href="the-parametric-bootstrap.html#air-conditioners-a-stolen-case-study"><i class="fa fa-check"></i><b>22.1</b> Air conditioners: a stolen case study</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="coding-tidbits.html"><a href="coding-tidbits.html"><i class="fa fa-check"></i><b>A</b> Coding tidbits</a>
<ul>
<li class="chapter" data-level="A.1" data-path="coding-tidbits.html"><a href="coding-tidbits.html#more-repeating-oneself"><i class="fa fa-check"></i><b>A.1</b> How to repeat yourself</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="coding-tidbits.html"><a href="coding-tidbits.html#using-replicate"><i class="fa fa-check"></i><b>A.1.1</b> Using <code>replicate()</code></a></li>
<li class="chapter" data-level="A.1.2" data-path="coding-tidbits.html"><a href="coding-tidbits.html#using-map"><i class="fa fa-check"></i><b>A.1.2</b> Using <code>map()</code></a></li>
<li class="chapter" data-level="A.1.3" data-path="coding-tidbits.html"><a href="coding-tidbits.html#map-with-no-inputs"><i class="fa fa-check"></i><b>A.1.3</b> map with no inputs</a></li>
<li class="chapter" data-level="A.1.4" data-path="coding-tidbits.html"><a href="coding-tidbits.html#other-approaches-for-repetition"><i class="fa fa-check"></i><b>A.1.4</b> Other approaches for repetition</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="coding-tidbits.html"><a href="coding-tidbits.html#default-arguments"><i class="fa fa-check"></i><b>A.2</b> Default arguments for functions</a></li>
<li class="chapter" data-level="A.3" data-path="coding-tidbits.html"><a href="coding-tidbits.html#about-source-command"><i class="fa fa-check"></i><b>A.3</b> The source command and keeping things organized</a></li>
<li class="chapter" data-level="A.4" data-path="coding-tidbits.html"><a href="coding-tidbits.html#about-keeping-tests-with-FALSE"><i class="fa fa-check"></i><b>A.4</b> Testing and debugging code in your scripts</a></li>
<li class="chapter" data-level="A.5" data-path="coding-tidbits.html"><a href="coding-tidbits.html#about-browser-debugging"><i class="fa fa-check"></i><b>A.5</b> Debugging with browser</a></li>
<li class="chapter" data-level="A.6" data-path="coding-tidbits.html"><a href="coding-tidbits.html#about-stopifnot"><i class="fa fa-check"></i><b>A.6</b> Protecting your functions with “stop”</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="further-readings-and-resources.html"><a href="further-readings-and-resources.html"><i class="fa fa-check"></i><b>B</b> Further readings and resources</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Designing Monte Carlo Simulations in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="special-topics-on-reporting-simulation-results" class="section level1 hasAnchor" number="13">
<h1><span class="header-section-number">Chapter 13</span> Special Topics on Reporting Simulation Results<a href="special-topics-on-reporting-simulation-results.html#special-topics-on-reporting-simulation-results" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this chapter we cover some special topics on reporting simulation results.
We first walk through some examples of how to do regression modeling.
We then dive more deeply into what to do when you have only a few iterations per scenario, and then we discuss what to do when you are evaluating methods that sometimes fail to converge or give an answer.</p>
<div id="using-regression-to-analyze-simulation-results" class="section level2 hasAnchor" number="13.1">
<h2><span class="header-section-number">13.1</span> Using regression to analyze simulation results<a href="special-topics-on-reporting-simulation-results.html#using-regression-to-analyze-simulation-results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In Chapter <a href="presentation-of-results.html#presentation-of-results">11</a> we saw some examples of using regression and ANOVA to analyze simulation results.
We next provide some further in-depth examples that give the code for doing this sort of thing.</p>
<div id="example-1-biserial-revisited-1" class="section level3 hasAnchor" number="13.1.1">
<h3><span class="header-section-number">13.1.1</span> Example 1: Biserial, revisited<a href="special-topics-on-reporting-simulation-results.html#example-1-biserial-revisited-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We first give the code that produced the final ANOVA summary table for the biserial correlation example in Chapter <a href="presentation-of-results.html#presentation-of-results">11</a>.
In the visualization there, we saw that several factors appeared to impact bias, but we might want to get a sense of how much.
Under modeling of that same chapter, we saw a table that partialed out the variance across several factors so we could see which simulation factors mattered most for bias.</p>
<p>To build that table, we first fit a regression model to see:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="special-topics-on-reporting-simulation-results.html#cb396-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">5</span>)</span>
<span id="cb396-2"><a href="special-topics-on-reporting-simulation-results.html#cb396-2" tabindex="-1"></a>mod <span class="ot">=</span> <span class="fu">lm</span>( bias <span class="sc">~</span> fixed <span class="sc">+</span> rho <span class="sc">+</span> <span class="fu">I</span>(rho<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> p1 <span class="sc">+</span> n, <span class="at">data =</span> r_F)</span>
<span id="cb396-3"><a href="special-topics-on-reporting-simulation-results.html#cb396-3" tabindex="-1"></a><span class="fu">summary</span>(mod, <span class="at">digits=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = bias ~ fixed + rho + I(rho^2) + p1 + n, data = r_F)
## 
## Residuals:
##        Min         1Q     Median         3Q 
## -0.0215935 -0.0013608  0.0003823  0.0015677 
##        Max 
##  0.0081802 
## 
## Coefficients:
##                        Estimate  Std. Error
## (Intercept)         -0.00186446  0.00017971
## fixedSample cut-off -0.00363520  0.00009733
## rho                 -0.00942338  0.00069578
## I(rho^2)             0.00720857  0.00070868
## p1p1 = 1/3           0.00358696  0.00015390
## p1p1 = 1/4           0.00482709  0.00015390
## p1p1 = 1/5           0.00547657  0.00015390
## p1p1 = 1/8           0.00635532  0.00015390
## n.L                  0.00362949  0.00010882
## n.Q                 -0.00103981  0.00010882
## n.C                  0.00027941  0.00010882
## n^4                  0.00001976  0.00010882
##                     t value Pr(&gt;|t|)    
## (Intercept)         -10.375   &lt;2e-16 ***
## fixedSample cut-off -37.347   &lt;2e-16 ***
## rho                 -13.544   &lt;2e-16 ***
## I(rho^2)             10.172   &lt;2e-16 ***
## p1p1 = 1/3           23.307   &lt;2e-16 ***
## p1p1 = 1/4           31.365   &lt;2e-16 ***
## p1p1 = 1/5           35.585   &lt;2e-16 ***
## p1p1 = 1/8           41.295   &lt;2e-16 ***
## n.L                  33.352   &lt;2e-16 ***
## n.Q                  -9.555   &lt;2e-16 ***
## n.C                   2.568   0.0103 *  
## n^4                   0.182   0.8559    
## ---
## Signif. codes:  
## 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.003372 on 4788 degrees of freedom
## Multiple R-squared:  0.5107, Adjusted R-squared:  0.5096 
## F-statistic: 454.4 on 11 and 4788 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>The above printout gives main effects for each factor, averaged across other factors.
Because <code>p1</code> and <code>n</code> are ordered factors, the <code>lm()</code> command automatically generates linear, quadradic, cubic and fourth order contrasts for them.
We smooth our <code>rho</code> factor, which has many levels of a continuous measure, with a quadratic curve.
We could instead use splines or some local linear regression if we were worried about model fit for a complex relationship.</p>
<p>The main effects are summaries of trends across contexts.
For example, averaged across the other contexts, the “sample cutoff” condition is around 0.004 lower than the population (the baseline condition).</p>
<p>We can also use ANOVA to get a sense of the major sources of variation in the simulation results (e.g., identifying which factors have negligible/minor influence on the bias of an estimator).
To do this, we use <code>aov()</code> to fit an analysis of variance model:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="special-topics-on-reporting-simulation-results.html#cb398-1" tabindex="-1"></a>anova_table <span class="ot">&lt;-</span> <span class="fu">aov</span>(bias <span class="sc">~</span> rho <span class="sc">*</span> p1 <span class="sc">*</span> fixed <span class="sc">*</span> n, <span class="at">data =</span> r_F)</span>
<span id="cb398-2"><a href="special-topics-on-reporting-simulation-results.html#cb398-2" tabindex="-1"></a><span class="fu">summary</span>(anova_table)</span></code></pre></div>
<pre><code>##                  Df   Sum Sq  Mean Sq  F value
## rho               1 0.002444 0.002444  1673.25
## p1                4 0.023588 0.005897  4036.41
## fixed             1 0.015858 0.015858 10854.52
## n                 4 0.013760 0.003440  2354.60
## rho:p1            4 0.001722 0.000431   294.71
## rho:fixed         1 0.003440 0.003440  2354.69
## p1:fixed          4 0.001683 0.000421   287.98
## rho:n             4 0.002000 0.000500   342.31
## p1:n             16 0.019810 0.001238   847.51
## fixed:n           4 0.013359 0.003340  2285.97
## rho:p1:fixed      4 0.000473 0.000118    80.87
## rho:p1:n         16 0.001470 0.000092    62.91
## rho:fixed:n       4 0.002929 0.000732   501.23
## p1:fixed:n       16 0.001429 0.000089    61.12
## rho:p1:fixed:n   16 0.000429 0.000027    18.36
## Residuals      4700 0.006866 0.000001         
##                Pr(&gt;F)    
## rho            &lt;2e-16 ***
## p1             &lt;2e-16 ***
## fixed          &lt;2e-16 ***
## n              &lt;2e-16 ***
## rho:p1         &lt;2e-16 ***
## rho:fixed      &lt;2e-16 ***
## p1:fixed       &lt;2e-16 ***
## rho:n          &lt;2e-16 ***
## p1:n           &lt;2e-16 ***
## fixed:n        &lt;2e-16 ***
## rho:p1:fixed   &lt;2e-16 ***
## rho:p1:n       &lt;2e-16 ***
## rho:fixed:n    &lt;2e-16 ***
## p1:fixed:n     &lt;2e-16 ***
## rho:p1:fixed:n &lt;2e-16 ***
## Residuals                
## ---
## Signif. codes:  
## 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>The advantage here is the multiple levels of our categorical factors get bundled together in our table of results, making a tidier display.</p>
<p>The table in Chapter <a href="presentation-of-results.html#presentation-of-results">11</a> is a summary of this anova table, which we generate as follows:</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="special-topics-on-reporting-simulation-results.html#cb400-1" tabindex="-1"></a><span class="fu">library</span>(lsr)</span>
<span id="cb400-2"><a href="special-topics-on-reporting-simulation-results.html#cb400-2" tabindex="-1"></a><span class="fu">etaSquared</span>(anova_table) <span class="sc">%&gt;%</span></span>
<span id="cb400-3"><a href="special-topics-on-reporting-simulation-results.html#cb400-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb400-4"><a href="special-topics-on-reporting-simulation-results.html#cb400-4" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;source&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb400-5"><a href="special-topics-on-reporting-simulation-results.html#cb400-5" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">order =</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">str_count</span>(source, <span class="st">&quot;:&quot;</span> ) ) <span class="sc">%&gt;%</span></span>
<span id="cb400-6"><a href="special-topics-on-reporting-simulation-results.html#cb400-6" tabindex="-1"></a>  <span class="fu">group_by</span>( order ) <span class="sc">%&gt;%</span></span>
<span id="cb400-7"><a href="special-topics-on-reporting-simulation-results.html#cb400-7" tabindex="-1"></a>  <span class="fu">arrange</span>( <span class="sc">-</span>eta.sq, <span class="at">.by_group =</span> <span class="cn">TRUE</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb400-8"><a href="special-topics-on-reporting-simulation-results.html#cb400-8" tabindex="-1"></a>  <span class="fu">relocate</span>( order ) <span class="sc">%&gt;%</span></span>
<span id="cb400-9"><a href="special-topics-on-reporting-simulation-results.html#cb400-9" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>( <span class="at">digits =</span> <span class="dv">2</span> )</span></code></pre></div>
<p>We group the results by the order of the interaction, so that we can see the main effects first, then two-way interactions, and so on.
We then sort within each group to put the high importance factors first.
The resulting variance decomposition table (see Chapter <a href="presentation-of-results.html#presentation-of-results">11</a>) shows the amount of variation explained by each combination of factors.</p>
</div>
<div id="example-2-cluster-rct-example-revisited" class="section level3 hasAnchor" number="13.1.2">
<h3><span class="header-section-number">13.1.2</span> Example 2: Cluster RCT example, revisited<a href="special-topics-on-reporting-simulation-results.html#example-2-cluster-rct-example-revisited" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When we have several methods to compare, we can also use meta-regression to understand how these methods change as other simulation factors change.
We next continue our running Cluster RCT example.</p>
<p>We first turn our simulation levels (except for ICC, which has several levels) into factors, so R does not assume that sample size, for example, should be treated as a continuous variable:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="special-topics-on-reporting-simulation-results.html#cb401-1" tabindex="-1"></a>sres_f <span class="ot">&lt;-</span></span>
<span id="cb401-2"><a href="special-topics-on-reporting-simulation-results.html#cb401-2" tabindex="-1"></a>  sres <span class="sc">%&gt;%</span></span>
<span id="cb401-3"><a href="special-topics-on-reporting-simulation-results.html#cb401-3" tabindex="-1"></a>  <span class="fu">mutate</span>( </span>
<span id="cb401-4"><a href="special-topics-on-reporting-simulation-results.html#cb401-4" tabindex="-1"></a>    <span class="fu">across</span>( <span class="fu">c</span>( n_bar, J, size_coef, alpha ), factor ),</span>
<span id="cb401-5"><a href="special-topics-on-reporting-simulation-results.html#cb401-5" tabindex="-1"></a>    <span class="at">ICC =</span> <span class="fu">as.numeric</span>(ICC)</span>
<span id="cb401-6"><a href="special-topics-on-reporting-simulation-results.html#cb401-6" tabindex="-1"></a>  )</span>
<span id="cb401-7"><a href="special-topics-on-reporting-simulation-results.html#cb401-7" tabindex="-1"></a></span>
<span id="cb401-8"><a href="special-topics-on-reporting-simulation-results.html#cb401-8" tabindex="-1"></a><span class="co"># Run the regression</span></span>
<span id="cb401-9"><a href="special-topics-on-reporting-simulation-results.html#cb401-9" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">lm</span>( bias <span class="sc">~</span> (n_bar <span class="sc">+</span> J <span class="sc">+</span> size_coef <span class="sc">+</span> ICC <span class="sc">+</span> alpha) <span class="sc">*</span> method, </span>
<span id="cb401-10"><a href="special-topics-on-reporting-simulation-results.html#cb401-10" tabindex="-1"></a>         <span class="at">data =</span> sres_f )</span>
<span id="cb401-11"><a href="special-topics-on-reporting-simulation-results.html#cb401-11" tabindex="-1"></a></span>
<span id="cb401-12"><a href="special-topics-on-reporting-simulation-results.html#cb401-12" tabindex="-1"></a><span class="co"># View the results</span></span>
<span id="cb401-13"><a href="special-topics-on-reporting-simulation-results.html#cb401-13" tabindex="-1"></a>stargazer<span class="sc">::</span><span class="fu">stargazer</span>(M, <span class="at">type =</span> <span class="st">&quot;text&quot;</span>, <span class="at">single.row =</span> <span class="cn">TRUE</span> )</span></code></pre></div>
<pre><code>## 
## ==================================================
##                            Dependent variable:    
##                        ---------------------------
##                                   bias            
## --------------------------------------------------
## n_bar80                      -0.003 (0.002)       
## n_bar320                     -0.001 (0.002)       
## J20                          -0.002 (0.002)       
## J80                          -0.002 (0.002)       
## size_coef0.2                  0.003 (0.002)       
## ICC                           0.001 (0.003)       
## alpha0.5                     -0.002 (0.002)       
## alpha0.8                      0.001 (0.002)       
## methodLR                    -0.012*** (0.004)     
## methodMLM                     0.001 (0.004)       
## n_bar80:methodLR             0.0001 (0.003)       
## n_bar320:methodLR           -0.00001 (0.003)      
## n_bar80:methodMLM            -0.0005 (0.003)      
## n_bar320:methodMLM           -0.001 (0.003)       
## J20:methodLR                 0.005* (0.003)       
## J80:methodLR                 0.006* (0.003)       
## J20:methodMLM                 0.001 (0.003)       
## J80:methodMLM                 0.001 (0.003)       
## size_coef0.2:methodLR       0.016*** (0.002)      
## size_coef0.2:methodMLM        0.003 (0.002)       
## ICC:methodLR                 -0.0003 (0.004)      
## ICC:methodMLM                -0.006 (0.004)       
## alpha0.5:methodLR            0.006** (0.003)      
## alpha0.8:methodLR           0.017*** (0.003)      
## alpha0.5:methodMLM            0.001 (0.003)       
## alpha0.8:methodMLM            0.003 (0.003)       
## Constant                      0.002 (0.003)       
## --------------------------------------------------
## Observations                       810            
## R2                                0.273           
## Adjusted R2                       0.248           
## Residual Std. Error         0.014 (df = 783)      
## F Statistic             11.283*** (df = 26; 783)  
## ==================================================
## Note:                  *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
<p>We can quickly generate a lot of regression coefficients, making our meta-regression somewhat hard to interpret.
The above model does not even have interactions of the simulation factors, even though the plots we have seen strongly suggest interactions among the simulation factors.
That said, picking out the significant coefficients is a quick way to obtain clues as to what is driving performance.
For instance, several features interact with the LR method for bias.
The other two methods seem less impacted.</p>
<div id="using-lasso-to-simplify-the-model" class="section level4 hasAnchor" number="13.1.2.1">
<h4><span class="header-section-number">13.1.2.1</span> Using LASSO to simplify the model<a href="special-topics-on-reporting-simulation-results.html#using-lasso-to-simplify-the-model" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<!-- LWM: Not sure if the following is completely off the rails.  Or what we want to say about modeling more broadly.  The Josh work also is in the background, possibly worth considering, about using random effects when number of simulations are few -->
<p>We can simplify our model using LASSO regression, to drop coefficients that are less relevant.
This requires some work to make our model matrix of dummy variables with all the interactions.</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="special-topics-on-reporting-simulation-results.html#cb403-1" tabindex="-1"></a><span class="fu">library</span>(modelr)</span>
<span id="cb403-2"><a href="special-topics-on-reporting-simulation-results.html#cb403-2" tabindex="-1"></a><span class="fu">library</span>(glmnet)</span></code></pre></div>
<pre><code>## Loaded glmnet 4.1-10</code></pre>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="special-topics-on-reporting-simulation-results.html#cb405-1" tabindex="-1"></a><span class="co"># Define formula with all three-way interactions</span></span>
<span id="cb405-2"><a href="special-topics-on-reporting-simulation-results.html#cb405-2" tabindex="-1"></a>form <span class="ot">&lt;-</span> bias <span class="sc">~</span> ( n_bar <span class="sc">+</span> J <span class="sc">+</span> size_coef <span class="sc">+</span> ICC <span class="sc">+</span> alpha) <span class="sc">*</span> method</span>
<span id="cb405-3"><a href="special-topics-on-reporting-simulation-results.html#cb405-3" tabindex="-1"></a></span>
<span id="cb405-4"><a href="special-topics-on-reporting-simulation-results.html#cb405-4" tabindex="-1"></a><span class="co"># Create model matrix</span></span>
<span id="cb405-5"><a href="special-topics-on-reporting-simulation-results.html#cb405-5" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(form, <span class="at">data =</span> sres_f)[, <span class="sc">-</span><span class="dv">1</span>]  <span class="co"># drop intercept</span></span>
<span id="cb405-6"><a href="special-topics-on-reporting-simulation-results.html#cb405-6" tabindex="-1"></a></span>
<span id="cb405-7"><a href="special-topics-on-reporting-simulation-results.html#cb405-7" tabindex="-1"></a><span class="co"># Fit LASSO</span></span>
<span id="cb405-8"><a href="special-topics-on-reporting-simulation-results.html#cb405-8" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(X, sres_f<span class="sc">$</span>bias, <span class="at">alpha =</span> <span class="dv">1</span>)</span>
<span id="cb405-9"><a href="special-topics-on-reporting-simulation-results.html#cb405-9" tabindex="-1"></a></span>
<span id="cb405-10"><a href="special-topics-on-reporting-simulation-results.html#cb405-10" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb405-11"><a href="special-topics-on-reporting-simulation-results.html#cb405-11" tabindex="-1"></a><span class="fu">coef</span>(fit, <span class="at">s =</span> <span class="st">&quot;lambda.1se&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb405-12"><a href="special-topics-on-reporting-simulation-results.html#cb405-12" tabindex="-1"></a>  <span class="fu">as.matrix</span>() <span class="sc">%&gt;%</span></span>
<span id="cb405-13"><a href="special-topics-on-reporting-simulation-results.html#cb405-13" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb405-14"><a href="special-topics-on-reporting-simulation-results.html#cb405-14" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;term&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb405-15"><a href="special-topics-on-reporting-simulation-results.html#cb405-15" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">abs</span>(lambda<span class="fl">.1</span>se) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb405-16"><a href="special-topics-on-reporting-simulation-results.html#cb405-16" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">lambda.1se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2</td>
<td align="right">0.002</td>
</tr>
<tr class="odd">
<td align="left">alpha0.8</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2:methodLR</td>
<td align="right">0.008</td>
</tr>
<tr class="odd">
<td align="left">alpha0.8:methodLR</td>
<td align="right">0.007</td>
</tr>
</tbody>
</table>
<p>When using regression, and especially LASSO, which levels are baseline can impact the final results.
Here “Agg” is our baseline method, and so our coefficients are showing how other methods differ from the Agg method.
If we selected LR as baseline, then we might suddenly see Agg and MLM as having large coefficients.</p>
<p>One trick is to give dummy variables for all the methods, and overload the <code>method</code> factor with the baseline method, so that it is always the first level.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="special-topics-on-reporting-simulation-results.html#cb406-1" tabindex="-1"></a>form <span class="ot">&lt;-</span> bias <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> ( n_bar <span class="sc">+</span> J <span class="sc">+</span> size_coef <span class="sc">+</span> ICC <span class="sc">+</span> alpha) <span class="sc">*</span> method</span>
<span id="cb406-2"><a href="special-topics-on-reporting-simulation-results.html#cb406-2" tabindex="-1"></a>sres_f<span class="sc">$</span>method <span class="ot">&lt;-</span> <span class="fu">factor</span>(sres_f<span class="sc">$</span>method)</span>
<span id="cb406-3"><a href="special-topics-on-reporting-simulation-results.html#cb406-3" tabindex="-1"></a>vars <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;n_bar&quot;</span>, <span class="st">&quot;J&quot;</span>, <span class="st">&quot;size_coef&quot;</span>, <span class="st">&quot;alpha&quot;</span>, <span class="st">&quot;method&quot;</span>)</span>
<span id="cb406-4"><a href="special-topics-on-reporting-simulation-results.html#cb406-4" tabindex="-1"></a>contr.identity <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb406-5"><a href="special-topics-on-reporting-simulation-results.html#cb406-5" tabindex="-1"></a>  n <span class="ot">=</span> <span class="fu">nlevels</span>(x)</span>
<span id="cb406-6"><a href="special-topics-on-reporting-simulation-results.html#cb406-6" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">diag</span>(n)</span>
<span id="cb406-7"><a href="special-topics-on-reporting-simulation-results.html#cb406-7" tabindex="-1"></a>  <span class="fu">rownames</span>(m) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(m) <span class="ot">&lt;-</span> <span class="fu">levels</span>(x)</span>
<span id="cb406-8"><a href="special-topics-on-reporting-simulation-results.html#cb406-8" tabindex="-1"></a></span>
<span id="cb406-9"><a href="special-topics-on-reporting-simulation-results.html#cb406-9" tabindex="-1"></a>  m</span>
<span id="cb406-10"><a href="special-topics-on-reporting-simulation-results.html#cb406-10" tabindex="-1"></a>}</span>
<span id="cb406-11"><a href="special-topics-on-reporting-simulation-results.html#cb406-11" tabindex="-1"></a><span class="fu">contr.identity</span>(sres_f<span class="sc">$</span>n_bar)</span></code></pre></div>
<pre><code>##     20 80 320
## 20   1  0   0
## 80   0  1   0
## 320  0  0   1</code></pre>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="special-topics-on-reporting-simulation-results.html#cb408-1" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(<span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> ( n_bar <span class="sc">+</span> J <span class="sc">+</span> size_coef  <span class="sc">+</span> alpha) <span class="sc">*</span> method, </span>
<span id="cb408-2"><a href="special-topics-on-reporting-simulation-results.html#cb408-2" tabindex="-1"></a>                  <span class="at">data =</span> sres_f,</span>
<span id="cb408-3"><a href="special-topics-on-reporting-simulation-results.html#cb408-3" tabindex="-1"></a>                  <span class="at">contrasts.arg =</span> <span class="fu">lapply</span>(sres_f[,vars], </span>
<span id="cb408-4"><a href="special-topics-on-reporting-simulation-results.html#cb408-4" tabindex="-1"></a>                                         \(x) <span class="fu">contr.identity</span>(x)))</span>
<span id="cb408-5"><a href="special-topics-on-reporting-simulation-results.html#cb408-5" tabindex="-1"></a></span>
<span id="cb408-6"><a href="special-topics-on-reporting-simulation-results.html#cb408-6" tabindex="-1"></a><span class="fu">colnames</span>(X)</span></code></pre></div>
<pre><code>##  [1] &quot;n_bar20&quot;               
##  [2] &quot;n_bar80&quot;               
##  [3] &quot;n_bar320&quot;              
##  [4] &quot;J5&quot;                    
##  [5] &quot;J20&quot;                   
##  [6] &quot;J80&quot;                   
##  [7] &quot;size_coef0&quot;            
##  [8] &quot;size_coef0.2&quot;          
##  [9] &quot;alpha0&quot;                
## [10] &quot;alpha0.5&quot;              
## [11] &quot;alpha0.8&quot;              
## [12] &quot;methodAgg&quot;             
## [13] &quot;methodLR&quot;              
## [14] &quot;methodMLM&quot;             
## [15] &quot;n_bar20:methodAgg&quot;     
## [16] &quot;n_bar80:methodAgg&quot;     
## [17] &quot;n_bar320:methodAgg&quot;    
## [18] &quot;n_bar20:methodLR&quot;      
## [19] &quot;n_bar80:methodLR&quot;      
## [20] &quot;n_bar320:methodLR&quot;     
## [21] &quot;n_bar20:methodMLM&quot;     
## [22] &quot;n_bar80:methodMLM&quot;     
## [23] &quot;n_bar320:methodMLM&quot;    
## [24] &quot;J5:methodAgg&quot;          
## [25] &quot;J20:methodAgg&quot;         
## [26] &quot;J80:methodAgg&quot;         
## [27] &quot;J5:methodLR&quot;           
## [28] &quot;J20:methodLR&quot;          
## [29] &quot;J80:methodLR&quot;          
## [30] &quot;J5:methodMLM&quot;          
## [31] &quot;J20:methodMLM&quot;         
## [32] &quot;J80:methodMLM&quot;         
## [33] &quot;size_coef0:methodAgg&quot;  
## [34] &quot;size_coef0.2:methodAgg&quot;
## [35] &quot;size_coef0:methodLR&quot;   
## [36] &quot;size_coef0.2:methodLR&quot; 
## [37] &quot;size_coef0:methodMLM&quot;  
## [38] &quot;size_coef0.2:methodMLM&quot;
## [39] &quot;alpha0:methodAgg&quot;      
## [40] &quot;alpha0.5:methodAgg&quot;    
## [41] &quot;alpha0.8:methodAgg&quot;    
## [42] &quot;alpha0:methodLR&quot;       
## [43] &quot;alpha0.5:methodLR&quot;     
## [44] &quot;alpha0.8:methodLR&quot;     
## [45] &quot;alpha0:methodMLM&quot;      
## [46] &quot;alpha0.5:methodMLM&quot;    
## [47] &quot;alpha0.8:methodMLM&quot;</code></pre>
<p>Now do the LASSO on this colinear mess:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="special-topics-on-reporting-simulation-results.html#cb410-1" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(X, sres_f<span class="sc">$</span>bias, <span class="at">alpha =</span> <span class="dv">1</span>)</span>
<span id="cb410-2"><a href="special-topics-on-reporting-simulation-results.html#cb410-2" tabindex="-1"></a><span class="fu">coef</span>(fit, <span class="at">s =</span> <span class="st">&quot;lambda.1se&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb410-3"><a href="special-topics-on-reporting-simulation-results.html#cb410-3" tabindex="-1"></a>  <span class="fu">as.matrix</span>() <span class="sc">%&gt;%</span></span>
<span id="cb410-4"><a href="special-topics-on-reporting-simulation-results.html#cb410-4" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb410-5"><a href="special-topics-on-reporting-simulation-results.html#cb410-5" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;term&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb410-6"><a href="special-topics-on-reporting-simulation-results.html#cb410-6" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">abs</span>(lambda<span class="fl">.1</span>se) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb410-7"><a href="special-topics-on-reporting-simulation-results.html#cb410-7" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">lambda.1se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.003</td>
</tr>
<tr class="even">
<td align="left">size_coef0</td>
<td align="right">-0.001</td>
</tr>
<tr class="odd">
<td align="left">size_coef0.2</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">alpha0.8</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">size_coef0.2:methodLR</td>
<td align="right">0.008</td>
</tr>
<tr class="even">
<td align="left">alpha0.8:methodLR</td>
<td align="right">0.006</td>
</tr>
</tbody>
</table>
<p>We can also extend to allow for pairwise interactions of simulation factors:</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="special-topics-on-reporting-simulation-results.html#cb411-1" tabindex="-1"></a>form2 <span class="ot">&lt;-</span> bias <span class="sc">~</span> ( n_bar <span class="sc">+</span> J <span class="sc">+</span> size_coef <span class="sc">+</span> ICC <span class="sc">+</span> alpha)<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> method</span></code></pre></div>
<p>Interestingly, we get basically the same result:</p>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">lambda.1se</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2:alpha0.8</td>
<td align="right">0.002</td>
</tr>
<tr class="odd">
<td align="left">size_coef0.2:methodLR</td>
<td align="right">0.002</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2:alpha0.8:methodLR</td>
<td align="right">0.021</td>
</tr>
</tbody>
</table>
</div>
<div id="fitting-models-to-each-method" class="section level4 hasAnchor" number="13.1.2.2">
<h4><span class="header-section-number">13.1.2.2</span> Fitting models to each method<a href="special-topics-on-reporting-simulation-results.html#fitting-models-to-each-method" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We know each method responds differently to the simulation factors, so we could fit three models, one for each method, and compare them.</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="special-topics-on-reporting-simulation-results.html#cb412-1" tabindex="-1"></a>meth <span class="ot">=</span> <span class="fu">c</span>( <span class="st">&quot;LR&quot;</span>, <span class="st">&quot;MLM&quot;</span>, <span class="st">&quot;Agg&quot;</span> )</span>
<span id="cb412-2"><a href="special-topics-on-reporting-simulation-results.html#cb412-2" tabindex="-1"></a>models <span class="ot">&lt;-</span> <span class="fu">map</span>( meth, <span class="cf">function</span>(m) {</span>
<span id="cb412-3"><a href="special-topics-on-reporting-simulation-results.html#cb412-3" tabindex="-1"></a>  M <span class="ot">&lt;-</span> <span class="fu">lm</span>( bias <span class="sc">~</span> (n_bar <span class="sc">+</span> J <span class="sc">+</span> size_coef <span class="sc">+</span> ICC <span class="sc">+</span> alpha)<span class="sc">^</span><span class="dv">2</span>, </span>
<span id="cb412-4"><a href="special-topics-on-reporting-simulation-results.html#cb412-4" tabindex="-1"></a>      <span class="at">data =</span> sres_f <span class="sc">%&gt;%</span> <span class="fu">filter</span>( method <span class="sc">==</span> m ) )</span>
<span id="cb412-5"><a href="special-topics-on-reporting-simulation-results.html#cb412-5" tabindex="-1"></a>  <span class="fu">tidy</span>( M )</span>
<span id="cb412-6"><a href="special-topics-on-reporting-simulation-results.html#cb412-6" tabindex="-1"></a>} )</span>
<span id="cb412-7"><a href="special-topics-on-reporting-simulation-results.html#cb412-7" tabindex="-1"></a></span>
<span id="cb412-8"><a href="special-topics-on-reporting-simulation-results.html#cb412-8" tabindex="-1"></a>models <span class="ot">&lt;-</span> </span>
<span id="cb412-9"><a href="special-topics-on-reporting-simulation-results.html#cb412-9" tabindex="-1"></a>  models <span class="sc">%&gt;%</span> </span>
<span id="cb412-10"><a href="special-topics-on-reporting-simulation-results.html#cb412-10" tabindex="-1"></a>  <span class="fu">set_names</span>(meth) <span class="sc">%&gt;%</span> </span>
<span id="cb412-11"><a href="special-topics-on-reporting-simulation-results.html#cb412-11" tabindex="-1"></a>  <span class="fu">bind_rows</span>( <span class="at">.id =</span> <span class="st">&quot;model&quot;</span> )</span>
<span id="cb412-12"><a href="special-topics-on-reporting-simulation-results.html#cb412-12" tabindex="-1"></a></span>
<span id="cb412-13"><a href="special-topics-on-reporting-simulation-results.html#cb412-13" tabindex="-1"></a>m_res <span class="ot">&lt;-</span> models <span class="sc">%&gt;%</span> </span>
<span id="cb412-14"><a href="special-topics-on-reporting-simulation-results.html#cb412-14" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>( model, term, estimate ) <span class="sc">%&gt;%</span></span>
<span id="cb412-15"><a href="special-topics-on-reporting-simulation-results.html#cb412-15" tabindex="-1"></a>  <span class="fu">pivot_wider</span>( <span class="at">names_from=</span><span class="st">&quot;model&quot;</span>, <span class="at">values_from=</span><span class="st">&quot;estimate&quot;</span> )</span>
<span id="cb412-16"><a href="special-topics-on-reporting-simulation-results.html#cb412-16" tabindex="-1"></a></span>
<span id="cb412-17"><a href="special-topics-on-reporting-simulation-results.html#cb412-17" tabindex="-1"></a>m_res <span class="sc">%&gt;%</span></span>
<span id="cb412-18"><a href="special-topics-on-reporting-simulation-results.html#cb412-18" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>( <span class="at">digits =</span> <span class="dv">2</span> )</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">LR</th>
<th align="right">MLM</th>
<th align="right">Agg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
<td align="right">0.01</td>
</tr>
<tr class="even">
<td align="left">n_bar80</td>
<td align="right">-0.01</td>
<td align="right">-0.01</td>
<td align="right">-0.01</td>
</tr>
<tr class="odd">
<td align="left">n_bar320</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">J20</td>
<td align="right">-0.01</td>
<td align="right">0.00</td>
<td align="right">-0.01</td>
</tr>
<tr class="odd">
<td align="left">J80</td>
<td align="right">-0.01</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2</td>
<td align="right">0.00</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">ICC</td>
<td align="right">0.01</td>
<td align="right">0.02</td>
<td align="right">0.01</td>
</tr>
<tr class="even">
<td align="left">alpha0.5</td>
<td align="right">-0.01</td>
<td align="right">-0.01</td>
<td align="right">-0.01</td>
</tr>
<tr class="odd">
<td align="left">alpha0.8</td>
<td align="right">-0.01</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">n_bar80:J20</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
</tr>
<tr class="odd">
<td align="left">n_bar320:J20</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">n_bar80:J80</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
</tr>
<tr class="odd">
<td align="left">n_bar320:J80</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">n_bar80:size_coef0.2</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">n_bar320:size_coef0.2</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">n_bar80:ICC</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">n_bar320:ICC</td>
<td align="right">-0.01</td>
<td align="right">0.00</td>
<td align="right">-0.01</td>
</tr>
<tr class="even">
<td align="left">n_bar80:alpha0.5</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">n_bar320:alpha0.5</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.01</td>
</tr>
<tr class="even">
<td align="left">n_bar80:alpha0.8</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">n_bar320:alpha0.8</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">J20:size_coef0.2</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">J80:size_coef0.2</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">-0.01</td>
</tr>
<tr class="even">
<td align="left">J20:ICC</td>
<td align="right">-0.01</td>
<td align="right">-0.02</td>
<td align="right">-0.01</td>
</tr>
<tr class="odd">
<td align="left">J80:ICC</td>
<td align="right">0.00</td>
<td align="right">-0.01</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">J20:alpha0.5</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
</tr>
<tr class="odd">
<td align="left">J80:alpha0.5</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
</tr>
<tr class="even">
<td align="left">J20:alpha0.8</td>
<td align="right">0.02</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
</tr>
<tr class="odd">
<td align="left">J80:alpha0.8</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2:ICC</td>
<td align="right">0.01</td>
<td align="right">-0.01</td>
<td align="right">0.01</td>
</tr>
<tr class="odd">
<td align="left">size_coef0.2:alpha0.5</td>
<td align="right">0.02</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">size_coef0.2:alpha0.8</td>
<td align="right">0.04</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">ICC:alpha0.5</td>
<td align="right">-0.01</td>
<td align="right">-0.01</td>
<td align="right">-0.01</td>
</tr>
<tr class="even">
<td align="left">ICC:alpha0.8</td>
<td align="right">0.00</td>
<td align="right">-0.01</td>
<td align="right">0.00</td>
</tr>
</tbody>
</table>
<p>Of course, this is table is hard to read. Better to instead plot the coefficients or use LASSO to simplify the model specification.</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="special-topics-on-reporting-simulation-results.html#cb413-1" tabindex="-1"></a>m_resL <span class="ot">&lt;-</span> m_res <span class="sc">%&gt;%</span></span>
<span id="cb413-2"><a href="special-topics-on-reporting-simulation-results.html#cb413-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>( <span class="sc">-</span>term, </span>
<span id="cb413-3"><a href="special-topics-on-reporting-simulation-results.html#cb413-3" tabindex="-1"></a>                <span class="at">names_to =</span> <span class="st">&quot;model&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;estimate&quot;</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb413-4"><a href="special-topics-on-reporting-simulation-results.html#cb413-4" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">term =</span> <span class="fu">factor</span>(term, <span class="at">levels =</span> <span class="fu">unique</span>(term)) ) <span class="sc">%&gt;%</span></span>
<span id="cb413-5"><a href="special-topics-on-reporting-simulation-results.html#cb413-5" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">has_nbar =</span> <span class="fu">str_detect</span>(term, <span class="st">&quot;n_bar&quot;</span> ),</span>
<span id="cb413-6"><a href="special-topics-on-reporting-simulation-results.html#cb413-6" tabindex="-1"></a>          <span class="at">has_J =</span> <span class="fu">str_detect</span>(term, <span class="st">&quot;J&quot;</span>),</span>
<span id="cb413-7"><a href="special-topics-on-reporting-simulation-results.html#cb413-7" tabindex="-1"></a>          <span class="at">has_size_coef =</span> <span class="fu">str_detect</span>(term, <span class="st">&quot;size_coef&quot;</span>),</span>
<span id="cb413-8"><a href="special-topics-on-reporting-simulation-results.html#cb413-8" tabindex="-1"></a>          <span class="at">has_ICC =</span> <span class="fu">str_detect</span>(term, <span class="st">&quot;ICC&quot;</span>),</span>
<span id="cb413-9"><a href="special-topics-on-reporting-simulation-results.html#cb413-9" tabindex="-1"></a>          <span class="at">has_alpha =</span> <span class="fu">str_detect</span>(term, <span class="st">&quot;alpha&quot;</span>) )</span>
<span id="cb413-10"><a href="special-topics-on-reporting-simulation-results.html#cb413-10" tabindex="-1"></a></span>
<span id="cb413-11"><a href="special-topics-on-reporting-simulation-results.html#cb413-11" tabindex="-1"></a><span class="fu">ggplot</span>( m_resL,</span>
<span id="cb413-12"><a href="special-topics-on-reporting-simulation-results.html#cb413-12" tabindex="-1"></a>        <span class="fu">aes</span>( <span class="at">x =</span> term, <span class="at">y =</span> estimate, </span>
<span id="cb413-13"><a href="special-topics-on-reporting-simulation-results.html#cb413-13" tabindex="-1"></a>             <span class="at">fill =</span> model, <span class="at">group =</span> model ) ) <span class="sc">+</span></span>
<span id="cb413-14"><a href="special-topics-on-reporting-simulation-results.html#cb413-14" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> has_nbar, <span class="at">scales=</span><span class="st">&quot;free_y&quot;</span> ) <span class="sc">+</span></span>
<span id="cb413-15"><a href="special-topics-on-reporting-simulation-results.html#cb413-15" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span> ) <span class="sc">+</span></span>
<span id="cb413-16"><a href="special-topics-on-reporting-simulation-results.html#cb413-16" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-242-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Here we see how LR stands out, but also how MLM stands out under different simulation factor combinations.
Staring at this provides some understanding of how the methods are similar, and dissimilar.</p>
<p>For another example we turn to the standard error.
Here we regress <span class="math inline">\(log(SE)\)</span> onto the coefficients, and we rescale ICC to be on a 5 point scale to control it’s relative coefficeint size to the dummy variables.
We regress <span class="math inline">\(log(SE)\)</span> and then exponentiate the coefficients to get the relative change in SE.
We can then interpret an exponentiated coefficient of, 0.64 for MLM for <code>n_bar80</code> as a 36% reduction of the standard error when we increase n_bar from the baseline of 20 to 80.</p>
<p>Here we make a plot like above, but with these relative changes:
<img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-243-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>This clearly shows that the methods are basically the same in terms of uncertainty estimation.
We also see some interesting trends, such as the impact of <code>n_bar</code> declines when ICC is higher (see the interaction terms at rigth of plot).</p>
</div>
</div>
</div>
<div id="using-regression-trees-to-find-important-factors" class="section level2 hasAnchor" number="13.2">
<h2><span class="header-section-number">13.2</span> Using regression trees to find important factors<a href="special-topics-on-reporting-simulation-results.html#using-regression-trees-to-find-important-factors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>With more complex experiments, where the various factors are interacting with each other in strange ways, it can be a bit tricky to decipher which factors are important and identify stable patterns.
Another approach we might use to explore is to fit a regression tree on the simulation results.</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="special-topics-on-reporting-simulation-results.html#cb414-1" tabindex="-1"></a><span class="fu">source</span>( here<span class="sc">::</span><span class="fu">here</span>( <span class="st">&quot;code/create_analysis_tree.R&quot;</span> ) )</span></code></pre></div>
<pre><code>## Loading required package: rpart</code></pre>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="special-topics-on-reporting-simulation-results.html#cb416-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">4344443</span>)</span>
<span id="cb416-2"><a href="special-topics-on-reporting-simulation-results.html#cb416-2" tabindex="-1"></a><span class="fu">create_analysis_tree</span>( sres_f,</span>
<span id="cb416-3"><a href="special-topics-on-reporting-simulation-results.html#cb416-3" tabindex="-1"></a>                      <span class="at">outcome =</span> <span class="st">&quot;bias&quot;</span>,</span>
<span id="cb416-4"><a href="special-topics-on-reporting-simulation-results.html#cb416-4" tabindex="-1"></a>                      <span class="at">predictor_vars =</span> <span class="fu">c</span>(<span class="st">&quot;method&quot;</span>, <span class="st">&quot;n_bar&quot;</span>, <span class="st">&quot;J&quot;</span>,</span>
<span id="cb416-5"><a href="special-topics-on-reporting-simulation-results.html#cb416-5" tabindex="-1"></a>                                         <span class="st">&quot;size_coef&quot;</span>, <span class="st">&quot;ICC&quot;</span>, <span class="st">&quot;alpha&quot;</span>),</span>
<span id="cb416-6"><a href="special-topics-on-reporting-simulation-results.html#cb416-6" tabindex="-1"></a>                      <span class="at">tree_title =</span> <span class="st">&quot;Cluster RCT Bias Analysis Tree&quot;</span> )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-244-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We will not walk through the tree code, but you can review it <a href="code/create_analysis_tree.R">here</a>.
This function is a wrapper of the <code>rpart</code> package.</p>
<p>The default pruning is based on a cross-fitting evaluation, and our sample size is not too terribly high (just the number of simulation scenarios fit).
Rerunning the code with a different seed can give a different tree.
In general, it might be worth forcibly simplifying the tree.
Trees are built greedily, so forcibly trimming often gives you the big things.
For example:</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="special-topics-on-reporting-simulation-results.html#cb417-1" tabindex="-1"></a><span class="fu">create_analysis_tree</span>( sres_f,</span>
<span id="cb417-2"><a href="special-topics-on-reporting-simulation-results.html#cb417-2" tabindex="-1"></a>                      <span class="at">outcome =</span> <span class="st">&quot;bias&quot;</span>,</span>
<span id="cb417-3"><a href="special-topics-on-reporting-simulation-results.html#cb417-3" tabindex="-1"></a>                      <span class="at">predictor_vars =</span> <span class="fu">c</span>(<span class="st">&quot;method&quot;</span>, <span class="st">&quot;n_bar&quot;</span>, <span class="st">&quot;J&quot;</span>,</span>
<span id="cb417-4"><a href="special-topics-on-reporting-simulation-results.html#cb417-4" tabindex="-1"></a>                                         <span class="st">&quot;size_coef&quot;</span>, <span class="st">&quot;ICC&quot;</span>, <span class="st">&quot;alpha&quot;</span>),</span>
<span id="cb417-5"><a href="special-topics-on-reporting-simulation-results.html#cb417-5" tabindex="-1"></a>                      <span class="at">tree_title =</span> <span class="st">&quot;Smaller Cluster RCT Bias Analysis Tree&quot;</span> )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-245-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>A very straightforward story: if <code>size_coef</code> is not 0, we are using LR, and alpha is large, then we have large bias.</p>
<p>We can also zero in on specific methods to understand how they engage with the simulation factors, like so:</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="special-topics-on-reporting-simulation-results.html#cb418-1" tabindex="-1"></a><span class="fu">create_analysis_tree</span>( <span class="fu">filter</span>( sres_f, method<span class="sc">==</span><span class="st">&quot;LR&quot;</span> ),</span>
<span id="cb418-2"><a href="special-topics-on-reporting-simulation-results.html#cb418-2" tabindex="-1"></a>                      <span class="at">outcome =</span> <span class="st">&quot;bias&quot;</span>,</span>
<span id="cb418-3"><a href="special-topics-on-reporting-simulation-results.html#cb418-3" tabindex="-1"></a>                      <span class="at">min_leaves =</span> <span class="dv">4</span>,</span>
<span id="cb418-4"><a href="special-topics-on-reporting-simulation-results.html#cb418-4" tabindex="-1"></a>                      <span class="at">predictor_vars =</span> <span class="fu">c</span>(<span class="st">&quot;n_bar&quot;</span>, <span class="st">&quot;J&quot;</span>,</span>
<span id="cb418-5"><a href="special-topics-on-reporting-simulation-results.html#cb418-5" tabindex="-1"></a>                                         <span class="st">&quot;size_coef&quot;</span>, <span class="st">&quot;ICC&quot;</span>, <span class="st">&quot;alpha&quot;</span>),</span>
<span id="cb418-6"><a href="special-topics-on-reporting-simulation-results.html#cb418-6" tabindex="-1"></a>                      <span class="at">tree_title =</span> <span class="st">&quot;Drivers of Bias for LR method&quot;</span> )</span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-246-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>We force more leaves to get at some more nuance.
We again immediately see, for the LR method, that bias is large when we have non-zero size coefficient <em>and</em> large alpha value.
Then, when <span class="math inline">\(J\)</span> is small, bias is even larger.</p>
<p>Generally we would not use a tree like this for a final reporting of results, but they can be important tools for <em>understanding</em> your results, which leads to how to make and select more conventional figures for final reporting.</p>
</div>
<div id="analyzing-results-with-few-iterations-per-scenario" class="section level2 hasAnchor" number="13.3">
<h2><span class="header-section-number">13.3</span> Analyzing results with few iterations per scenario<a href="special-topics-on-reporting-simulation-results.html#analyzing-results-with-few-iterations-per-scenario" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When your simulation iterations are expensive to run (i.e., when each model fitting takes several minutes), then running thousands of iterations for many scenarios may not be computationally feasible.
But running simulations with a smaller number of iterations will yield very noisy estimates of estimator performance.
For a given scenario, if the methods being evaluated are substantially different, then the main patterns in performance might become evident even with only a few iterations. More generally, however, the Monte Carlo Standard Errors (MCSEs) may be so large that you will have a hard time discriminating between systematic patterns and noise.</p>
<p>One tool to handle this is aggregation: if you use visualization methods that average across scenarios, those averages will have more precise estimates of (average) performance.
Do not, by contrast, trust the bundling approaches–the MCSEs will make your boxes wider, and give the impression that there is more variation across scenarios than there really is.
Regression approaches can be particularly useful: the regressions will effectively average performance across scenario, and give summaries of overall trends.
You can even fit random effects regression, specifically accounting for the noise in the scenario-specific performance measures.
For more on this approach see <span class="citation">Gilbert and Miratrix (<a href="#ref-gilbert2024multilevel">2024</a>)</span>.</p>
<div id="example-clusterrct-with-only-100-replicates-per-scenario" class="section level3 hasAnchor" number="13.3.1">
<h3><span class="header-section-number">13.3.1</span> Example: ClusterRCT with only 100 replicates per scenario<a href="special-topics-on-reporting-simulation-results.html#example-clusterrct-with-only-100-replicates-per-scenario" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the prior chapter we analyzed the results of our cluster RCT simulation with 1000 replicates per scenario.
But say we only had 100 per scenario.
Using the prior chapter as a guide, we recreate some of the plots to show how MCSE can distort the picture of what is going on.</p>
<p>First, we look at our single plot of the raw results.
Before we plot, however, we calculate MCSEs and add them to the plot as error bars.</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="special-topics-on-reporting-simulation-results.html#cb419-1" tabindex="-1"></a>sres_sub <span class="ot">&lt;-</span> </span>
<span id="cb419-2"><a href="special-topics-on-reporting-simulation-results.html#cb419-2" tabindex="-1"></a>  sres <span class="sc">%&gt;%</span></span>
<span id="cb419-3"><a href="special-topics-on-reporting-simulation-results.html#cb419-3" tabindex="-1"></a>  <span class="fu">filter</span>( n_bar <span class="sc">==</span> <span class="dv">320</span>, J <span class="sc">==</span> <span class="dv">20</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb419-4"><a href="special-topics-on-reporting-simulation-results.html#cb419-4" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">bias.mcse =</span> SE <span class="sc">/</span> <span class="fu">sqrt</span>( R ) )</span>
<span id="cb419-5"><a href="special-topics-on-reporting-simulation-results.html#cb419-5" tabindex="-1"></a></span>
<span id="cb419-6"><a href="special-topics-on-reporting-simulation-results.html#cb419-6" tabindex="-1"></a><span class="fu">ggplot</span>( sres_sub, <span class="fu">aes</span>( <span class="fu">as.factor</span>(alpha), bias, </span>
<span id="cb419-7"><a href="special-topics-on-reporting-simulation-results.html#cb419-7" tabindex="-1"></a>                       <span class="at">col=</span>method, <span class="at">pch=</span>method, <span class="at">group=</span>method ) ) <span class="sc">+</span></span>
<span id="cb419-8"><a href="special-topics-on-reporting-simulation-results.html#cb419-8" tabindex="-1"></a>  <span class="fu">facet_grid</span>( size_coef <span class="sc">~</span> ICC, <span class="at">labeller =</span> label_both ) <span class="sc">+</span></span>
<span id="cb419-9"><a href="special-topics-on-reporting-simulation-results.html#cb419-9" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb419-10"><a href="special-topics-on-reporting-simulation-results.html#cb419-10" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>( <span class="at">ymin =</span> bias <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>bias.mcse, </span>
<span id="cb419-11"><a href="special-topics-on-reporting-simulation-results.html#cb419-11" tabindex="-1"></a>                      <span class="at">ymax =</span> bias <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>bias.mcse ), </span>
<span id="cb419-12"><a href="special-topics-on-reporting-simulation-results.html#cb419-12" tabindex="-1"></a>                 <span class="at">width =</span> <span class="dv">0</span> ) <span class="sc">+</span></span>
<span id="cb419-13"><a href="special-topics-on-reporting-simulation-results.html#cb419-13" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb419-14"><a href="special-topics-on-reporting-simulation-results.html#cb419-14" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept =</span> <span class="dv">0</span> ) <span class="sc">+</span></span>
<span id="cb419-15"><a href="special-topics-on-reporting-simulation-results.html#cb419-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-247-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Aggregation should smooth out some of our uncertainty.
When we aggregate across 9 scenarios, our number of replicates goes from 100 to 900; our MCSEs should be about a third the size.
Here is our aggregated bias plot:</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="special-topics-on-reporting-simulation-results.html#cb420-1" tabindex="-1"></a>sres_sub2 <span class="ot">&lt;-</span> </span>
<span id="cb420-2"><a href="special-topics-on-reporting-simulation-results.html#cb420-2" tabindex="-1"></a>  sres <span class="sc">%&gt;%</span></span>
<span id="cb420-3"><a href="special-topics-on-reporting-simulation-results.html#cb420-3" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">bias.mcse =</span> SE <span class="sc">/</span> <span class="fu">sqrt</span>( R ) ) <span class="sc">%&gt;%</span></span>
<span id="cb420-4"><a href="special-topics-on-reporting-simulation-results.html#cb420-4" tabindex="-1"></a>  <span class="fu">group_by</span>( n_bar, J ) <span class="sc">%&gt;%</span></span>
<span id="cb420-5"><a href="special-topics-on-reporting-simulation-results.html#cb420-5" tabindex="-1"></a>  <span class="fu">summarise</span>( </span>
<span id="cb420-6"><a href="special-topics-on-reporting-simulation-results.html#cb420-6" tabindex="-1"></a>    <span class="at">bias =</span> <span class="fu">mean</span>( bias ),</span>
<span id="cb420-7"><a href="special-topics-on-reporting-simulation-results.html#cb420-7" tabindex="-1"></a>    <span class="at">bias.mcse =</span> <span class="fu">sqrt</span>( <span class="fu">mean</span>( bias.mcse<span class="sc">^</span><span class="dv">2</span> )) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb420-8"><a href="special-topics-on-reporting-simulation-results.html#cb420-8" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span> </span>
<span id="cb420-9"><a href="special-topics-on-reporting-simulation-results.html#cb420-9" tabindex="-1"></a>  )</span>
<span id="cb420-10"><a href="special-topics-on-reporting-simulation-results.html#cb420-10" tabindex="-1"></a></span>
<span id="cb420-11"><a href="special-topics-on-reporting-simulation-results.html#cb420-11" tabindex="-1"></a><span class="fu">ggplot</span>( sres_sub, <span class="fu">aes</span>( <span class="fu">as.factor</span>(alpha), bias, </span>
<span id="cb420-12"><a href="special-topics-on-reporting-simulation-results.html#cb420-12" tabindex="-1"></a>                       <span class="at">col=</span>method, <span class="at">pch=</span>method, <span class="at">group=</span>method ) ) <span class="sc">+</span></span>
<span id="cb420-13"><a href="special-topics-on-reporting-simulation-results.html#cb420-13" tabindex="-1"></a>  <span class="fu">facet_grid</span>( size_coef <span class="sc">~</span> ICC, <span class="at">labeller =</span> label_both ) <span class="sc">+</span></span>
<span id="cb420-14"><a href="special-topics-on-reporting-simulation-results.html#cb420-14" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb420-15"><a href="special-topics-on-reporting-simulation-results.html#cb420-15" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>( <span class="at">ymin =</span> bias <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>bias.mcse, </span>
<span id="cb420-16"><a href="special-topics-on-reporting-simulation-results.html#cb420-16" tabindex="-1"></a>                      <span class="at">ymax =</span> bias <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>bias.mcse ), </span>
<span id="cb420-17"><a href="special-topics-on-reporting-simulation-results.html#cb420-17" tabindex="-1"></a>                 <span class="at">width =</span> <span class="dv">0</span> ) <span class="sc">+</span></span>
<span id="cb420-18"><a href="special-topics-on-reporting-simulation-results.html#cb420-18" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb420-19"><a href="special-topics-on-reporting-simulation-results.html#cb420-19" tabindex="-1"></a>  <span class="fu">geom_hline</span>( <span class="at">yintercept =</span> <span class="dv">0</span> ) <span class="sc">+</span></span>
<span id="cb420-20"><a href="special-topics-on-reporting-simulation-results.html#cb420-20" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code></pre></div>
<p><img src="Designing-Simulations-in-R_files/figure-html/unnamed-chunk-248-1.png" width="75%" style="display: block; margin: auto;" /></p>
<p>To get aggregate MCSE, we aggregate our scenario-specific MCSEs as follows:
<span class="math display">\[ MCSE_{agg} = \sqrt{ \frac{1}{K^2} \sum_{k=1}^{K} MCSE_k^2 } \]</span></p>
<p>where <span class="math inline">\(MCSE_i\)</span> is the Monte Carlo Standard Error for scenario <span class="math inline">\(i\)</span>, and <span class="math inline">\(k\)</span> is the number of scenarios.
Assuming a collection of estimates are independent, the overall <span class="math inline">\(SE^2\)</span> of the average is the average <span class="math inline">\(SE^2\)</span> divided by <span class="math inline">\(K\)</span>.</p>
<p>Even with the additional replicates per point, we see noticable noise in our plot.
Note how our three methods track each other up and down in the zero-bias scenarios, giving a sense of a shared bias in some cases.
This is because all methods are analyzing the same set of datasets; they have shared uncertainty.
This uncertainty can be deceptive.
It can also be a boon: if we are explicitly comparing the performance of one method vs another, the shared uncertainty can be subtracted out, similar to what happens in a blocked experiment <span class="citation">(<a href="#ref-gilbert2024multilevel">Gilbert and Miratrix 2024</a>)</span>.</p>
<p>Here we fit a multilevel model to the data.</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="special-topics-on-reporting-simulation-results.html#cb421-1" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb421-2"><a href="special-topics-on-reporting-simulation-results.html#cb421-2" tabindex="-1"></a>sub_res <span class="ot">&lt;-</span></span>
<span id="cb421-3"><a href="special-topics-on-reporting-simulation-results.html#cb421-3" tabindex="-1"></a>  res <span class="sc">%&gt;%</span> </span>
<span id="cb421-4"><a href="special-topics-on-reporting-simulation-results.html#cb421-4" tabindex="-1"></a>  <span class="fu">filter</span>( runID <span class="sc">&lt;=</span> <span class="dv">100</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb421-5"><a href="special-topics-on-reporting-simulation-results.html#cb421-5" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb421-6"><a href="special-topics-on-reporting-simulation-results.html#cb421-6" tabindex="-1"></a>    <span class="at">error =</span> ATE_hat <span class="sc">-</span> ATE,</span>
<span id="cb421-7"><a href="special-topics-on-reporting-simulation-results.html#cb421-7" tabindex="-1"></a>    <span class="at">simID =</span> <span class="fu">paste</span>(n_bar, J, size_coef, ICC, alpha, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>),</span>
<span id="cb421-8"><a href="special-topics-on-reporting-simulation-results.html#cb421-8" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">as.factor</span>(J),</span>
<span id="cb421-9"><a href="special-topics-on-reporting-simulation-results.html#cb421-9" tabindex="-1"></a>    <span class="at">n_bar =</span> <span class="fu">as.factor</span>(n_bar),</span>
<span id="cb421-10"><a href="special-topics-on-reporting-simulation-results.html#cb421-10" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fu">as.factor</span>(alpha),</span>
<span id="cb421-11"><a href="special-topics-on-reporting-simulation-results.html#cb421-11" tabindex="-1"></a>    <span class="at">size_coef =</span> <span class="fu">as.factor</span>(size_coef)</span>
<span id="cb421-12"><a href="special-topics-on-reporting-simulation-results.html#cb421-12" tabindex="-1"></a>  )</span>
<span id="cb421-13"><a href="special-topics-on-reporting-simulation-results.html#cb421-13" tabindex="-1"></a></span>
<span id="cb421-14"><a href="special-topics-on-reporting-simulation-results.html#cb421-14" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">lmer</span>( </span>
<span id="cb421-15"><a href="special-topics-on-reporting-simulation-results.html#cb421-15" tabindex="-1"></a>  error <span class="sc">~</span> method<span class="sc">*</span>(J <span class="sc">+</span> n_bar <span class="sc">+</span> ICC <span class="sc">+</span> alpha <span class="sc">+</span> size_coef) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>runID) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>simID),</span>
<span id="cb421-16"><a href="special-topics-on-reporting-simulation-results.html#cb421-16" tabindex="-1"></a>  <span class="at">data =</span> sub_res </span>
<span id="cb421-17"><a href="special-topics-on-reporting-simulation-results.html#cb421-17" tabindex="-1"></a>)</span>
<span id="cb421-18"><a href="special-topics-on-reporting-simulation-results.html#cb421-18" tabindex="-1"></a>arm<span class="sc">::</span><span class="fu">display</span>(M)</span></code></pre></div>
<pre><code>## lmer(formula = error ~ method * (J + n_bar + ICC + alpha + size_coef) + 
##     (1 | runID) + (1 | simID), data = sub_res)
##                        coef.est coef.se
## (Intercept)            -0.09     0.05  
## methodLR               -0.02     0.05  
## methodMLM               0.00     0.05  
## J20                     0.05     0.04  
## J80                     0.04     0.04  
## n_bar80                 0.06     0.04  
## n_bar320                0.04     0.04  
## ICC                    -0.03     0.06  
## alpha0.5               -0.01     0.04  
## alpha0.8                0.04     0.04  
## size_coef0.2            0.04     0.03  
## methodLR:J20            0.01     0.04  
## methodMLM:J20           0.00     0.04  
## methodLR:J80            0.02     0.04  
## methodMLM:J80           0.00     0.04  
## methodLR:n_bar80        0.01     0.04  
## methodMLM:n_bar80       0.00     0.04  
## methodLR:n_bar320       0.00     0.04  
## methodMLM:n_bar320      0.00     0.04  
## methodLR:ICC           -0.01     0.06  
## methodMLM:ICC          -0.01     0.06  
## methodLR:alpha0.5       0.00     0.04  
## methodMLM:alpha0.5      0.00     0.04  
## methodLR:alpha0.8       0.01     0.04  
## methodMLM:alpha0.8      0.00     0.04  
## methodLR:size_coef0.2   0.01     0.03  
## methodMLM:size_coef0.2  0.00     0.03  
## 
## Error terms:
##  Groups   Name        Std.Dev.
##  simID    (Intercept) 0.19    
##  runID    (Intercept) 0.02    
##  Residual             0.33    
## ---
## number of obs: 2430, groups: simID, 270; runID, 3
## AIC = 2046.9, DIC = 1712.4
## deviance = 1849.6</code></pre>
<p>We can look at the random effects:</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="special-topics-on-reporting-simulation-results.html#cb423-1" tabindex="-1"></a>ranef_vars <span class="ot">&lt;-</span></span>
<span id="cb423-2"><a href="special-topics-on-reporting-simulation-results.html#cb423-2" tabindex="-1"></a>  <span class="fu">as.data.frame</span>(<span class="fu">VarCorr</span>(M)) <span class="sc">%&gt;%</span></span>
<span id="cb423-3"><a href="special-topics-on-reporting-simulation-results.html#cb423-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="at">grp =</span> grp, <span class="at">sd =</span> vcov) <span class="sc">%&gt;%</span></span>
<span id="cb423-4"><a href="special-topics-on-reporting-simulation-results.html#cb423-4" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">sd =</span> <span class="fu">sqrt</span>(sd),</span>
<span id="cb423-5"><a href="special-topics-on-reporting-simulation-results.html#cb423-5" tabindex="-1"></a>          <span class="at">ICC =</span> sd<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(sd<span class="sc">^</span><span class="dv">2</span> ) )</span>
<span id="cb423-6"><a href="special-topics-on-reporting-simulation-results.html#cb423-6" tabindex="-1"></a></span>
<span id="cb423-7"><a href="special-topics-on-reporting-simulation-results.html#cb423-7" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(ranef_vars, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">grp</th>
<th align="right">sd</th>
<th align="right">ICC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">simID</td>
<td align="right">0.19</td>
<td align="right">0.24</td>
</tr>
<tr class="even">
<td align="left">runID</td>
<td align="right">0.02</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td align="left">Residual</td>
<td align="right">0.33</td>
<td align="right">0.75</td>
</tr>
</tbody>
</table>
<p>The above model is a multilevel model that allows us to estimate how bias varies with method and simulation factor, while accounting for the uncertainty in the simulation.
The random variation for <code>simID</code> captures unexplained variation due to the interactions of the simulation factors. We see a large value, indicating that many interactions are present, and our main effects are not fully capturing all trends.</p>
</div>
</div>
<div id="analyzing-results-when-some-trials-have-failed" class="section level2 hasAnchor" number="13.4">
<h2><span class="header-section-number">13.4</span> Analyzing results when some trials have failed<a href="special-topics-on-reporting-simulation-results.html#analyzing-results-when-some-trials-have-failed" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If the method you are evaluating sometimes fail, then when they tend to fail is something to investigate in its own right.
Ideally, failure would not be too common, meaning we could drop those trials, or keep them, without really impacting our overall results.
But one should at least know what one is ignoring.</p>
<p>For example, in our cluster RCT running example, we know that our multilevel model, at least sometimes, has convergence issues.
We also know that ICC is an important driver of when these convergence issues might occur, so we can explore how often we get a convergence message by ICC level:</p>
<!-- JEP: The results seem to be missing the `message` variable, so these calculations are broken. -->
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="special-topics-on-reporting-simulation-results.html#cb424-1" tabindex="-1"></a>res <span class="sc">%&gt;%</span> </span>
<span id="cb424-2"><a href="special-topics-on-reporting-simulation-results.html#cb424-2" tabindex="-1"></a>  <span class="fu">group_by</span>( method, ICC ) <span class="sc">%&gt;%</span></span>
<span id="cb424-3"><a href="special-topics-on-reporting-simulation-results.html#cb424-3" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="at">message =</span> <span class="fu">mean</span>( message ) ) <span class="sc">%&gt;%</span></span>
<span id="cb424-4"><a href="special-topics-on-reporting-simulation-results.html#cb424-4" tabindex="-1"></a>  <span class="fu">pivot_wider</span>( <span class="at">names_from =</span> <span class="st">&quot;method&quot;</span>, <span class="at">values_from=</span><span class="st">&quot;message&quot;</span> )</span></code></pre></div>
<pre><code>## Warning: There were 15 warnings in `summarise()`.
## The first warning was:
## ℹ In argument: `message = mean(message)`.
## ℹ In group 1: `method = &quot;Agg&quot;` `ICC = 0`.
## Caused by warning in `mean.default()`:
## ! argument is not numeric or logical: returning NA
## ℹ Run `dplyr::last_dplyr_warnings()` to see the
##   14 remaining warnings.</code></pre>
<pre><code>## # A tibble: 5 × 4
##     ICC   Agg    LR   MLM
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   0      NA    NA    NA
## 2   0.2    NA    NA    NA
## 3   0.4    NA    NA    NA
## 4   0.6    NA    NA    NA
## 5   0.8    NA    NA    NA</code></pre>
<p>We see that when the ICC is 0 we get a lot of convergence issues, but as soon as we pull away from 0 it drops off considerably.
At this point we might decide to drop those runs with a message or keep them.
In this case, we decide to keep.
It should not matter much, except possibly when ICC = 0, and we know the convergence issues are driven by trying to estimate a 0 variance, and thus is in some sense expected.
Furthermore, we know people using these methods would likely ignore these messages, and thus we are faithfully capturing how these methods would be used in practice.
We might eventually, however, want to do a separate analysis of the ICC = 0 context to see if the MLM approach is actually falling apart, or if it is just throwing warnings.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-gilbert2024multilevel" class="csl-entry">
Gilbert, Joshua, and Luke Miratrix. 2024. <span>“Multilevel Metamodels: A Novel Approach to Enhance Efficiency and Generalizability in Monte Carlo Simulation Studies.”</span> <em>arXiv Preprint arXiv:2401.07294</em>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="building-good-visualizations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="case-study-comparing-different-estimators.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/jepusto/Designing-Simulations-in-R/edit/master/075-special-topics-on-reporting.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["Designing-Simulations-in-R.pdf", "Designing-Simulations-in-R.epub"],
  "search": {
    "engine": "lunr",
    "options": null
  },
  "toc": {
    "collapse": "section",
    "scroll_highlight": true
  },
  "toolbar": {
    "position": "fixed"
  },
  "info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
